2021-08-17 07:35:26,882 INFO  org.apache.activemq.transport.amqp.AmqpTestSupport.setUp(AmqpTestSupport.java:76) ========== start testSelectingOnActiveMQMessageID ==========
2021-08-17 07:35:26,883 DEBUG org.apache.activemq.transport.amqp.AmqpTestSupport.addTranportConnectors(AmqpTestSupport.java:133) Using openwire port 44617
2021-08-17 07:35:26,883 DEBUG org.apache.activemq.transport.amqp.AmqpTestSupport.addTranportConnectors(AmqpTestSupport.java:139) Using amqp port 46795
2021-08-17 07:35:26,884 WARN  org.apache.activemq.broker.BrokerService.checkMemorySystemUsageLimits(BrokerService.java:2159) Memory Usage for the Broker (1024mb) is more than the maximum available for the JVM: 472 mb - resetting to 70% of maximum available: 330
2021-08-17 07:35:26,884 INFO  org.apache.activemq.broker.BrokerService.doStartPersistenceAdapter(BrokerService.java:669) Using Persistence Adapter: KahaDB:[/data/activemq/activemq-main-log-adjust/activemq-amqp/target/activemq-data/testSelectingOnActiveMQMessageID]
2021-08-17 07:35:26,885 DEBUG org.apache.activemq.store.kahadb.KahaDBStore.configureMetadata(KahaDBStore.java:211) Store OpenWire version configured as: 11
2021-08-17 07:35:26,914 TRACE org.apache.activemq.store.kahadb.disk.journal.Journal.start(Journal.java:360) Startup took: 29 ms
2021-08-17 07:35:26,914 TRACE org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:111) Shutdown of ExecutorService: java.util.concurrent.ScheduledThreadPoolExecutor@4c7e978c[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 0] with await termination: 4000 millis
2021-08-17 07:35:26,915 DEBUG org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:155) Shutdown of ExecutorService: java.util.concurrent.ScheduledThreadPoolExecutor@4c7e978c[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true took: 0.001 seconds.
2021-08-17 07:35:26,915 INFO  org.apache.activemq.store.kahadb.MessageDatabase.load(MessageDatabase.java:501) Persistence store purged.
2021-08-17 07:35:26,941 TRACE org.apache.activemq.store.kahadb.disk.journal.Journal.start(Journal.java:360) Startup took: 26 ms
2021-08-17 07:35:27,023 DEBUG org.apache.activemq.store.kahadb.disk.index.BTreeIndex.load(BTreeIndex.java:151) loading
2021-08-17 07:35:27,075 INFO  org.apache.activemq.store.kahadb.plist.PListStoreImpl.doStart(PListStoreImpl.java:371) PListStore:[/data/activemq/activemq-main-log-adjust/activemq-amqp/activemq-data/localhost/tmp_storage] started
2021-08-17 07:35:27,076 INFO  org.apache.activemq.broker.BrokerService.doStartBroker(BrokerService.java:732) Apache ActiveMQ 5.17.0-SNAPSHOT (localhost, ID:7d8ed0b1a3a5-37387-1629213796302-0:505) is starting
2021-08-17 07:35:27,076 DEBUG org.apache.activemq.broker.TransportConnector.getPublishableConnectString(TransportConnector.java:285) Publishing: tcp://7d8ed0b1a3a5:44617 for broker transport URI: tcp://7d8ed0b1a3a5:44617
2021-08-17 07:35:27,077 DEBUG org.apache.activemq.broker.TransportConnector.getPublishableConnectString(TransportConnector.java:285) Publishing: amqp://7d8ed0b1a3a5:46795 for broker transport URI: amqp://7d8ed0b1a3a5:46795?transport.tcpNoDelay=true&transport.transformer=jms
2021-08-17 07:35:27,077 INFO  org.apache.activemq.transport.TransportServerThreadSupport.doStart(TransportServerThreadSupport.java:69) Listening for connections at: tcp://7d8ed0b1a3a5:44617
2021-08-17 07:35:27,077 INFO  org.apache.activemq.broker.TransportConnector.start(TransportConnector.java:266) Connector tcp://7d8ed0b1a3a5:44617 started
2021-08-17 07:35:27,078 INFO  org.apache.activemq.transport.TransportServerThreadSupport.doStart(TransportServerThreadSupport.java:69) Listening for connections at: amqp://7d8ed0b1a3a5:46795?transport.tcpNoDelay=true&transport.transformer=jms
2021-08-17 07:35:27,078 INFO  org.apache.activemq.broker.TransportConnector.start(TransportConnector.java:266) Connector amqp://7d8ed0b1a3a5:46795?transport.tcpNoDelay=true&transport.transformer=jms started
2021-08-17 07:35:27,078 INFO  org.apache.activemq.broker.BrokerService.doStartBroker(BrokerService.java:759) Apache ActiveMQ 5.17.0-SNAPSHOT (localhost, ID:7d8ed0b1a3a5-37387-1629213796302-0:505) started
2021-08-17 07:35:27,078 INFO  org.apache.activemq.broker.BrokerService.doStartBroker(BrokerService.java:760) For help or more information please see: http://activemq.apache.org
2021-08-17 07:35:27,079 DEBUG org.apache.activemq.transport.amqp.AMQ4563Test.createAMQConnection(AMQ4563Test.java:155) >>> In createConnection using port 44617
2021-08-17 07:35:27,080 TRACE org.apache.activemq.transport.AbstractInactivityMonitor.startConnectCheckTask(AbstractInactivityMonitor.java:409) Starting connection check task for: tcp://7d8ed0b1a3a5:44617
2021-08-17 07:35:27,081 TRACE org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:211) TCP consumer thread for tcp://7d8ed0b1a3a5/172.17.0.2:44617@35578 starting
2021-08-17 07:35:27,081 DEBUG org.apache.activemq.transport.WireFormatNegotiator.sendWireFormat(WireFormatNegotiator.java:82) Sending: WireFormatInfo { version=12, properties={StackTraceEnabled=true, PlatformDetails=Java, CacheEnabled=true, Host=7d8ed0b1a3a5, TcpNoDelayEnabled=true, SizePrefixDisabled=false, CacheSize=1024, ProviderName=ActiveMQ, TightEncodingEnabled=true, MaxFrameSize=9223372036854775807, MaxInactivityDuration=30000, MaxInactivityDurationInitalDelay=10000, ProviderVersion=5.17.0-SNAPSHOT}, magic=[A,c,t,i,v,e,M,Q]}
2021-08-17 07:35:27,081 DEBUG org.apache.activemq.thread.TaskRunnerFactory.init(TaskRunnerFactory.java:98) Initialized TaskRunnerFactory[ActiveMQ BrokerService[localhost] Task] using ExecutorService: java.util.concurrent.ThreadPoolExecutor@742509d2[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
2021-08-17 07:35:27,081 TRACE org.apache.activemq.thread.TaskRunnerFactory.execute(TaskRunnerFactory.java:170) Execute[ActiveMQ BrokerService[localhost] Task] runnable: org.apache.activemq.broker.TransportConnector$1$1@7ae2f926
2021-08-17 07:35:27,081 TRACE org.apache.activemq.thread.TaskRunnerFactory$1.newThread(TaskRunnerFactory.java:206) Created thread[ActiveMQ BrokerService[localhost] Task-1]: Thread[ActiveMQ BrokerService[localhost] Task-1,5,main]
2021-08-17 07:35:27,082 TRACE org.apache.activemq.transport.AbstractInactivityMonitor.startConnectCheckTask(AbstractInactivityMonitor.java:409) Starting connection check task for: tcp:///172.17.0.2:35578@44617
2021-08-17 07:35:27,082 DEBUG org.apache.activemq.transport.WireFormatNegotiator.sendWireFormat(WireFormatNegotiator.java:82) Sending: WireFormatInfo { version=12, properties={TcpNoDelayEnabled=true, SizePrefixDisabled=false, CacheSize=1024, ProviderName=ActiveMQ, StackTraceEnabled=true, PlatformDetails=Java, CacheEnabled=true, TightEncodingEnabled=true, MaxFrameSize=9223372036854775807, MaxInactivityDuration=30000, MaxInactivityDurationInitalDelay=10000, ProviderVersion=5.17.0-SNAPSHOT}, magic=[A,c,t,i,v,e,M,Q]}
2021-08-17 07:35:27,082 TRACE org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:211) TCP consumer thread for tcp:///172.17.0.2:35578@44617 starting
2021-08-17 07:35:27,082 TRACE org.apache.activemq.thread.TaskRunnerFactory$1.newThread(TaskRunnerFactory.java:206) Created thread[ActiveMQ BrokerService[localhost] Task-2]: Thread[ActiveMQ BrokerService[localhost] Task-2,5,main]
2021-08-17 07:35:27,082 TRACE org.apache.activemq.transport.AbstractInactivityMonitor.stopConnectCheckTask(AbstractInactivityMonitor.java:433) Stopping connection check task for: tcp://7d8ed0b1a3a5/172.17.0.2:44617@35578
2021-08-17 07:35:27,082 TRACE org.apache.activemq.transport.AbstractInactivityMonitor.stopConnectCheckTask(AbstractInactivityMonitor.java:433) Stopping connection check task for: tcp:///172.17.0.2:35578@44617
2021-08-17 07:35:27,082 DEBUG org.apache.activemq.transport.InactivityMonitor.configuredOk(InactivityMonitor.java:103) Using min of local: WireFormatInfo { version=12, properties={StackTraceEnabled=true, PlatformDetails=Java, CacheEnabled=true, Host=7d8ed0b1a3a5, TcpNoDelayEnabled=true, SizePrefixDisabled=false, CacheSize=1024, ProviderName=ActiveMQ, TightEncodingEnabled=true, MaxFrameSize=9223372036854775807, MaxInactivityDuration=30000, MaxInactivityDurationInitalDelay=10000, ProviderVersion=5.17.0-SNAPSHOT}, magic=[A,c,t,i,v,e,M,Q]} and remote: WireFormatInfo { version=12, properties={TcpNoDelayEnabled=true, SizePrefixDisabled=false, CacheSize=1024, ProviderName=ActiveMQ, StackTraceEnabled=true, PlatformDetails=Java, CacheEnabled=true, TightEncodingEnabled=true, MaxFrameSize=9223372036854775807, MaxInactivityDuration=30000, MaxInactivityDurationInitalDelay=10000, ProviderVersion=5.17.0-SNAPSHOT}, magic=[A,c,t,i,v,e,M,Q]}
2021-08-17 07:35:27,082 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 0 - Transport Connection to: tcp://172.17.0.2:35578
2021-08-17 07:35:27,083 DEBUG org.apache.activemq.transport.InactivityMonitor.configuredOk(InactivityMonitor.java:103) Using min of local: WireFormatInfo { version=12, properties={TcpNoDelayEnabled=true, SizePrefixDisabled=false, CacheSize=1024, ProviderName=ActiveMQ, StackTraceEnabled=true, PlatformDetails=Java, CacheEnabled=true, TightEncodingEnabled=true, MaxFrameSize=9223372036854775807, MaxInactivityDuration=30000, MaxInactivityDurationInitalDelay=10000, ProviderVersion=5.17.0-SNAPSHOT}, magic=[A,c,t,i,v,e,M,Q]} and remote: WireFormatInfo { version=12, properties={StackTraceEnabled=true, PlatformDetails=Java, CacheEnabled=true, Host=7d8ed0b1a3a5, TcpNoDelayEnabled=true, SizePrefixDisabled=false, CacheSize=1024, ProviderName=ActiveMQ, TightEncodingEnabled=true, MaxFrameSize=9223372036854775807, MaxInactivityDuration=30000, MaxInactivityDurationInitalDelay=10000, ProviderVersion=5.17.0-SNAPSHOT}, magic=[A,c,t,i,v,e,M,Q]}
2021-08-17 07:35:27,083 DEBUG org.apache.activemq.transport.WireFormatNegotiator.negociate(WireFormatNegotiator.java:130) Received WireFormat: WireFormatInfo { version=12, properties={TcpNoDelayEnabled=true, SizePrefixDisabled=false, CacheSize=1024, ProviderName=ActiveMQ, StackTraceEnabled=true, PlatformDetails=Java, CacheEnabled=true, TightEncodingEnabled=true, MaxFrameSize=9223372036854775807, MaxInactivityDuration=30000, MaxInactivityDurationInitalDelay=10000, ProviderVersion=5.17.0-SNAPSHOT}, magic=[A,c,t,i,v,e,M,Q]}
2021-08-17 07:35:27,083 DEBUG org.apache.activemq.transport.WireFormatNegotiator.negociate(WireFormatNegotiator.java:130) Received WireFormat: WireFormatInfo { version=12, properties={StackTraceEnabled=true, PlatformDetails=Java, CacheEnabled=true, Host=7d8ed0b1a3a5, TcpNoDelayEnabled=true, SizePrefixDisabled=false, CacheSize=1024, ProviderName=ActiveMQ, TightEncodingEnabled=true, MaxFrameSize=9223372036854775807, MaxInactivityDuration=30000, MaxInactivityDurationInitalDelay=10000, ProviderVersion=5.17.0-SNAPSHOT}, magic=[A,c,t,i,v,e,M,Q]}
2021-08-17 07:35:27,083 DEBUG org.apache.activemq.transport.WireFormatNegotiator.negociate(WireFormatNegotiator.java:137) tcp://7d8ed0b1a3a5/172.17.0.2:44617@35578 before negotiation: OpenWireFormat{version=12, cacheEnabled=false, stackTraceEnabled=false, tightEncodingEnabled=false, sizePrefixDisabled=false, maxFrameSize=9223372036854775807}
2021-08-17 07:35:27,083 DEBUG org.apache.activemq.transport.WireFormatNegotiator.negociate(WireFormatNegotiator.java:137) tcp:///172.17.0.2:35578@44617 before negotiation: OpenWireFormat{version=12, cacheEnabled=false, stackTraceEnabled=false, tightEncodingEnabled=false, sizePrefixDisabled=false, maxFrameSize=9223372036854775807}
2021-08-17 07:35:27,083 DEBUG org.apache.activemq.transport.WireFormatNegotiator.negociate(WireFormatNegotiator.java:152) tcp://7d8ed0b1a3a5/172.17.0.2:44617@35578 after negotiation: OpenWireFormat{version=12, cacheEnabled=true, stackTraceEnabled=true, tightEncodingEnabled=true, sizePrefixDisabled=false, maxFrameSize=9223372036854775807}
2021-08-17 07:35:27,083 DEBUG org.apache.activemq.transport.WireFormatNegotiator.negociate(WireFormatNegotiator.java:152) tcp:///172.17.0.2:35578@44617 after negotiation: OpenWireFormat{version=12, cacheEnabled=true, stackTraceEnabled=true, tightEncodingEnabled=true, sizePrefixDisabled=false, maxFrameSize=9223372036854775807}
2021-08-17 07:35:27,084 DEBUG org.apache.activemq.broker.TransportConnection.processAddConnection(TransportConnection.java:820) Setting up new connection id: ID:7d8ed0b1a3a5-37387-1629213796302-133:1, address: tcp://172.17.0.2:35578, info: ConnectionInfo {commandId = 1, responseRequired = true, connectionId = ID:7d8ed0b1a3a5-37387-1629213796302-133:1, clientId = ID:7d8ed0b1a3a5-37387-1629213796302-132:1, clientIp = null, userName = admin, password = *****, brokerPath = null, brokerMasterConnector = false, manageable = true, clientMaster = true, faultTolerant = false, failoverReconnect = false}
2021-08-17 07:35:27,084 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 1 - Transport Connection to: tcp://172.17.0.2:35578
2021-08-17 07:35:27,084 TRACE org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:50) Run task done: Transport Connection to: tcp://172.17.0.2:35578
2021-08-17 07:35:27,084 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 0 - Transport Connection to: tcp://172.17.0.2:35578
2021-08-17 07:35:27,084 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 1 - Transport Connection to: tcp://172.17.0.2:35578
2021-08-17 07:35:27,084 TRACE org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:50) Run task done: Transport Connection to: tcp://172.17.0.2:35578
2021-08-17 07:35:27,084 DEBUG org.apache.activemq.broker.region.AbstractRegion.addConsumer(AbstractRegion.java:341) localhost adding consumer: ID:7d8ed0b1a3a5-37387-1629213796302-133:1:-1:1 for destination: ActiveMQ.Advisory.TempQueue,ActiveMQ.Advisory.TempTopic
2021-08-17 07:35:27,085 DEBUG org.apache.activemq.broker.region.AbstractRegion.addDestination(AbstractRegion.java:154) localhost adding destination: queue://testSelectingOnActiveMQMessageID
2021-08-17 07:35:27,086 DEBUG org.apache.activemq.store.kahadb.disk.index.BTreeIndex.load(BTreeIndex.java:151) loading
2021-08-17 07:35:27,086 DEBUG org.apache.activemq.store.kahadb.disk.index.BTreeIndex.load(BTreeIndex.java:151) loading
2021-08-17 07:35:27,086 DEBUG org.apache.activemq.store.kahadb.disk.index.BTreeIndex.load(BTreeIndex.java:151) loading
2021-08-17 07:35:27,086 DEBUG org.apache.activemq.store.kahadb.disk.index.BTreeIndex.load(BTreeIndex.java:151) loading
2021-08-17 07:35:27,086 DEBUG org.apache.activemq.store.kahadb.disk.index.BTreeIndex.load(BTreeIndex.java:151) loading
2021-08-17 07:35:27,087 DEBUG org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:2033) queue://testSelectingOnActiveMQMessageID, subscriptions=0, memory=0%, size=0, pending=0 toPageIn: 0, force:false, Inflight: 0, pagedInMessages.size 0, pagedInPendingDispatch.size 0, enqueueCount: 0, dequeueCount: 0, memUsage:0, maxPageSize:200
2021-08-17 07:35:27,088 TRACE org.apache.activemq.ActiveMQSession.send(ActiveMQSession.java:1962) ID:7d8ed0b1a3a5-37387-1629213796302-133:1:1 sending message: ActiveMQTextMessage {commandId = 0, responseRequired = false, messageId = ID:7d8ed0b1a3a5-37387-1629213796302-133:1:1:1:1, originalDestination = null, originalTransactionId = null, producerId = ID:7d8ed0b1a3a5-37387-1629213796302-133:1:1:1, destination = queue://testSelectingOnActiveMQMessageID, transactionId = null, expiration = 0, timestamp = 1629214527088, arrival = 0, brokerInTime = 0, brokerOutTime = 0, correlationId = null, replyTo = null, persistent = true, type = null, priority = 4, groupID = null, groupSequence = 0, targetConsumerId = null, compressed = false, userID = null, content = null, marshalledProperties = null, dataStructure = null, redeliveryCounter = 0, size = 0, properties = null, readOnlyProperties = true, readOnlyBody = true, droppable = false, jmsXGroupFirstForConsumer = false, text = Hello sent at Tue Aug 17 07:35:27 GMT-08:00 2021}
2021-08-17 07:35:27,088 DEBUG org.apache.activemq.broker.region.Queue.messageSent(Queue.java:1962) localhost Message ID:7d8ed0b1a3a5-37387-1629213796302-133:1:1:1:1 sent to queue://testSelectingOnActiveMQMessageID
2021-08-17 07:35:27,089 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 0 - queue://testSelectingOnActiveMQMessageID, subscriptions=0, memory=0%, size=1, pending=0
2021-08-17 07:35:27,089 DEBUG org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:2033) queue://testSelectingOnActiveMQMessageID, subscriptions=0, memory=0%, size=1, pending=0 toPageIn: 1, force:false, Inflight: 0, pagedInMessages.size 0, pagedInPendingDispatch.size 0, enqueueCount: 1, dequeueCount: 0, memUsage:2152, maxPageSize:200
2021-08-17 07:35:27,089 TRACE org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:50) Run task done: queue://testSelectingOnActiveMQMessageID, subscriptions=0, memory=0%, size=1, pending=0
2021-08-17 07:35:27,097 DEBUG org.apache.activemq.broker.jmx.ManagementContext.unregisterMBean(ManagementContext.java:451) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,destinationType=Queue,destinationName=testSelectingOnActiveMQMessageID,endpoint=Producer,clientId=ID_7d8ed0b1a3a5-37387-1629213796302-132_1,producerId=ID_7d8ed0b1a3a5-37387-1629213796302-133_1_1_1
2021-08-17 07:35:27,098 DEBUG org.apache.activemq.broker.jmx.ManagementContext.unregisterMBean(ManagementContext.java:451) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,destinationType=Topic,destinationName=ActiveMQ.Advisory.TempQueue_ActiveMQ.Advisory.TempTopic,endpoint=Consumer,clientId=ID_7d8ed0b1a3a5-37387-1629213796302-132_1,consumerId=ID_7d8ed0b1a3a5-37387-1629213796302-133_1_-1_1
2021-08-17 07:35:27,098 DEBUG org.apache.activemq.broker.region.AbstractRegion.removeConsumer(AbstractRegion.java:465) localhost removing consumer: ID:7d8ed0b1a3a5-37387-1629213796302-133:1:-1:1 for destination: ActiveMQ.Advisory.TempQueue,ActiveMQ.Advisory.TempTopic
2021-08-17 07:35:27,098 DEBUG org.apache.activemq.broker.TransportConnection.processRemoveConnection(TransportConnection.java:876) remove connection id: ID:7d8ed0b1a3a5-37387-1629213796302-133:1
2021-08-17 07:35:27,098 TRACE org.apache.activemq.thread.TaskRunnerFactory.execute(TaskRunnerFactory.java:170) Execute[ActiveMQ BrokerService[localhost] Task] runnable: org.apache.activemq.broker.TransportConnection$4@69864b7d
2021-08-17 07:35:27,098 TRACE org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:111) Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@44a5f8bb[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] with await termination: 0 millis
2021-08-17 07:35:27,098 DEBUG org.apache.activemq.broker.jmx.ManagementContext.unregisterMBean(ManagementContext.java:451) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,connector=clientConnectors,connectorName=tcp_//7d8ed0b1a3a5_44617,connectionViewType=clientId,connectionName=ID_7d8ed0b1a3a5-37387-1629213796302-132_1
2021-08-17 07:35:27,098 DEBUG org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:155) Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@44a5f8bb[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true took: 0.000 seconds.
2021-08-17 07:35:27,098 DEBUG org.apache.activemq.broker.jmx.ManagementContext.unregisterMBean(ManagementContext.java:451) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,connector=clientConnectors,connectorName=tcp_//7d8ed0b1a3a5_44617,connectionViewType=remoteAddress,connectionName=tcp_//172.17.0.2_35578
2021-08-17 07:35:27,099 DEBUG org.apache.activemq.transport.tcp.TcpTransport.doStop(TcpTransport.java:549) Stopping transport tcp://7d8ed0b1a3a5/172.17.0.2:44617@35578
2021-08-17 07:35:27,099 DEBUG org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1183) Stopping connection: tcp://172.17.0.2:35578
2021-08-17 07:35:27,099 DEBUG org.apache.activemq.thread.TaskRunnerFactory.init(TaskRunnerFactory.java:98) Initialized TaskRunnerFactory[ActiveMQ Task] using ExecutorService: java.util.concurrent.ThreadPoolExecutor@409a64f7[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
2021-08-17 07:35:27,099 TRACE org.apache.activemq.thread.TaskRunnerFactory.execute(TaskRunnerFactory.java:170) Execute[ActiveMQ Task] runnable: org.apache.activemq.transport.tcp.TcpTransport$1@598f280
2021-08-17 07:35:27,099 TRACE org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:111) Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@224c7cf1[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] with await termination: 0 millis
2021-08-17 07:35:27,099 TRACE org.apache.activemq.thread.TaskRunnerFactory$1.newThread(TaskRunnerFactory.java:206) Created thread[ActiveMQ Task-1]: Thread[ActiveMQ Task-1,5,main]
2021-08-17 07:35:27,099 DEBUG org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:155) Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@224c7cf1[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true took: 0.000 seconds.
2021-08-17 07:35:27,099 DEBUG org.apache.activemq.transport.tcp.TcpTransport.doStop(TcpTransport.java:549) Stopping transport tcp:///172.17.0.2:35578@44617
2021-08-17 07:35:27,099 DEBUG org.apache.activemq.thread.TaskRunnerFactory.init(TaskRunnerFactory.java:98) Initialized TaskRunnerFactory[ActiveMQ Task] using ExecutorService: java.util.concurrent.ThreadPoolExecutor@2673fc60[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
2021-08-17 07:35:27,100 TRACE org.apache.activemq.thread.TaskRunnerFactory.execute(TaskRunnerFactory.java:170) Execute[ActiveMQ Task] runnable: org.apache.activemq.transport.tcp.TcpTransport$1@637176ca
2021-08-17 07:35:27,099 TRACE org.apache.activemq.transport.tcp.TcpTransport$1.run(TcpTransport.java:565) Closing socket Socket[addr=7d8ed0b1a3a5/172.17.0.2,port=44617,localport=35578]
2021-08-17 07:35:27,100 TRACE org.apache.activemq.thread.TaskRunnerFactory$1.newThread(TaskRunnerFactory.java:206) Created thread[ActiveMQ Task-1]: Thread[ActiveMQ Task-1,5,main]
2021-08-17 07:35:27,100 DEBUG org.apache.activemq.transport.tcp.TcpTransport$1.run(TcpTransport.java:568) Closed socket Socket[addr=7d8ed0b1a3a5/172.17.0.2,port=44617,localport=35578]
2021-08-17 07:35:27,100 DEBUG org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:54) Forcing shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@409a64f7[Running, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 1]
2021-08-17 07:35:27,100 TRACE org.apache.activemq.transport.tcp.TcpTransport$1.run(TcpTransport.java:565) Closing socket Socket[addr=/172.17.0.2,port=35578,localport=44617]
2021-08-17 07:35:27,100 TRACE org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:57) Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@409a64f7[Shutting down, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 1] is shutdown: true and terminated: false.
2021-08-17 07:35:27,100 DEBUG org.apache.activemq.transport.tcp.TcpTransport$1.run(TcpTransport.java:568) Closed socket Socket[addr=/172.17.0.2,port=35578,localport=44617]
2021-08-17 07:35:27,100 DEBUG org.apache.activemq.transport.amqp.AmqpTestSupport.stopBroker(AmqpTestSupport.java:262) entering AmqpTestSupport.stopBroker
2021-08-17 07:35:27,100 DEBUG org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:54) Forcing shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@2673fc60[Running, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 1]
2021-08-17 07:35:27,100 INFO  org.apache.activemq.broker.BrokerService.stop(BrokerService.java:816) Apache ActiveMQ 5.17.0-SNAPSHOT (localhost, ID:7d8ed0b1a3a5-37387-1629213796302-0:505) is shutting down
2021-08-17 07:35:27,100 TRACE org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:57) Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@2673fc60[Shutting down, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 1] is shutdown: true and terminated: false.
2021-08-17 07:35:27,100 DEBUG org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1196) Stopped transport: tcp://172.17.0.2:35578
2021-08-17 07:35:27,101 TRACE org.apache.activemq.thread.PooledTaskRunner.shutdown(PooledTaskRunner.java:95) Shutdown timeout: 1 task: Transport Connection to: tcp://172.17.0.2:35578
2021-08-17 07:35:27,100 DEBUG org.apache.activemq.broker.jmx.ManagementContext.unregisterMBean(ManagementContext.java:451) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,connector=clientConnectors,connectorName=tcp_//7d8ed0b1a3a5_44617
2021-08-17 07:35:27,101 DEBUG org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1237) Connection Stopped: tcp://172.17.0.2:35578
2021-08-17 07:35:27,101 INFO  org.apache.activemq.broker.TransportConnector.stop(TransportConnector.java:311) Connector tcp://7d8ed0b1a3a5:44617 stopped
2021-08-17 07:35:27,101 DEBUG org.apache.activemq.broker.jmx.ManagementContext.unregisterMBean(ManagementContext.java:451) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,connector=clientConnectors,connectorName=amqp_//7d8ed0b1a3a5_46795&qe;transport.tcpNoDelay&amp;true&transport.transformer&amp;jms
2021-08-17 07:35:27,101 INFO  org.apache.activemq.broker.TransportConnector.stop(TransportConnector.java:311) Connector amqp://7d8ed0b1a3a5:46795?transport.tcpNoDelay=true&transport.transformer=jms stopped
2021-08-17 07:35:27,101 TRACE org.apache.activemq.thread.PooledTaskRunner.shutdown(PooledTaskRunner.java:95) Shutdown timeout: 0 task: queue://testSelectingOnActiveMQMessageID, subscriptions=0, memory=0%, size=1, pending=0
2021-08-17 07:35:27,102 DEBUG org.apache.activemq.broker.jmx.ManagementContext.unregisterMBean(ManagementContext.java:451) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,destinationType=Queue,destinationName=testSelectingOnActiveMQMessageID
2021-08-17 07:35:27,102 INFO  org.apache.activemq.store.kahadb.plist.PListStoreImpl.doStop(PListStoreImpl.java:396) PListStore:[/data/activemq/activemq-main-log-adjust/activemq-amqp/activemq-data/localhost/tmp_storage] stopped
2021-08-17 07:35:27,102 INFO  org.apache.activemq.store.kahadb.KahaDBStore.doStop(KahaDBStore.java:268) Stopping async queue tasks
2021-08-17 07:35:27,102 INFO  org.apache.activemq.store.kahadb.KahaDBStore.doStop(KahaDBStore.java:282) Stopping async topic tasks
2021-08-17 07:35:27,102 DEBUG org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:54) Forcing shutdown of ExecutorService: org.apache.activemq.store.kahadb.KahaDBStore$StoreTaskExecutor@65b70dcf[Running, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 1]
2021-08-17 07:35:27,103 TRACE org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:57) Shutdown of ExecutorService: org.apache.activemq.store.kahadb.KahaDBStore$StoreTaskExecutor@65b70dcf[Shutting down, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 1] is shutdown: true and terminated: false.
2021-08-17 07:35:27,103 DEBUG org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:54) Forcing shutdown of ExecutorService: org.apache.activemq.store.kahadb.KahaDBStore$StoreTaskExecutor@5c0e5229[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
2021-08-17 07:35:27,103 TRACE org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:57) Shutdown of ExecutorService: org.apache.activemq.store.kahadb.KahaDBStore$StoreTaskExecutor@5c0e5229[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true.
2021-08-17 07:35:27,103 INFO  org.apache.activemq.store.kahadb.KahaDBStore.doStop(KahaDBStore.java:310) Stopped KahaDB
2021-08-17 07:35:27,103 DEBUG org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1809) Checkpoint started.
2021-08-17 07:35:27,114 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1831) Last update: 1:106, full gc candidates set: [1]
2021-08-17 07:35:27,114 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1855) gc candidates after producerSequenceIdTrackerLocation:1:550, []
2021-08-17 07:35:27,114 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1863) gc candidates after ackMessageFileMapLocation:1:1324, []
2021-08-17 07:35:27,114 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1874) gc candidates after in progress tx range:[null, null], []
2021-08-17 07:35:27,114 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1977) gc candidates: []
2021-08-17 07:35:27,114 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1978) ackMessageFileMap: {}
2021-08-17 07:35:27,114 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:2044) Not yet time to check for compaction: 1 of 10 cycles
2021-08-17 07:35:27,114 DEBUG org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:2053) Checkpoint done.
2021-08-17 07:35:27,212 TRACE org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:111) Shutdown of ExecutorService: java.util.concurrent.ScheduledThreadPoolExecutor@587c9870[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 0] with await termination: 4000 millis
2021-08-17 07:35:27,212 DEBUG org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:155) Shutdown of ExecutorService: java.util.concurrent.ScheduledThreadPoolExecutor@587c9870[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true took: 0.000 seconds.
2021-08-17 07:35:27,213 TRACE org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:111) Shutdown of ExecutorService: java.util.concurrent.Executors$DelegatedScheduledExecutorService@55aa3dec with await termination: -1 millis
2021-08-17 07:35:27,213 DEBUG org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:155) Shutdown of ExecutorService: java.util.concurrent.Executors$DelegatedScheduledExecutorService@55aa3dec is shutdown: true and terminated: true took: 0.000 seconds.
2021-08-17 07:35:27,213 DEBUG org.apache.activemq.broker.jmx.ManagementContext.stop(ManagementContext.java:205) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost
2021-08-17 07:35:27,213 DEBUG org.apache.activemq.broker.jmx.ManagementContext.stop(ManagementContext.java:205) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,service=Health
2021-08-17 07:35:27,213 DEBUG org.apache.activemq.broker.jmx.ManagementContext.stop(ManagementContext.java:205) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,service=Log4JConfiguration
2021-08-17 07:35:27,213 TRACE org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:111) Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@742509d2[Running, pool size = 2, active threads = 0, queued tasks = 0, completed tasks = 5] with await termination: 0 millis
2021-08-17 07:35:27,213 DEBUG org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:155) Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@742509d2[Shutting down, pool size = 2, active threads = 0, queued tasks = 0, completed tasks = 5] is shutdown: true and terminated: false took: 0.000 seconds.
2021-08-17 07:35:27,214 DEBUG org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:54) Forcing shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@17a228b7[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
2021-08-17 07:35:27,214 TRACE org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:57) Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@17a228b7[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true.
2021-08-17 07:35:27,214 INFO  org.apache.activemq.broker.BrokerService.stop(BrokerService.java:876) Apache ActiveMQ 5.17.0-SNAPSHOT (localhost, ID:7d8ed0b1a3a5-37387-1629213796302-0:505) uptime 0.331 seconds
2021-08-17 07:35:27,214 INFO  org.apache.activemq.broker.BrokerService.stop(BrokerService.java:878) Apache ActiveMQ 5.17.0-SNAPSHOT (localhost, ID:7d8ed0b1a3a5-37387-1629213796302-0:505) is shutdown
2021-08-17 07:35:27,214 DEBUG org.apache.activemq.transport.amqp.AmqpTestSupport.stopBroker(AmqpTestSupport.java:268) exiting AmqpTestSupport.stopBroker
2021-08-17 07:35:27,215 DEBUG org.apache.activemq.transport.amqp.AmqpTestSupport.addTranportConnectors(AmqpTestSupport.java:133) Using openwire port 44617
2021-08-17 07:35:27,215 DEBUG org.apache.activemq.transport.amqp.AmqpTestSupport.addTranportConnectors(AmqpTestSupport.java:139) Using amqp port 46795
2021-08-17 07:35:27,216 WARN  org.apache.activemq.broker.BrokerService.checkMemorySystemUsageLimits(BrokerService.java:2159) Memory Usage for the Broker (1024mb) is more than the maximum available for the JVM: 472 mb - resetting to 70% of maximum available: 330
2021-08-17 07:35:27,216 INFO  org.apache.activemq.broker.BrokerService.doStartPersistenceAdapter(BrokerService.java:669) Using Persistence Adapter: KahaDB:[/data/activemq/activemq-main-log-adjust/activemq-amqp/target/activemq-data/testSelectingOnActiveMQMessageID]
2021-08-17 07:35:27,216 DEBUG org.apache.activemq.store.kahadb.KahaDBStore.configureMetadata(KahaDBStore.java:211) Store OpenWire version configured as: 11
2021-08-17 07:35:27,223 TRACE org.apache.activemq.store.kahadb.disk.journal.Journal.start(Journal.java:360) Startup took: 6 ms
2021-08-17 07:35:27,263 INFO  org.apache.activemq.store.kahadb.MessageDatabase$Metadata.read(MessageDatabase.java:194) KahaDB is version 7
2021-08-17 07:35:27,264 DEBUG org.apache.activemq.store.kahadb.disk.index.BTreeIndex.load(BTreeIndex.java:151) loading
2021-08-17 07:35:27,264 DEBUG org.apache.activemq.store.kahadb.disk.index.BTreeIndex.load(BTreeIndex.java:151) loading
2021-08-17 07:35:27,264 DEBUG org.apache.activemq.store.kahadb.disk.index.BTreeIndex.load(BTreeIndex.java:151) loading
2021-08-17 07:35:27,264 DEBUG org.apache.activemq.store.kahadb.disk.index.BTreeIndex.load(BTreeIndex.java:151) loading
2021-08-17 07:35:27,264 DEBUG org.apache.activemq.store.kahadb.disk.index.BTreeIndex.load(BTreeIndex.java:151) loading
2021-08-17 07:35:27,264 DEBUG org.apache.activemq.store.kahadb.disk.index.BTreeIndex.load(BTreeIndex.java:151) loading
2021-08-17 07:35:27,265 INFO  org.apache.activemq.store.kahadb.plist.PListStoreImpl.doStart(PListStoreImpl.java:371) PListStore:[/data/activemq/activemq-main-log-adjust/activemq-amqp/activemq-data/localhost/tmp_storage] started
2021-08-17 07:35:27,266 INFO  org.apache.activemq.broker.BrokerService.doStartBroker(BrokerService.java:732) Apache ActiveMQ 5.17.0-SNAPSHOT (localhost, ID:7d8ed0b1a3a5-37387-1629213796302-0:506) is starting
2021-08-17 07:35:27,266 DEBUG org.apache.activemq.broker.region.AbstractRegion.addDestination(AbstractRegion.java:154) localhost adding destination: queue://testSelectingOnActiveMQMessageID
2021-08-17 07:35:27,266 DEBUG org.apache.activemq.thread.TaskRunnerFactory.init(TaskRunnerFactory.java:98) Initialized TaskRunnerFactory[ActiveMQ BrokerService[localhost] Task] using ExecutorService: java.util.concurrent.ThreadPoolExecutor@7200f08a[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
2021-08-17 07:35:27,267 DEBUG org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:2033) queue://testSelectingOnActiveMQMessageID, subscriptions=0, memory=0%, size=1, pending=0 toPageIn: 1, force:false, Inflight: 0, pagedInMessages.size 0, pagedInPendingDispatch.size 0, enqueueCount: 0, dequeueCount: 0, memUsage:0, maxPageSize:200
2021-08-17 07:35:27,268 DEBUG org.apache.activemq.broker.TransportConnector.getPublishableConnectString(TransportConnector.java:285) Publishing: tcp://7d8ed0b1a3a5:44617 for broker transport URI: tcp://7d8ed0b1a3a5:44617
2021-08-17 07:35:27,268 DEBUG org.apache.activemq.broker.TransportConnector.getPublishableConnectString(TransportConnector.java:285) Publishing: amqp://7d8ed0b1a3a5:46795 for broker transport URI: amqp://7d8ed0b1a3a5:46795?transport.tcpNoDelay=true&transport.transformer=jms
2021-08-17 07:35:27,268 INFO  org.apache.activemq.transport.TransportServerThreadSupport.doStart(TransportServerThreadSupport.java:69) Listening for connections at: tcp://7d8ed0b1a3a5:44617
2021-08-17 07:35:27,268 INFO  org.apache.activemq.broker.TransportConnector.start(TransportConnector.java:266) Connector tcp://7d8ed0b1a3a5:44617 started
2021-08-17 07:35:27,269 INFO  org.apache.activemq.transport.TransportServerThreadSupport.doStart(TransportServerThreadSupport.java:69) Listening for connections at: amqp://7d8ed0b1a3a5:46795?transport.tcpNoDelay=true&transport.transformer=jms
2021-08-17 07:35:27,269 INFO  org.apache.activemq.broker.TransportConnector.start(TransportConnector.java:266) Connector amqp://7d8ed0b1a3a5:46795?transport.tcpNoDelay=true&transport.transformer=jms started
2021-08-17 07:35:27,269 INFO  org.apache.activemq.broker.BrokerService.doStartBroker(BrokerService.java:759) Apache ActiveMQ 5.17.0-SNAPSHOT (localhost, ID:7d8ed0b1a3a5-37387-1629213796302-0:506) started
2021-08-17 07:35:27,269 INFO  org.apache.activemq.broker.BrokerService.doStartBroker(BrokerService.java:760) For help or more information please see: http://activemq.apache.org
2021-08-17 07:35:27,269 INFO  org.apache.activemq.transport.amqp.AMQ4563Test.testSelectingOnActiveMQMessageID(AMQ4563Test.java:79) Using selector: JMSMessageID = 'ID:7d8ed0b1a3a5-37387-1629213796302-133:1:1:1:1'
2021-08-17 07:35:27,269 DEBUG org.apache.activemq.transport.amqp.JMSClientContext.createConnectionFactory(JMSClientContext.java:145) In createConnectionFactory using URI: amqp://7d8ed0b1a3a5:46795
2021-08-17 07:35:27,272 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.connect(NettyTcpTransport.java:147) Netty Transport using Epoll mode
2021-08-17 07:35:27,273 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.handleConnected(NettyTcpTransport.java:362) Channel has become active! Channel is [id: 0xdeb2439f, L:/172.17.0.2:49412 - R:7d8ed0b1a3a5/172.17.0.2:46795]
2021-08-17 07:35:27,273 TRACE org.apache.activemq.thread.TaskRunnerFactory.execute(TaskRunnerFactory.java:170) Execute[ActiveMQ BrokerService[localhost] Task] runnable: org.apache.activemq.broker.TransportConnector$1$1@31a1d4d1
2021-08-17 07:35:27,274 TRACE org.apache.activemq.thread.TaskRunnerFactory$1.newThread(TaskRunnerFactory.java:206) Created thread[ActiveMQ BrokerService[localhost] Task-1]: Thread[ActiveMQ BrokerService[localhost] Task-1,5,main]
2021-08-17 07:35:27,274 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 8, cap: 8/8)
2021-08-17 07:35:27,274 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:27,274 TRACE org.apache.activemq.thread.TaskRunnerFactory$1.newThread(TaskRunnerFactory.java:206) Created thread[ActiveMQ BrokerService[localhost] Task-2]: Thread[ActiveMQ BrokerService[localhost] Task-2,5,main]
2021-08-17 07:35:27,274 TRACE org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:211) TCP consumer thread for tcp:///172.17.0.2:49412@46795 starting
2021-08-17 07:35:27,275 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 0 - Transport Connection to: tcp://172.17.0.2:49412
2021-08-17 07:35:27,275 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:344) Connection from an AMQP v1.0 client initiated. AMQP,3,1,0,0
2021-08-17 07:35:27,275 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 8 bytes
2021-08-17 07:35:27,275 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 42 bytes out
2021-08-17 07:35:27,275 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 1 - Transport Connection to: tcp://172.17.0.2:49412
2021-08-17 07:35:27,275 TRACE org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:50) Run task done: Transport Connection to: tcp://172.17.0.2:49412
2021-08-17 07:35:27,275 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 42, cap: 65536)
2021-08-17 07:35:27,275 TRACE org.apache.qpid.jms.sasl.SaslMechanismFinder.findMatchingMechanism(SaslMechanismFinder.java:91) Skipping SASL-PLAIN mechanism because the available credentials are not sufficient
2021-08-17 07:35:27,275 DEBUG org.apache.qpid.jms.sasl.SaslMechanismFinder.findMatchingMechanism(SaslMechanismFinder.java:106) Best match for SASL auth was: SASL-ANONYMOUS
2021-08-17 07:35:27,276 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: CONNECTION_INIT
2021-08-17 07:35:27,276 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 41, cap: 41/41)
2021-08-17 07:35:27,276 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:27,276 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 41 bytes
2021-08-17 07:35:27,276 DEBUG org.apache.activemq.transport.amqp.sasl.AmqpAuthenticator.processSaslExchange(AmqpAuthenticator.java:75) SASL [ANONYMOUS} Handshake started.
2021-08-17 07:35:27,276 DEBUG org.apache.activemq.transport.amqp.sasl.AmqpAuthenticator.processSaslExchange(AmqpAuthenticator.java:89) SASL [ANONYMOUS} Handshake complete.
2021-08-17 07:35:27,276 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 16 bytes out
2021-08-17 07:35:27,276 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 16, cap: 65536)
2021-08-17 07:35:27,276 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 8 bytes out
2021-08-17 07:35:27,276 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 8, cap: 8/8)
2021-08-17 07:35:27,277 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:27,277 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:344) Connection from an AMQP v1.0 client initiated. AMQP,0,1,0,0
2021-08-17 07:35:27,277 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 8 bytes
2021-08-17 07:35:27,277 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 305, cap: 305/305)
2021-08-17 07:35:27,277 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:27,277 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 305 bytes
2021-08-17 07:35:27,277 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 8, cap: 65536)
2021-08-17 07:35:27,277 DEBUG org.apache.activemq.broker.TransportConnection.processAddConnection(TransportConnection.java:820) Setting up new connection id: ID:7d8ed0b1a3a5-37387-1629213796302-1:603, address: tcp://172.17.0.2:49412, info: ConnectionInfo {commandId = 1, responseRequired = true, connectionId = ID:7d8ed0b1a3a5-37387-1629213796302-1:603, clientId = ID:19cc299a-6c45-49d4-9fc4-07d5f84c906e:1, clientIp = null, userName = null, password = *****, brokerPath = null, brokerMasterConnector = false, manageable = false, clientMaster = true, faultTolerant = false, failoverReconnect = false}
2021-08-17 07:35:27,277 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: CONNECTION_LOCAL_OPEN
2021-08-17 07:35:27,278 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection$2.onResponse(AmqpConnection.java:503) Connection requesting Idle timeout of: 30000 mills
2021-08-17 07:35:27,278 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.configureInactivityMonitor(AmqpConnection.java:851) Connection keep-alive processing starts in: 15000
2021-08-17 07:35:27,278 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 201 bytes out
2021-08-17 07:35:27,278 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 201, cap: 65536)
2021-08-17 07:35:27,278 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: CONNECTION_REMOTE_OPEN
2021-08-17 07:35:27,278 TRACE org.apache.qpid.jms.provider.amqp.AmqpConnectionProperties.processProperties(AmqpConnectionProperties.java:107) Remote sent Queue prefix value of: queue://
2021-08-17 07:35:27,278 TRACE org.apache.qpid.jms.provider.amqp.AmqpConnectionProperties.processProperties(AmqpConnectionProperties.java:115) Remote sent Topic prefix value of: topic://
2021-08-17 07:35:27,278 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: SESSION_INIT
2021-08-17 07:35:27,279 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: SESSION_LOCAL_OPEN
2021-08-17 07:35:27,279 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 32, cap: 32/32)
2021-08-17 07:35:27,279 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:27,279 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 32 bytes
2021-08-17 07:35:27,279 DEBUG org.apache.activemq.transport.amqp.protocol.AmqpSession.open(AmqpSession.java:105) Session ID:7d8ed0b1a3a5-37387-1629213796302-1:603:0 opened
2021-08-17 07:35:27,279 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 34 bytes out
2021-08-17 07:35:27,279 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 34, cap: 65536)
2021-08-17 07:35:27,279 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: SESSION_REMOTE_OPEN
2021-08-17 07:35:27,279 DEBUG org.apache.qpid.jms.provider.amqp.builders.AmqpConnectionBuilder$1$1.onSuccess(AmqpConnectionBuilder.java:84) AmqpConnection { ID:74e487a5-5ae9-45e4-8606-55fe11946bcf:1 } is now open: 
2021-08-17 07:35:27,279 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.fireConnectionEstablished(AmqpProvider.java:1118) IdleTimeoutCheck being initiated, initial delay: 7500
2021-08-17 07:35:27,279 INFO  org.apache.qpid.jms.JmsConnection.onConnectionEstablished(JmsConnection.java:1347) Connection ID:74e487a5-5ae9-45e4-8606-55fe11946bcf:1 connected to server: amqp://7d8ed0b1a3a5:46795
2021-08-17 07:35:27,280 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 32, cap: 32/32)
2021-08-17 07:35:27,280 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:27,280 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 32 bytes
2021-08-17 07:35:27,280 DEBUG org.apache.activemq.transport.amqp.protocol.AmqpSession.open(AmqpSession.java:105) Session ID:7d8ed0b1a3a5-37387-1629213796302-1:603:1 opened
2021-08-17 07:35:27,280 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 34 bytes out
2021-08-17 07:35:27,280 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 34, cap: 65536)
2021-08-17 07:35:27,280 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: SESSION_INIT
2021-08-17 07:35:27,280 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: SESSION_LOCAL_OPEN
2021-08-17 07:35:27,280 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: SESSION_REMOTE_OPEN
2021-08-17 07:35:27,281 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 392, cap: 392/392)
2021-08-17 07:35:27,281 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:27,281 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 392 bytes
2021-08-17 07:35:27,281 DEBUG org.apache.activemq.transport.amqp.protocol.AmqpSession.createSender(AmqpSession.java:265) opening new sender ID:7d8ed0b1a3a5-37387-1629213796302-1:603:1:0 on link: qpid-jms:receiver:ID:74e487a5-5ae9-45e4-8606-55fe11946bcf:1:1:1:queue://testSelectingOnActiveMQMessageID
2021-08-17 07:35:27,281 DEBUG org.apache.activemq.broker.region.AbstractRegion.addConsumer(AbstractRegion.java:341) localhost adding consumer: ID:7d8ed0b1a3a5-37387-1629213796302-1:603:1:0 for destination: queue://testSelectingOnActiveMQMessageID
2021-08-17 07:35:27,282 DEBUG org.apache.activemq.broker.region.Queue.addSubscription(Queue.java:426) queue://testSelectingOnActiveMQMessageID add sub: QueueSubscription: consumer=ID:7d8ed0b1a3a5-37387-1629213796302-1:603:1:0, destinations=0, dispatched=0, delivered=0, pending=0, prefetch=0, prefetchExtension=0, dequeues: 0, dispatched: 0, inflight: 0
2021-08-17 07:35:27,282 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 0 - queue://testSelectingOnActiveMQMessageID, subscriptions=1, memory=0%, size=1, pending=0
2021-08-17 07:35:27,282 DEBUG org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:2033) queue://testSelectingOnActiveMQMessageID, subscriptions=1, memory=0%, size=1, pending=0 toPageIn: 1, force:false, Inflight: 0, pagedInMessages.size 0, pagedInPendingDispatch.size 0, enqueueCount: 0, dequeueCount: 0, memUsage:0, maxPageSize:200
2021-08-17 07:35:27,282 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 395 bytes out
2021-08-17 07:35:27,282 TRACE org.apache.activemq.broker.region.cursors.AbstractStoreCursor.fillBatch(AbstractStoreCursor.java:466) org.apache.activemq.broker.region.cursors.QueueStorePrefetch@21d189d6:testSelectingOnActiveMQMessageID,batchResetNeeded=false,size=1,cacheEnabled=false,maxBatchSize:1,hasSpace:true,pendingCachedIds.size:0,lastSyncCachedId:null,lastSyncCachedId-seq:null,lastAsyncCachedId:null,lastAsyncCachedId-seq:null,store=permits:10000,sd=nextSeq:1,lastRet:MessageOrderCursor:[def:0, low:0, high:0],pending:0 fillBatch
2021-08-17 07:35:27,282 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 395, cap: 65536)
2021-08-17 07:35:27,283 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: LINK_INIT
2021-08-17 07:35:27,283 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: LINK_LOCAL_OPEN
2021-08-17 07:35:27,283 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: LINK_REMOTE_OPEN
2021-08-17 07:35:27,284 TRACE org.apache.qpid.jms.provider.amqp.AmqpConsumer.sendFlowIfNeeded(AmqpConsumer.java:406) Consumer ID:74e487a5-5ae9-45e4-8606-55fe11946bcf:1:1:1 granting additional credit: 1000
2021-08-17 07:35:27,284 TRACE org.apache.activemq.broker.region.Queue.doActualDispatch(Queue.java:2210) Subscription full QueueSubscription: consumer=ID:7d8ed0b1a3a5-37387-1629213796302-1:603:1:0, destinations=1, dispatched=0, delivered=0, pending=0, prefetch=0, prefetchExtension=0
2021-08-17 07:35:27,284 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 35, cap: 35/35)
2021-08-17 07:35:27,284 TRACE org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:50) Run task done: queue://testSelectingOnActiveMQMessageID, subscriptions=1, memory=0%, size=1, pending=0
2021-08-17 07:35:27,284 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:27,284 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 35 bytes
2021-08-17 07:35:27,284 TRACE org.apache.activemq.transport.amqp.protocol.AmqpSender.flow(AmqpSender.java:181) Flow: draining=false, drain=false credit=1000, currentCredit=0, senderDeliveryCount=0 - Sub=QueueSubscription: consumer=ID:7d8ed0b1a3a5-37387-1629213796302-1:603:1:0, destinations=1, dispatched=0, delivered=0, pending=0, prefetch=0, prefetchExtension=0
2021-08-17 07:35:27,284 TRACE org.apache.activemq.transport.amqp.protocol.AmqpSender.flow(AmqpSender.java:238) Flow: credit addition of 1000 for sub QueueSubscription: consumer=ID:7d8ed0b1a3a5-37387-1629213796302-1:603:1:0, destinations=1, dispatched=0, delivered=1000, pending=0, prefetch=0, prefetchExtension=1000
2021-08-17 07:35:27,284 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 0 - queue://testSelectingOnActiveMQMessageID, subscriptions=1, memory=0%, size=1, pending=0
2021-08-17 07:35:27,284 DEBUG org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:2033) queue://testSelectingOnActiveMQMessageID, subscriptions=1, memory=0%, size=1, pending=0 toPageIn: 0, force:false, Inflight: 0, pagedInMessages.size 1, pagedInPendingDispatch.size 1, enqueueCount: 0, dequeueCount: 0, memUsage:1076, maxPageSize:200
2021-08-17 07:35:27,285 TRACE org.apache.activemq.broker.region.Queue.doActualDispatch(Queue.java:2201) assigned ID:7d8ed0b1a3a5-37387-1629213796302-133:1:1:1:1 to consumer ID:7d8ed0b1a3a5-37387-1629213796302-1:603:1:0
2021-08-17 07:35:27,285 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 0 - Transport Connection to: tcp://172.17.0.2:49412
2021-08-17 07:35:27,285 TRACE org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:50) Run task done: queue://testSelectingOnActiveMQMessageID, subscriptions=1, memory=0%, size=1, pending=0
2021-08-17 07:35:27,285 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onActiveMQCommand(AmqpConnection.java:656) Dispatching MessageId: ID:7d8ed0b1a3a5-37387-1629213796302-133:1:1:1:1 to consumer
2021-08-17 07:35:27,285 TRACE org.apache.activemq.transport.amqp.protocol.AmqpSender.pumpOutbound(AmqpSender.java:464) Sender:[qpid-jms:receiver:ID:74e487a5-5ae9-45e4-8606-55fe11946bcf:1:1:1:queue://testSelectingOnActiveMQMessageID] msgId=ID:7d8ed0b1a3a5-37387-1629213796302-133:1:1:1:1 draining=false, drain=false, credit=1000, remoteCredit=1000, queued=0
2021-08-17 07:35:27,285 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 224 bytes out
2021-08-17 07:35:27,285 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onActiveMQCommand(AmqpConnection.java:662) Finished Dispatch of MessageId: ID:7d8ed0b1a3a5-37387-1629213796302-133:1:1:1:1 to consumer
2021-08-17 07:35:27,285 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 224, cap: 65536)
2021-08-17 07:35:27,285 TRACE org.apache.activemq.broker.region.PrefetchSubscription.onDispatch(PrefetchSubscription.java:758) ID:7d8ed0b1a3a5-37387-1629213796302-1:603:1:0 dispatched: ID:7d8ed0b1a3a5-37387-1629213796302-133:1:1:1:1 - queue://testSelectingOnActiveMQMessageID, dispatched: 1, inflight: 1
2021-08-17 07:35:27,285 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: DELIVERY
2021-08-17 07:35:27,286 TRACE org.apache.qpid.jms.provider.amqp.AmqpConsumer.processDeliveryUpdates(AmqpConsumer.java:530) AmqpConsumer { ID:74e487a5-5ae9-45e4-8606-55fe11946bcf:1:1:1 } has incoming Message(s).
2021-08-17 07:35:27,285 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 1 - Transport Connection to: tcp://172.17.0.2:49412
2021-08-17 07:35:27,286 TRACE org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:50) Run task done: Transport Connection to: tcp://172.17.0.2:49412
2021-08-17 07:35:27,286 DEBUG org.apache.qpid.jms.provider.amqp.AmqpConsumer.deliver(AmqpConsumer.java:649) Dispatching received message: JmsInboundMessageDispatch { sequence = 1, messageId = ID:7d8ed0b1a3a5-37387-1629213796302-133:1:1:1:1, consumerId = ID:74e487a5-5ae9-45e4-8606-55fe11946bcf:1:1:1 }
2021-08-17 07:35:27,286 TRACE org.apache.qpid.jms.JmsSession.redeliveryExceeded(JmsSession.java:1376) checking envelope with 0 redeliveries
2021-08-17 07:35:27,286 TRACE org.apache.qpid.jms.JmsMessageConsumer.dequeue(JmsMessageConsumer.java:366) ID:74e487a5-5ae9-45e4-8606-55fe11946bcf:1:1:1 received message: JmsInboundMessageDispatch { sequence = 1, messageId = ID:7d8ed0b1a3a5-37387-1629213796302-133:1:1:1:1, consumerId = ID:74e487a5-5ae9-45e4-8606-55fe11946bcf:1:1:1 }
2021-08-17 07:35:27,286 DEBUG org.apache.qpid.jms.provider.amqp.AmqpConsumer.handleAccepted(AmqpConsumer.java:347) Accepted Ack of message: JmsInboundMessageDispatch { sequence = 1, messageId = ID:7d8ed0b1a3a5-37387-1629213796302-133:1:1:1:1, consumerId = ID:74e487a5-5ae9-45e4-8606-55fe11946bcf:1:1:1 }
2021-08-17 07:35:27,286 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 22, cap: 22/22)
2021-08-17 07:35:27,287 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:27,287 DEBUG org.apache.activemq.transport.amqp.AMQ4563Test.readAllMessages(AMQ4563Test.java:138) >>>> Received [Hello sent at Tue Aug 17 07:35:27 GMT-08:00 2021]
2021-08-17 07:35:27,287 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 22 bytes
2021-08-17 07:35:27,287 TRACE org.apache.activemq.transport.amqp.protocol.AmqpSender.delivery(AmqpSender.java:273) onDelivery: accepted state = Accepted{}
2021-08-17 07:35:27,287 TRACE org.apache.activemq.transport.amqp.protocol.AmqpSender.settle(AmqpSender.java:520) Sending Ack to ActiveMQ: MessageAck {commandId = 0, responseRequired = false, ackType = 4, consumerId = ID:7d8ed0b1a3a5-37387-1629213796302-1:603:1:0, firstMessageId = ID:7d8ed0b1a3a5-37387-1629213796302-133:1:1:1:1, lastMessageId = ID:7d8ed0b1a3a5-37387-1629213796302-133:1:1:1:1, destination = queue://testSelectingOnActiveMQMessageID, transactionId = null, messageCount = 1, poisonCause = null}
2021-08-17 07:35:27,287 TRACE org.apache.activemq.broker.region.PrefetchSubscription.acknowledge(PrefetchSubscription.java:204) ack: MessageAck {commandId = 5, responseRequired = true, ackType = 4, consumerId = ID:7d8ed0b1a3a5-37387-1629213796302-1:603:1:0, firstMessageId = ID:7d8ed0b1a3a5-37387-1629213796302-133:1:1:1:1, lastMessageId = ID:7d8ed0b1a3a5-37387-1629213796302-133:1:1:1:1, destination = queue://testSelectingOnActiveMQMessageID, transactionId = null, messageCount = 1, poisonCause = null}
2021-08-17 07:35:27,287 TRACE org.apache.activemq.broker.region.Queue.removeMessage(Queue.java:1853) ack of ID:7d8ed0b1a3a5-37387-1629213796302-133:1:1:1:1 with MessageAck {commandId = 5, responseRequired = true, ackType = 4, consumerId = ID:7d8ed0b1a3a5-37387-1629213796302-1:603:1:0, firstMessageId = ID:7d8ed0b1a3a5-37387-1629213796302-133:1:1:1:1, lastMessageId = ID:7d8ed0b1a3a5-37387-1629213796302-133:1:1:1:1, destination = queue://testSelectingOnActiveMQMessageID, transactionId = null, messageCount = 1, poisonCause = null}
2021-08-17 07:35:27,297 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 0 - queue://testSelectingOnActiveMQMessageID, subscriptions=1, memory=0%, size=0, pending=0
2021-08-17 07:35:27,297 DEBUG org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:2033) queue://testSelectingOnActiveMQMessageID, subscriptions=1, memory=0%, size=0, pending=0 toPageIn: 0, force:false, Inflight: 0, pagedInMessages.size 0, pagedInPendingDispatch.size 0, enqueueCount: 0, dequeueCount: 1, memUsage:0, maxPageSize:200
2021-08-17 07:35:27,297 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 1 - queue://testSelectingOnActiveMQMessageID, subscriptions=1, memory=0%, size=0, pending=0
2021-08-17 07:35:27,297 DEBUG org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:2033) queue://testSelectingOnActiveMQMessageID, subscriptions=1, memory=0%, size=0, pending=0 toPageIn: 0, force:false, Inflight: 0, pagedInMessages.size 0, pagedInPendingDispatch.size 0, enqueueCount: 0, dequeueCount: 1, memUsage:0, maxPageSize:200
2021-08-17 07:35:27,297 TRACE org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:50) Run task done: queue://testSelectingOnActiveMQMessageID, subscriptions=1, memory=0%, size=0, pending=0
2021-08-17 07:35:27,459 DEBUG org.apache.activemq.transport.amqp.client.AmqpConnection$7.run(AmqpConnection.java:464) Client performing next idle check
2021-08-17 07:35:27,575 DEBUG org.apache.activemq.transport.amqp.client.AmqpConnection$7.run(AmqpConnection.java:464) Client performing next idle check
2021-08-17 07:35:27,608 DEBUG org.apache.activemq.transport.amqp.client.AmqpConnection$7.run(AmqpConnection.java:464) Client performing next idle check
2021-08-17 07:35:28,287 TRACE org.apache.qpid.jms.provider.amqp.AmqpConsumer.pull(AmqpConsumer.java:485) Pull on consumer ID:74e487a5-5ae9-45e4-8606-55fe11946bcf:1:1:1 with timeout = 0
2021-08-17 07:35:28,287 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 38, cap: 38/38)
2021-08-17 07:35:28,287 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:28,287 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 38 bytes
2021-08-17 07:35:28,288 TRACE org.apache.activemq.transport.amqp.protocol.AmqpSender.flow(AmqpSender.java:181) Flow: draining=false, drain=true credit=999, currentCredit=1000, senderDeliveryCount=1 - Sub=QueueSubscription: consumer=ID:7d8ed0b1a3a5-37387-1629213796302-1:603:1:0, destinations=1, dispatched=0, delivered=999, pending=0, prefetch=0, prefetchExtension=999
2021-08-17 07:35:28,288 TRACE org.apache.activemq.transport.amqp.protocol.AmqpSender.flow(AmqpSender.java:202) Pull case -> consumer pull request quantity = 999
2021-08-17 07:35:28,288 DEBUG org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:2033) queue://testSelectingOnActiveMQMessageID, subscriptions=1, memory=0%, size=0, pending=0 toPageIn: 0, force:false, Inflight: 0, pagedInMessages.size 0, pagedInPendingDispatch.size 0, enqueueCount: 0, dequeueCount: 1, memUsage:0, maxPageSize:200
2021-08-17 07:35:28,288 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 0 - Transport Connection to: tcp://172.17.0.2:49412
2021-08-17 07:35:28,288 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onActiveMQCommand(AmqpConnection.java:658) Dispatching End of Browse Command to consumer ID:7d8ed0b1a3a5-37387-1629213796302-1:603:1:0
2021-08-17 07:35:28,288 TRACE org.apache.activemq.transport.amqp.protocol.AmqpSender.pumpOutbound(AmqpSender.java:456) Sender:[qpid-jms:receiver:ID:74e487a5-5ae9-45e4-8606-55fe11946bcf:1:1:1:queue://testSelectingOnActiveMQMessageID] browse done.
2021-08-17 07:35:28,289 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 37 bytes out
2021-08-17 07:35:28,289 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 1 - Transport Connection to: tcp://172.17.0.2:49412
2021-08-17 07:35:28,289 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 37, cap: 65536)
2021-08-17 07:35:28,289 TRACE org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:50) Run task done: Transport Connection to: tcp://172.17.0.2:49412
2021-08-17 07:35:28,289 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: LINK_FLOW
2021-08-17 07:35:28,289 TRACE org.apache.qpid.jms.provider.amqp.AmqpConsumer.processFlowUpdates(AmqpConsumer.java:231) Consumer ID:74e487a5-5ae9-45e4-8606-55fe11946bcf:1:1:1 flow updated, remote credit = 0
2021-08-17 07:35:28,289 TRACE org.apache.qpid.jms.provider.amqp.AmqpConsumer.sendFlowIfNeeded(AmqpConsumer.java:406) Consumer ID:74e487a5-5ae9-45e4-8606-55fe11946bcf:1:1:1 granting additional credit: 1000
2021-08-17 07:35:28,289 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 39, cap: 39/39)
2021-08-17 07:35:28,289 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:28,289 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 39 bytes
2021-08-17 07:35:28,289 TRACE org.apache.qpid.jms.provider.amqp.AmqpAbstractResource.close(AmqpAbstractResource.java:108) AmqpConsumer { ID:74e487a5-5ae9-45e4-8606-55fe11946bcf:1:1:1 } requesting close on remote.
2021-08-17 07:35:28,289 TRACE org.apache.activemq.transport.amqp.protocol.AmqpSender.flow(AmqpSender.java:181) Flow: draining=false, drain=false credit=1000, currentCredit=0, senderDeliveryCount=0 - Sub=QueueSubscription: consumer=ID:7d8ed0b1a3a5-37387-1629213796302-1:603:1:0, destinations=1, dispatched=0, delivered=0, pending=0, prefetch=0, prefetchExtension=0
2021-08-17 07:35:28,289 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 16, cap: 16/16)
2021-08-17 07:35:28,289 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 0 - queue://testSelectingOnActiveMQMessageID, subscriptions=1, memory=0%, size=0, pending=0
2021-08-17 07:35:28,289 TRACE org.apache.activemq.transport.amqp.protocol.AmqpSender.flow(AmqpSender.java:238) Flow: credit addition of 1000 for sub QueueSubscription: consumer=ID:7d8ed0b1a3a5-37387-1629213796302-1:603:1:0, destinations=1, dispatched=0, delivered=1000, pending=0, prefetch=0, prefetchExtension=1000
2021-08-17 07:35:28,290 DEBUG org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:2033) queue://testSelectingOnActiveMQMessageID, subscriptions=1, memory=0%, size=0, pending=0 toPageIn: 0, force:false, Inflight: 0, pagedInMessages.size 0, pagedInPendingDispatch.size 0, enqueueCount: 0, dequeueCount: 1, memUsage:0, maxPageSize:200
2021-08-17 07:35:28,289 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:28,290 TRACE org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:50) Run task done: queue://testSelectingOnActiveMQMessageID, subscriptions=1, memory=0%, size=0, pending=0
2021-08-17 07:35:28,290 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 16 bytes
2021-08-17 07:35:28,290 DEBUG org.apache.activemq.broker.jmx.ManagementContext.unregisterMBean(ManagementContext.java:451) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,destinationType=Queue,destinationName=testSelectingOnActiveMQMessageID,endpoint=Consumer,clientId=ID_19cc299a-6c45-49d4-9fc4-07d5f84c906e_1,consumerId=ID_7d8ed0b1a3a5-37387-1629213796302-1_603_1_0
2021-08-17 07:35:28,290 DEBUG org.apache.activemq.broker.region.AbstractRegion.removeConsumer(AbstractRegion.java:465) localhost removing consumer: ID:7d8ed0b1a3a5-37387-1629213796302-1:603:1:0 for destination: queue://testSelectingOnActiveMQMessageID
2021-08-17 07:35:28,290 DEBUG org.apache.activemq.broker.region.Queue.removeSubscription(Queue.java:502) queue://testSelectingOnActiveMQMessageID remove sub: QueueSubscription: consumer=ID:7d8ed0b1a3a5-37387-1629213796302-1:603:1:0, destinations=1, dispatched=0, delivered=1000, pending=0, prefetch=0, prefetchExtension=1000, lastDeliveredSeqId: 1, dequeues: 1, dispatched: 1, inflight: 0, groups: 0
2021-08-17 07:35:28,290 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 0 - queue://testSelectingOnActiveMQMessageID, subscriptions=0, memory=0%, size=0, pending=0
2021-08-17 07:35:28,290 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 16 bytes out
2021-08-17 07:35:28,290 DEBUG org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:2033) queue://testSelectingOnActiveMQMessageID, subscriptions=0, memory=0%, size=0, pending=0 toPageIn: 0, force:false, Inflight: 0, pagedInMessages.size 0, pagedInPendingDispatch.size 0, enqueueCount: 0, dequeueCount: 1, memUsage:0, maxPageSize:200
2021-08-17 07:35:28,290 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 16, cap: 65536)
2021-08-17 07:35:28,290 TRACE org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:50) Run task done: queue://testSelectingOnActiveMQMessageID, subscriptions=0, memory=0%, size=0, pending=0
2021-08-17 07:35:28,291 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: LINK_LOCAL_CLOSE
2021-08-17 07:35:28,291 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: LINK_REMOTE_CLOSE
2021-08-17 07:35:28,291 DEBUG org.apache.qpid.jms.provider.amqp.AmqpAbstractResource.closeResource(AmqpAbstractResource.java:175) AmqpConsumer { ID:74e487a5-5ae9-45e4-8606-55fe11946bcf:1:1:1 } is now closed: 
2021-08-17 07:35:28,291 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: LINK_FINAL
2021-08-17 07:35:28,292 TRACE org.apache.qpid.jms.provider.amqp.AmqpAbstractResource.close(AmqpAbstractResource.java:108) AmqpConnection { ID:74e487a5-5ae9-45e4-8606-55fe11946bcf:1 } requesting close on remote.
2021-08-17 07:35:28,292 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 12, cap: 12/12)
2021-08-17 07:35:28,292 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:28,292 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 12 bytes
2021-08-17 07:35:28,292 DEBUG org.apache.activemq.broker.TransportConnection.processRemoveConnection(TransportConnection.java:876) remove connection id: ID:7d8ed0b1a3a5-37387-1629213796302-1:603
2021-08-17 07:35:28,292 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 12 bytes out
2021-08-17 07:35:28,292 TRACE org.apache.activemq.thread.TaskRunnerFactory.execute(TaskRunnerFactory.java:170) Execute[ActiveMQ BrokerService[localhost] Task] runnable: org.apache.activemq.broker.TransportConnection$4@6bf171d5
2021-08-17 07:35:28,292 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 12, cap: 65536)
2021-08-17 07:35:28,292 DEBUG org.apache.activemq.broker.jmx.ManagementContext.unregisterMBean(ManagementContext.java:451) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,connector=clientConnectors,connectorName=amqp_//7d8ed0b1a3a5_46795&qe;transport.tcpNoDelay&amp;true&transport.transformer&amp;jms,connectionViewType=clientId,connectionName=ID_19cc299a-6c45-49d4-9fc4-07d5f84c906e_1
2021-08-17 07:35:28,292 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: CONNECTION_LOCAL_CLOSE
2021-08-17 07:35:28,293 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: TRANSPORT_HEAD_CLOSED
2021-08-17 07:35:28,293 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: CONNECTION_REMOTE_CLOSE
2021-08-17 07:35:28,292 DEBUG org.apache.activemq.broker.jmx.ManagementContext.unregisterMBean(ManagementContext.java:451) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,connector=clientConnectors,connectorName=amqp_//7d8ed0b1a3a5_46795&qe;transport.tcpNoDelay&amp;true&transport.transformer&amp;jms,connectionViewType=remoteAddress,connectionName=tcp_//172.17.0.2_49412
2021-08-17 07:35:28,293 DEBUG org.apache.qpid.jms.provider.amqp.AmqpAbstractResource.closeResource(AmqpAbstractResource.java:175) AmqpConnection { ID:74e487a5-5ae9-45e4-8606-55fe11946bcf:1 } is now closed: 
2021-08-17 07:35:28,293 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: TRANSPORT_TAIL_CLOSED
2021-08-17 07:35:28,293 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: TRANSPORT_CLOSED
2021-08-17 07:35:28,293 DEBUG org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1183) Stopping connection: tcp://172.17.0.2:49412
2021-08-17 07:35:28,293 TRACE org.apache.qpid.jms.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:127) Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@315e035[Running, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 1] with await termination: 0 millis
2021-08-17 07:35:28,293 DEBUG org.apache.activemq.transport.tcp.TcpTransport.doStop(TcpTransport.java:549) Stopping transport tcp:///172.17.0.2:49412@46795
2021-08-17 07:35:28,293 DEBUG org.apache.activemq.thread.TaskRunnerFactory.init(TaskRunnerFactory.java:98) Initialized TaskRunnerFactory[ActiveMQ Task] using ExecutorService: java.util.concurrent.ThreadPoolExecutor@62f42306[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
2021-08-17 07:35:28,293 TRACE org.apache.activemq.thread.TaskRunnerFactory.execute(TaskRunnerFactory.java:170) Execute[ActiveMQ Task] runnable: org.apache.activemq.transport.tcp.TcpTransport$1@66cbab80
2021-08-17 07:35:28,293 DEBUG org.apache.qpid.jms.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:156) Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@315e035[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 1] is shutdown: true and terminated: true took: 0.000 seconds.
2021-08-17 07:35:28,293 TRACE org.apache.activemq.thread.TaskRunnerFactory$1.newThread(TaskRunnerFactory.java:206) Created thread[ActiveMQ Task-1]: Thread[ActiveMQ Task-1,5,main]
2021-08-17 07:35:28,294 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.lambda$close$3(AmqpProvider.java:374) Cancelling scheduled IdleTimeoutCheck
2021-08-17 07:35:28,294 TRACE org.apache.activemq.transport.tcp.TcpTransport$1.run(TcpTransport.java:565) Closing socket Socket[addr=/172.17.0.2,port=49412,localport=46795]
2021-08-17 07:35:28,294 DEBUG org.apache.activemq.transport.tcp.TcpTransport$1.run(TcpTransport.java:568) Closed socket Socket[addr=/172.17.0.2,port=49412,localport=46795]
2021-08-17 07:35:28,294 DEBUG org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:54) Forcing shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@62f42306[Running, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 1]
2021-08-17 07:35:28,294 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.handleChannelInactive(NettyTcpTransport.java:367) Channel has gone inactive! Channel is [id: 0xdeb2439f, L:/172.17.0.2:49412 ! R:7d8ed0b1a3a5/172.17.0.2:46795]
2021-08-17 07:35:28,294 TRACE org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:57) Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@62f42306[Shutting down, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 1] is shutdown: true and terminated: false.
2021-08-17 07:35:28,294 DEBUG org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1196) Stopped transport: tcp://172.17.0.2:49412
2021-08-17 07:35:28,294 TRACE org.apache.activemq.thread.PooledTaskRunner.shutdown(PooledTaskRunner.java:95) Shutdown timeout: 1 task: Transport Connection to: tcp://172.17.0.2:49412
2021-08-17 07:35:28,294 DEBUG org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1237) Connection Stopped: tcp://172.17.0.2:49412
2021-08-17 07:35:28,294 DEBUG io.netty.buffer.PoolThreadCache.free(PoolThreadCache.java:224) Freed 5 thread-local buffer(s) from thread: AmqpProvider :(304):[amqp://7d8ed0b1a3a5:46795]
2021-08-17 07:35:28,295 DEBUG org.apache.activemq.transport.amqp.AmqpTestSupport.stopBroker(AmqpTestSupport.java:262) entering AmqpTestSupport.stopBroker
2021-08-17 07:35:28,295 INFO  org.apache.activemq.broker.BrokerService.stop(BrokerService.java:816) Apache ActiveMQ 5.17.0-SNAPSHOT (localhost, ID:7d8ed0b1a3a5-37387-1629213796302-0:506) is shutting down
2021-08-17 07:35:28,295 DEBUG org.apache.activemq.broker.jmx.ManagementContext.unregisterMBean(ManagementContext.java:451) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,connector=clientConnectors,connectorName=tcp_//7d8ed0b1a3a5_44617
2021-08-17 07:35:28,295 INFO  org.apache.activemq.broker.TransportConnector.stop(TransportConnector.java:311) Connector tcp://7d8ed0b1a3a5:44617 stopped
2021-08-17 07:35:28,296 DEBUG org.apache.activemq.broker.jmx.ManagementContext.unregisterMBean(ManagementContext.java:451) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,connector=clientConnectors,connectorName=amqp_//7d8ed0b1a3a5_46795&qe;transport.tcpNoDelay&amp;true&transport.transformer&amp;jms
2021-08-17 07:35:28,296 INFO  org.apache.activemq.broker.TransportConnector.stop(TransportConnector.java:311) Connector amqp://7d8ed0b1a3a5:46795?transport.tcpNoDelay=true&transport.transformer=jms stopped
2021-08-17 07:35:28,296 TRACE org.apache.activemq.thread.PooledTaskRunner.shutdown(PooledTaskRunner.java:95) Shutdown timeout: 0 task: queue://testSelectingOnActiveMQMessageID, subscriptions=0, memory=0%, size=0, pending=0
2021-08-17 07:35:28,296 DEBUG org.apache.activemq.broker.jmx.ManagementContext.unregisterMBean(ManagementContext.java:451) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,destinationType=Queue,destinationName=testSelectingOnActiveMQMessageID
2021-08-17 07:35:28,297 INFO  org.apache.activemq.store.kahadb.plist.PListStoreImpl.doStop(PListStoreImpl.java:396) PListStore:[/data/activemq/activemq-main-log-adjust/activemq-amqp/activemq-data/localhost/tmp_storage] stopped
2021-08-17 07:35:28,297 INFO  org.apache.activemq.store.kahadb.KahaDBStore.doStop(KahaDBStore.java:268) Stopping async queue tasks
2021-08-17 07:35:28,297 INFO  org.apache.activemq.store.kahadb.KahaDBStore.doStop(KahaDBStore.java:282) Stopping async topic tasks
2021-08-17 07:35:28,297 DEBUG org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:54) Forcing shutdown of ExecutorService: org.apache.activemq.store.kahadb.KahaDBStore$StoreTaskExecutor@5a75ec37[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
2021-08-17 07:35:28,297 TRACE org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:57) Shutdown of ExecutorService: org.apache.activemq.store.kahadb.KahaDBStore$StoreTaskExecutor@5a75ec37[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true.
2021-08-17 07:35:28,297 DEBUG org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:54) Forcing shutdown of ExecutorService: org.apache.activemq.store.kahadb.KahaDBStore$StoreTaskExecutor@2c05ff9d[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
2021-08-17 07:35:28,297 TRACE org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:57) Shutdown of ExecutorService: org.apache.activemq.store.kahadb.KahaDBStore$StoreTaskExecutor@2c05ff9d[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true.
2021-08-17 07:35:28,297 INFO  org.apache.activemq.store.kahadb.KahaDBStore.doStop(KahaDBStore.java:310) Stopped KahaDB
2021-08-17 07:35:28,297 DEBUG org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1809) Checkpoint started.
2021-08-17 07:35:28,311 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1831) Last update: 1:1521, full gc candidates set: [1]
2021-08-17 07:35:28,312 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1855) gc candidates after producerSequenceIdTrackerLocation:1:1925, []
2021-08-17 07:35:28,312 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1863) gc candidates after ackMessageFileMapLocation:1:2699, []
2021-08-17 07:35:28,312 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1874) gc candidates after in progress tx range:[null, null], []
2021-08-17 07:35:28,312 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1977) gc candidates: []
2021-08-17 07:35:28,312 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1978) ackMessageFileMap: {1=[1]}
2021-08-17 07:35:28,312 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:2044) Not yet time to check for compaction: 1 of 10 cycles
2021-08-17 07:35:28,312 DEBUG org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:2053) Checkpoint done.
2021-08-17 07:35:28,393 TRACE org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:111) Shutdown of ExecutorService: java.util.concurrent.ScheduledThreadPoolExecutor@63d4f0a2[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 0] with await termination: 4000 millis
2021-08-17 07:35:28,393 DEBUG org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:155) Shutdown of ExecutorService: java.util.concurrent.ScheduledThreadPoolExecutor@63d4f0a2[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true took: 0.000 seconds.
2021-08-17 07:35:28,394 TRACE org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:111) Shutdown of ExecutorService: java.util.concurrent.Executors$DelegatedScheduledExecutorService@7d78f3d5 with await termination: -1 millis
2021-08-17 07:35:28,394 DEBUG org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:155) Shutdown of ExecutorService: java.util.concurrent.Executors$DelegatedScheduledExecutorService@7d78f3d5 is shutdown: true and terminated: true took: 0.000 seconds.
2021-08-17 07:35:28,394 DEBUG org.apache.activemq.broker.jmx.ManagementContext.stop(ManagementContext.java:205) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost
2021-08-17 07:35:28,394 DEBUG org.apache.activemq.broker.jmx.ManagementContext.stop(ManagementContext.java:205) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,service=Health
2021-08-17 07:35:28,394 DEBUG org.apache.activemq.broker.jmx.ManagementContext.stop(ManagementContext.java:205) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,service=Log4JConfiguration
2021-08-17 07:35:28,394 TRACE org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:111) Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@7200f08a[Running, pool size = 2, active threads = 0, queued tasks = 0, completed tasks = 10] with await termination: 0 millis
2021-08-17 07:35:28,394 DEBUG org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:155) Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@7200f08a[Shutting down, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 10] is shutdown: true and terminated: false took: 0.000 seconds.
2021-08-17 07:35:28,394 DEBUG org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:54) Forcing shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@a4b5ce3[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
2021-08-17 07:35:28,395 TRACE org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:57) Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@a4b5ce3[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true.
2021-08-17 07:35:28,395 INFO  org.apache.activemq.broker.BrokerService.stop(BrokerService.java:876) Apache ActiveMQ 5.17.0-SNAPSHOT (localhost, ID:7d8ed0b1a3a5-37387-1629213796302-0:506) uptime 1.180 seconds
2021-08-17 07:35:28,395 INFO  org.apache.activemq.broker.BrokerService.stop(BrokerService.java:878) Apache ActiveMQ 5.17.0-SNAPSHOT (localhost, ID:7d8ed0b1a3a5-37387-1629213796302-0:506) is shutdown
2021-08-17 07:35:28,395 DEBUG org.apache.activemq.transport.amqp.AmqpTestSupport.stopBroker(AmqpTestSupport.java:268) exiting AmqpTestSupport.stopBroker
2021-08-17 07:35:28,395 INFO  org.apache.activemq.transport.amqp.AmqpTestSupport.tearDown(AmqpTestSupport.java:273) ========== tearDown testSelectingOnActiveMQMessageID ==========
2021-08-17 07:35:28,395 INFO  org.apache.activemq.transport.amqp.AmqpTestSupport.setUp(AmqpTestSupport.java:76) ========== start testMessagesAreAckedAMQPProducer ==========
2021-08-17 07:35:28,396 DEBUG org.apache.activemq.transport.amqp.AmqpTestSupport.addTranportConnectors(AmqpTestSupport.java:133) Using openwire port 38901
2021-08-17 07:35:28,396 DEBUG org.apache.activemq.transport.amqp.AmqpTestSupport.addTranportConnectors(AmqpTestSupport.java:139) Using amqp port 39791
2021-08-17 07:35:28,397 WARN  org.apache.activemq.broker.BrokerService.checkMemorySystemUsageLimits(BrokerService.java:2159) Memory Usage for the Broker (1024mb) is more than the maximum available for the JVM: 472 mb - resetting to 70% of maximum available: 330
2021-08-17 07:35:28,397 INFO  org.apache.activemq.broker.BrokerService.doStartPersistenceAdapter(BrokerService.java:669) Using Persistence Adapter: KahaDB:[/data/activemq/activemq-main-log-adjust/activemq-amqp/target/activemq-data/testMessagesAreAckedAMQPProducer]
2021-08-17 07:35:28,397 DEBUG org.apache.activemq.store.kahadb.KahaDBStore.configureMetadata(KahaDBStore.java:211) Store OpenWire version configured as: 11
2021-08-17 07:35:28,428 TRACE org.apache.activemq.store.kahadb.disk.journal.Journal.start(Journal.java:360) Startup took: 31 ms
2021-08-17 07:35:28,428 TRACE org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:111) Shutdown of ExecutorService: java.util.concurrent.ScheduledThreadPoolExecutor@71926a36[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 0] with await termination: 4000 millis
2021-08-17 07:35:28,428 DEBUG org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:155) Shutdown of ExecutorService: java.util.concurrent.ScheduledThreadPoolExecutor@71926a36[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true took: 0.000 seconds.
2021-08-17 07:35:28,429 INFO  org.apache.activemq.store.kahadb.MessageDatabase.load(MessageDatabase.java:501) Persistence store purged.
2021-08-17 07:35:28,462 TRACE org.apache.activemq.store.kahadb.disk.journal.Journal.start(Journal.java:360) Startup took: 33 ms
2021-08-17 07:35:28,570 DEBUG org.apache.activemq.store.kahadb.disk.index.BTreeIndex.load(BTreeIndex.java:151) loading
2021-08-17 07:35:28,622 INFO  org.apache.activemq.store.kahadb.plist.PListStoreImpl.doStart(PListStoreImpl.java:371) PListStore:[/data/activemq/activemq-main-log-adjust/activemq-amqp/activemq-data/localhost/tmp_storage] started
2021-08-17 07:35:28,630 INFO  org.apache.activemq.broker.BrokerService.doStartBroker(BrokerService.java:732) Apache ActiveMQ 5.17.0-SNAPSHOT (localhost, ID:7d8ed0b1a3a5-37387-1629213796302-0:507) is starting
2021-08-17 07:35:28,631 DEBUG org.apache.activemq.broker.TransportConnector.getPublishableConnectString(TransportConnector.java:285) Publishing: tcp://7d8ed0b1a3a5:38901 for broker transport URI: tcp://7d8ed0b1a3a5:38901
2021-08-17 07:35:28,631 DEBUG org.apache.activemq.broker.TransportConnector.getPublishableConnectString(TransportConnector.java:285) Publishing: amqp://7d8ed0b1a3a5:39791 for broker transport URI: amqp://7d8ed0b1a3a5:39791?transport.tcpNoDelay=true&transport.transformer=jms
2021-08-17 07:35:28,632 INFO  org.apache.activemq.transport.TransportServerThreadSupport.doStart(TransportServerThreadSupport.java:69) Listening for connections at: tcp://7d8ed0b1a3a5:38901
2021-08-17 07:35:28,632 INFO  org.apache.activemq.broker.TransportConnector.start(TransportConnector.java:266) Connector tcp://7d8ed0b1a3a5:38901 started
2021-08-17 07:35:28,632 INFO  org.apache.activemq.transport.TransportServerThreadSupport.doStart(TransportServerThreadSupport.java:69) Listening for connections at: amqp://7d8ed0b1a3a5:39791?transport.tcpNoDelay=true&transport.transformer=jms
2021-08-17 07:35:28,632 INFO  org.apache.activemq.broker.TransportConnector.start(TransportConnector.java:266) Connector amqp://7d8ed0b1a3a5:39791?transport.tcpNoDelay=true&transport.transformer=jms started
2021-08-17 07:35:28,632 INFO  org.apache.activemq.broker.BrokerService.doStartBroker(BrokerService.java:759) Apache ActiveMQ 5.17.0-SNAPSHOT (localhost, ID:7d8ed0b1a3a5-37387-1629213796302-0:507) started
2021-08-17 07:35:28,632 INFO  org.apache.activemq.broker.BrokerService.doStartBroker(BrokerService.java:760) For help or more information please see: http://activemq.apache.org
2021-08-17 07:35:28,633 DEBUG org.apache.activemq.transport.amqp.JMSClientContext.createConnectionFactory(JMSClientContext.java:145) In createConnectionFactory using URI: amqp://7d8ed0b1a3a5:39791
2021-08-17 07:35:28,635 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.connect(NettyTcpTransport.java:147) Netty Transport using Epoll mode
2021-08-17 07:35:28,636 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.handleConnected(NettyTcpTransport.java:362) Channel has become active! Channel is [id: 0x1d796e28, L:/172.17.0.2:53280 - R:7d8ed0b1a3a5/172.17.0.2:39791]
2021-08-17 07:35:28,636 DEBUG org.apache.activemq.thread.TaskRunnerFactory.init(TaskRunnerFactory.java:98) Initialized TaskRunnerFactory[ActiveMQ BrokerService[localhost] Task] using ExecutorService: java.util.concurrent.ThreadPoolExecutor@5f61efc3[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
2021-08-17 07:35:28,636 TRACE org.apache.activemq.thread.TaskRunnerFactory.execute(TaskRunnerFactory.java:170) Execute[ActiveMQ BrokerService[localhost] Task] runnable: org.apache.activemq.broker.TransportConnector$1$1@51a61a5f
2021-08-17 07:35:28,636 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 8, cap: 8/8)
2021-08-17 07:35:28,637 TRACE org.apache.activemq.thread.TaskRunnerFactory$1.newThread(TaskRunnerFactory.java:206) Created thread[ActiveMQ BrokerService[localhost] Task-1]: Thread[ActiveMQ BrokerService[localhost] Task-1,5,main]
2021-08-17 07:35:28,637 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:28,637 TRACE org.apache.activemq.thread.TaskRunnerFactory$1.newThread(TaskRunnerFactory.java:206) Created thread[ActiveMQ BrokerService[localhost] Task-2]: Thread[ActiveMQ BrokerService[localhost] Task-2,5,main]
2021-08-17 07:35:28,637 TRACE org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:211) TCP consumer thread for tcp:///172.17.0.2:53280@39791 starting
2021-08-17 07:35:28,638 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 0 - Transport Connection to: tcp://172.17.0.2:53280
2021-08-17 07:35:28,638 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:344) Connection from an AMQP v1.0 client initiated. AMQP,3,1,0,0
2021-08-17 07:35:28,638 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 8 bytes
2021-08-17 07:35:28,638 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 42 bytes out
2021-08-17 07:35:28,638 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 1 - Transport Connection to: tcp://172.17.0.2:53280
2021-08-17 07:35:28,638 TRACE org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:50) Run task done: Transport Connection to: tcp://172.17.0.2:53280
2021-08-17 07:35:28,638 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 42, cap: 65536)
2021-08-17 07:35:28,639 TRACE org.apache.qpid.jms.sasl.SaslMechanismFinder.findMatchingMechanism(SaslMechanismFinder.java:91) Skipping SASL-PLAIN mechanism because the available credentials are not sufficient
2021-08-17 07:35:28,639 DEBUG org.apache.qpid.jms.sasl.SaslMechanismFinder.findMatchingMechanism(SaslMechanismFinder.java:106) Best match for SASL auth was: SASL-ANONYMOUS
2021-08-17 07:35:28,639 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: CONNECTION_INIT
2021-08-17 07:35:28,639 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 41, cap: 41/41)
2021-08-17 07:35:28,639 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:28,639 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 41 bytes
2021-08-17 07:35:28,639 DEBUG org.apache.activemq.transport.amqp.sasl.AmqpAuthenticator.processSaslExchange(AmqpAuthenticator.java:75) SASL [ANONYMOUS} Handshake started.
2021-08-17 07:35:28,639 DEBUG org.apache.activemq.transport.amqp.sasl.AmqpAuthenticator.processSaslExchange(AmqpAuthenticator.java:89) SASL [ANONYMOUS} Handshake complete.
2021-08-17 07:35:28,639 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 16 bytes out
2021-08-17 07:35:28,640 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 16, cap: 65536)
2021-08-17 07:35:28,640 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 8 bytes out
2021-08-17 07:35:28,640 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 8, cap: 8/8)
2021-08-17 07:35:28,640 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:28,640 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:344) Connection from an AMQP v1.0 client initiated. AMQP,0,1,0,0
2021-08-17 07:35:28,640 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 8 bytes
2021-08-17 07:35:28,640 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 305, cap: 305/305)
2021-08-17 07:35:28,640 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:28,640 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 305 bytes
2021-08-17 07:35:28,640 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 8, cap: 65536)
2021-08-17 07:35:28,641 DEBUG org.apache.activemq.broker.TransportConnection.processAddConnection(TransportConnection.java:820) Setting up new connection id: ID:7d8ed0b1a3a5-37387-1629213796302-1:604, address: tcp://172.17.0.2:53280, info: ConnectionInfo {commandId = 1, responseRequired = true, connectionId = ID:7d8ed0b1a3a5-37387-1629213796302-1:604, clientId = ID:c5b29a55-387f-4bc5-a876-3ff72f2330c6:1, clientIp = null, userName = null, password = *****, brokerPath = null, brokerMasterConnector = false, manageable = false, clientMaster = true, faultTolerant = false, failoverReconnect = false}
2021-08-17 07:35:28,641 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: CONNECTION_LOCAL_OPEN
2021-08-17 07:35:28,641 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection$2.onResponse(AmqpConnection.java:503) Connection requesting Idle timeout of: 30000 mills
2021-08-17 07:35:28,641 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.configureInactivityMonitor(AmqpConnection.java:851) Connection keep-alive processing starts in: 15000
2021-08-17 07:35:28,641 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 201 bytes out
2021-08-17 07:35:28,641 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 201, cap: 65536)
2021-08-17 07:35:28,641 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: CONNECTION_REMOTE_OPEN
2021-08-17 07:35:28,642 TRACE org.apache.qpid.jms.provider.amqp.AmqpConnectionProperties.processProperties(AmqpConnectionProperties.java:107) Remote sent Queue prefix value of: queue://
2021-08-17 07:35:28,642 TRACE org.apache.qpid.jms.provider.amqp.AmqpConnectionProperties.processProperties(AmqpConnectionProperties.java:115) Remote sent Topic prefix value of: topic://
2021-08-17 07:35:28,642 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: SESSION_INIT
2021-08-17 07:35:28,642 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: SESSION_LOCAL_OPEN
2021-08-17 07:35:28,642 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 32, cap: 32/32)
2021-08-17 07:35:28,642 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:28,642 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 32 bytes
2021-08-17 07:35:28,642 DEBUG org.apache.activemq.transport.amqp.protocol.AmqpSession.open(AmqpSession.java:105) Session ID:7d8ed0b1a3a5-37387-1629213796302-1:604:0 opened
2021-08-17 07:35:28,642 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 34 bytes out
2021-08-17 07:35:28,642 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 34, cap: 65536)
2021-08-17 07:35:28,642 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: SESSION_REMOTE_OPEN
2021-08-17 07:35:28,643 DEBUG org.apache.qpid.jms.provider.amqp.builders.AmqpConnectionBuilder$1$1.onSuccess(AmqpConnectionBuilder.java:84) AmqpConnection { ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1 } is now open: 
2021-08-17 07:35:28,643 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.fireConnectionEstablished(AmqpProvider.java:1118) IdleTimeoutCheck being initiated, initial delay: 7500
2021-08-17 07:35:28,643 INFO  org.apache.qpid.jms.JmsConnection.onConnectionEstablished(JmsConnection.java:1347) Connection ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1 connected to server: amqp://7d8ed0b1a3a5:39791
2021-08-17 07:35:28,643 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 32, cap: 32/32)
2021-08-17 07:35:28,643 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:28,643 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 32 bytes
2021-08-17 07:35:28,643 DEBUG org.apache.activemq.transport.amqp.protocol.AmqpSession.open(AmqpSession.java:105) Session ID:7d8ed0b1a3a5-37387-1629213796302-1:604:1 opened
2021-08-17 07:35:28,643 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 34 bytes out
2021-08-17 07:35:28,643 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 34, cap: 65536)
2021-08-17 07:35:28,644 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: SESSION_INIT
2021-08-17 07:35:28,644 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: SESSION_LOCAL_OPEN
2021-08-17 07:35:28,644 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: SESSION_REMOTE_OPEN
2021-08-17 07:35:28,644 DEBUG org.apache.qpid.jms.provider.amqp.builders.AmqpProducerBuilder.buildResource(AmqpProducerBuilder.java:68) Creating AmqpFixedProducer for: testMessagesAreAckedAMQPProducer
2021-08-17 07:35:28,644 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 361, cap: 361/361)
2021-08-17 07:35:28,644 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:28,644 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 361 bytes
2021-08-17 07:35:28,644 DEBUG org.apache.activemq.transport.amqp.protocol.AmqpSession.createReceiver(AmqpSession.java:185) opening new receiver ID:7d8ed0b1a3a5-37387-1629213796302-1:604:1:0 on link: qpid-jms:sender:ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1:1:1:queue://testMessagesAreAckedAMQPProducer
2021-08-17 07:35:28,645 DEBUG org.apache.activemq.broker.region.AbstractRegion.addDestination(AbstractRegion.java:154) localhost adding destination: queue://testMessagesAreAckedAMQPProducer
2021-08-17 07:35:28,645 DEBUG org.apache.activemq.store.kahadb.disk.index.BTreeIndex.load(BTreeIndex.java:151) loading
2021-08-17 07:35:28,645 DEBUG org.apache.activemq.store.kahadb.disk.index.BTreeIndex.load(BTreeIndex.java:151) loading
2021-08-17 07:35:28,645 DEBUG org.apache.activemq.store.kahadb.disk.index.BTreeIndex.load(BTreeIndex.java:151) loading
2021-08-17 07:35:28,645 DEBUG org.apache.activemq.store.kahadb.disk.index.BTreeIndex.load(BTreeIndex.java:151) loading
2021-08-17 07:35:28,645 DEBUG org.apache.activemq.store.kahadb.disk.index.BTreeIndex.load(BTreeIndex.java:151) loading
2021-08-17 07:35:28,646 DEBUG org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:2033) queue://testMessagesAreAckedAMQPProducer, subscriptions=0, memory=0%, size=0, pending=0 toPageIn: 0, force:false, Inflight: 0, pagedInMessages.size 0, pagedInPendingDispatch.size 0, enqueueCount: 0, dequeueCount: 0, memUsage:0, maxPageSize:200
2021-08-17 07:35:28,647 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 393 bytes out
2021-08-17 07:35:28,647 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 393, cap: 65536)
2021-08-17 07:35:28,647 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: LINK_INIT
2021-08-17 07:35:28,647 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: LINK_LOCAL_OPEN
2021-08-17 07:35:28,647 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: LINK_REMOTE_OPEN
2021-08-17 07:35:28,647 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: LINK_FLOW
2021-08-17 07:35:28,647 DEBUG org.apache.activemq.transport.amqp.AMQ4563Test.testMessagesAreAckedAMQPProducer(AMQ4563Test.java:97) >>>> Sent [Hello 0 sent at Tue Aug 17 07:35:28 GMT-08:00 2021]
2021-08-17 07:35:28,648 TRACE org.apache.qpid.jms.provider.amqp.AmqpFixedProducer.doSend(AmqpFixedProducer.java:120) Producer sending message: JmsOutboundMessageDispatch {dispatchId = ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1:1:1-1, MessageID = ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1:1:1-1 }
2021-08-17 07:35:28,648 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 248, cap: 248/248)
2021-08-17 07:35:28,648 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:28,648 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 248 bytes
2021-08-17 07:35:28,648 TRACE org.apache.activemq.transport.amqp.protocol.AmqpReceiver.processDelivery(AmqpReceiver.java:197) Inbound Message:ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1:1:1-1 from Producer:ID:7d8ed0b1a3a5-37387-1629213796302-1:604:1:0:1
2021-08-17 07:35:28,649 DEBUG org.apache.activemq.broker.region.Queue.messageSent(Queue.java:1962) localhost Message ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1:1:1-1 sent to queue://testMessagesAreAckedAMQPProducer
2021-08-17 07:35:28,649 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 0 - queue://testMessagesAreAckedAMQPProducer, subscriptions=0, memory=0%, size=1, pending=0
2021-08-17 07:35:28,649 DEBUG org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:2033) queue://testMessagesAreAckedAMQPProducer, subscriptions=0, memory=0%, size=1, pending=0 toPageIn: 1, force:false, Inflight: 0, pagedInMessages.size 0, pagedInPendingDispatch.size 0, enqueueCount: 1, dequeueCount: 0, memUsage:2438, maxPageSize:200
2021-08-17 07:35:28,649 TRACE org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:50) Run task done: queue://testMessagesAreAckedAMQPProducer, subscriptions=0, memory=0%, size=1, pending=0
2021-08-17 07:35:28,652 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 22 bytes out
2021-08-17 07:35:28,652 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 22, cap: 65536)
2021-08-17 07:35:28,652 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: DELIVERY
2021-08-17 07:35:28,653 TRACE org.apache.qpid.jms.provider.amqp.AmqpFixedProducer.processDeliveryUpdates(AmqpFixedProducer.java:217) Outcome of delivery was accepted: DeliveryImpl [_tag=[0], _link=org.apache.qpid.proton.engine.impl.SenderImpl@5a81a8c6, _deliveryState=null, _settled=false, _remoteSettled=true, _remoteDeliveryState=Accepted{}, _flags=0, _defaultDeliveryState=null, _transportDelivery=org.apache.qpid.proton.engine.impl.TransportDelivery@784e8af, _data Size=0, _complete=true, _updated=true, _done=true]
2021-08-17 07:35:28,653 DEBUG org.apache.activemq.transport.amqp.AMQ4563Test.testMessagesAreAckedAMQPProducer(AMQ4563Test.java:97) >>>> Sent [Hello 1 sent at Tue Aug 17 07:35:28 GMT-08:00 2021]
2021-08-17 07:35:28,653 TRACE org.apache.qpid.jms.provider.amqp.AmqpFixedProducer.doSend(AmqpFixedProducer.java:120) Producer sending message: JmsOutboundMessageDispatch {dispatchId = ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1:1:1-2, MessageID = ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1:1:1-2 }
2021-08-17 07:35:28,653 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 249, cap: 249/249)
2021-08-17 07:35:28,653 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:28,653 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 249 bytes
2021-08-17 07:35:28,653 TRACE org.apache.activemq.transport.amqp.protocol.AmqpReceiver.processDelivery(AmqpReceiver.java:197) Inbound Message:ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1:1:1-2 from Producer:ID:7d8ed0b1a3a5-37387-1629213796302-1:604:1:0:2
2021-08-17 07:35:28,653 DEBUG org.apache.activemq.broker.region.Queue.messageSent(Queue.java:1962) localhost Message ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1:1:1-2 sent to queue://testMessagesAreAckedAMQPProducer
2021-08-17 07:35:28,653 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 0 - queue://testMessagesAreAckedAMQPProducer, subscriptions=0, memory=0%, size=2, pending=0
2021-08-17 07:35:28,654 DEBUG org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:2033) queue://testMessagesAreAckedAMQPProducer, subscriptions=0, memory=0%, size=2, pending=0 toPageIn: 2, force:false, Inflight: 0, pagedInMessages.size 0, pagedInPendingDispatch.size 0, enqueueCount: 2, dequeueCount: 0, memUsage:3657, maxPageSize:200
2021-08-17 07:35:28,654 TRACE org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:50) Run task done: queue://testMessagesAreAckedAMQPProducer, subscriptions=0, memory=0%, size=2, pending=0
2021-08-17 07:35:28,658 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 24 bytes out
2021-08-17 07:35:28,658 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 24, cap: 65536)
2021-08-17 07:35:28,658 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: DELIVERY
2021-08-17 07:35:28,658 TRACE org.apache.qpid.jms.provider.amqp.AmqpFixedProducer.processDeliveryUpdates(AmqpFixedProducer.java:217) Outcome of delivery was accepted: DeliveryImpl [_tag=[0], _link=org.apache.qpid.proton.engine.impl.SenderImpl@5a81a8c6, _deliveryState=null, _settled=false, _remoteSettled=true, _remoteDeliveryState=Accepted{}, _flags=0, _defaultDeliveryState=null, _transportDelivery=org.apache.qpid.proton.engine.impl.TransportDelivery@2297474c, _data Size=0, _complete=true, _updated=true, _done=true]
2021-08-17 07:35:28,658 DEBUG org.apache.activemq.transport.amqp.AMQ4563Test.testMessagesAreAckedAMQPProducer(AMQ4563Test.java:97) >>>> Sent [Hello 2 sent at Tue Aug 17 07:35:28 GMT-08:00 2021]
2021-08-17 07:35:28,658 TRACE org.apache.qpid.jms.provider.amqp.AmqpFixedProducer.doSend(AmqpFixedProducer.java:120) Producer sending message: JmsOutboundMessageDispatch {dispatchId = ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1:1:1-3, MessageID = ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1:1:1-3 }
2021-08-17 07:35:28,658 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 249, cap: 249/249)
2021-08-17 07:35:28,658 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:28,658 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 249 bytes
2021-08-17 07:35:28,659 TRACE org.apache.activemq.transport.amqp.protocol.AmqpReceiver.processDelivery(AmqpReceiver.java:197) Inbound Message:ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1:1:1-3 from Producer:ID:7d8ed0b1a3a5-37387-1629213796302-1:604:1:0:3
2021-08-17 07:35:28,659 DEBUG org.apache.activemq.broker.region.Queue.messageSent(Queue.java:1962) localhost Message ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1:1:1-3 sent to queue://testMessagesAreAckedAMQPProducer
2021-08-17 07:35:28,659 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 0 - queue://testMessagesAreAckedAMQPProducer, subscriptions=0, memory=0%, size=3, pending=0
2021-08-17 07:35:28,659 DEBUG org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:2033) queue://testMessagesAreAckedAMQPProducer, subscriptions=0, memory=0%, size=3, pending=0 toPageIn: 3, force:false, Inflight: 0, pagedInMessages.size 0, pagedInPendingDispatch.size 0, enqueueCount: 3, dequeueCount: 0, memUsage:4876, maxPageSize:200
2021-08-17 07:35:28,659 TRACE org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:50) Run task done: queue://testMessagesAreAckedAMQPProducer, subscriptions=0, memory=0%, size=3, pending=0
2021-08-17 07:35:28,663 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 24 bytes out
2021-08-17 07:35:28,664 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 24, cap: 65536)
2021-08-17 07:35:28,664 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: DELIVERY
2021-08-17 07:35:28,664 TRACE org.apache.qpid.jms.provider.amqp.AmqpFixedProducer.processDeliveryUpdates(AmqpFixedProducer.java:217) Outcome of delivery was accepted: DeliveryImpl [_tag=[0], _link=org.apache.qpid.proton.engine.impl.SenderImpl@5a81a8c6, _deliveryState=null, _settled=false, _remoteSettled=true, _remoteDeliveryState=Accepted{}, _flags=0, _defaultDeliveryState=null, _transportDelivery=org.apache.qpid.proton.engine.impl.TransportDelivery@5657a6ce, _data Size=0, _complete=true, _updated=true, _done=true]
2021-08-17 07:35:28,664 TRACE org.apache.qpid.jms.provider.amqp.AmqpAbstractResource.close(AmqpAbstractResource.java:108) AmqpSession { ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1:1 } requesting close on remote.
2021-08-17 07:35:28,664 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 12, cap: 12/12)
2021-08-17 07:35:28,665 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:28,665 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 12 bytes
2021-08-17 07:35:28,665 DEBUG org.apache.activemq.transport.amqp.protocol.AmqpSession.close(AmqpSession.java:116) Session ID:7d8ed0b1a3a5-37387-1629213796302-1:604:1 closed
2021-08-17 07:35:28,665 DEBUG org.apache.activemq.broker.jmx.ManagementContext.unregisterMBean(ManagementContext.java:451) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,destinationType=Queue,destinationName=testMessagesAreAckedAMQPProducer,endpoint=Producer,clientId=ID_c5b29a55-387f-4bc5-a876-3ff72f2330c6_1,producerId=ID_7d8ed0b1a3a5-37387-1629213796302-1_604_1_0
2021-08-17 07:35:28,665 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 12 bytes out
2021-08-17 07:35:28,665 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 12, cap: 65536)
2021-08-17 07:35:28,665 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: SESSION_LOCAL_CLOSE
2021-08-17 07:35:28,665 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: SESSION_REMOTE_CLOSE
2021-08-17 07:35:28,665 DEBUG org.apache.qpid.jms.provider.amqp.AmqpAbstractResource.closeResource(AmqpAbstractResource.java:175) AmqpSession { ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1:1 } is now closed: 
2021-08-17 07:35:28,665 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: LINK_FINAL
2021-08-17 07:35:28,666 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: SESSION_FINAL
2021-08-17 07:35:28,666 TRACE org.apache.qpid.jms.provider.amqp.AmqpAbstractResource.close(AmqpAbstractResource.java:108) AmqpConnection { ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1 } requesting close on remote.
2021-08-17 07:35:28,666 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 12, cap: 12/12)
2021-08-17 07:35:28,666 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:28,666 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 12 bytes
2021-08-17 07:35:28,666 DEBUG org.apache.activemq.broker.TransportConnection.processRemoveConnection(TransportConnection.java:876) remove connection id: ID:7d8ed0b1a3a5-37387-1629213796302-1:604
2021-08-17 07:35:28,666 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 12 bytes out
2021-08-17 07:35:28,666 TRACE org.apache.activemq.thread.TaskRunnerFactory.execute(TaskRunnerFactory.java:170) Execute[ActiveMQ BrokerService[localhost] Task] runnable: org.apache.activemq.broker.TransportConnection$4@65acdf82
2021-08-17 07:35:28,666 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 12, cap: 65536)
2021-08-17 07:35:28,666 DEBUG org.apache.activemq.broker.jmx.ManagementContext.unregisterMBean(ManagementContext.java:451) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,connector=clientConnectors,connectorName=amqp_//7d8ed0b1a3a5_39791&qe;transport.tcpNoDelay&amp;true&transport.transformer&amp;jms,connectionViewType=clientId,connectionName=ID_c5b29a55-387f-4bc5-a876-3ff72f2330c6_1
2021-08-17 07:35:28,666 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: CONNECTION_LOCAL_CLOSE
2021-08-17 07:35:28,666 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: TRANSPORT_HEAD_CLOSED
2021-08-17 07:35:28,667 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: CONNECTION_REMOTE_CLOSE
2021-08-17 07:35:28,666 DEBUG org.apache.activemq.broker.jmx.ManagementContext.unregisterMBean(ManagementContext.java:451) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,connector=clientConnectors,connectorName=amqp_//7d8ed0b1a3a5_39791&qe;transport.tcpNoDelay&amp;true&transport.transformer&amp;jms,connectionViewType=remoteAddress,connectionName=tcp_//172.17.0.2_53280
2021-08-17 07:35:28,667 DEBUG org.apache.qpid.jms.provider.amqp.AmqpAbstractResource.closeResource(AmqpAbstractResource.java:175) AmqpConnection { ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1 } is now closed: 
2021-08-17 07:35:28,667 DEBUG org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1183) Stopping connection: tcp://172.17.0.2:53280
2021-08-17 07:35:28,667 TRACE org.apache.qpid.jms.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:127) Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@5f9579b[Running, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 1] with await termination: 0 millis
2021-08-17 07:35:28,667 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: TRANSPORT_TAIL_CLOSED
2021-08-17 07:35:28,667 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: TRANSPORT_CLOSED
2021-08-17 07:35:28,667 DEBUG org.apache.activemq.transport.tcp.TcpTransport.doStop(TcpTransport.java:549) Stopping transport tcp:///172.17.0.2:53280@39791
2021-08-17 07:35:28,667 DEBUG org.apache.qpid.jms.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:156) Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@5f9579b[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 1] is shutdown: true and terminated: false took: 0.000 seconds.
2021-08-17 07:35:28,667 DEBUG org.apache.activemq.thread.TaskRunnerFactory.init(TaskRunnerFactory.java:98) Initialized TaskRunnerFactory[ActiveMQ Task] using ExecutorService: java.util.concurrent.ThreadPoolExecutor@6218c050[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
2021-08-17 07:35:28,667 TRACE org.apache.activemq.thread.TaskRunnerFactory.execute(TaskRunnerFactory.java:170) Execute[ActiveMQ Task] runnable: org.apache.activemq.transport.tcp.TcpTransport$1@6cdf2263
2021-08-17 07:35:28,667 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.lambda$close$3(AmqpProvider.java:374) Cancelling scheduled IdleTimeoutCheck
2021-08-17 07:35:28,667 TRACE org.apache.activemq.thread.TaskRunnerFactory$1.newThread(TaskRunnerFactory.java:206) Created thread[ActiveMQ Task-1]: Thread[ActiveMQ Task-1,5,main]
2021-08-17 07:35:28,667 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.handleChannelInactive(NettyTcpTransport.java:367) Channel has gone inactive! Channel is [id: 0x1d796e28, L:/172.17.0.2:53280 ! R:7d8ed0b1a3a5/172.17.0.2:39791]
2021-08-17 07:35:28,668 TRACE org.apache.activemq.transport.tcp.TcpTransport$1.run(TcpTransport.java:565) Closing socket Socket[addr=/172.17.0.2,port=53280,localport=39791]
2021-08-17 07:35:28,668 DEBUG io.netty.buffer.PoolThreadCache.free(PoolThreadCache.java:224) Freed 6 thread-local buffer(s) from thread: AmqpProvider :(305):[amqp://7d8ed0b1a3a5:39791]
2021-08-17 07:35:28,668 DEBUG org.apache.activemq.transport.tcp.TcpTransport$1.run(TcpTransport.java:568) Closed socket Socket[addr=/172.17.0.2,port=53280,localport=39791]
2021-08-17 07:35:28,668 DEBUG org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:54) Forcing shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@6218c050[Running, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 1]
2021-08-17 07:35:28,668 TRACE org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:57) Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@6218c050[Shutting down, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 1] is shutdown: true and terminated: false.
2021-08-17 07:35:28,668 DEBUG org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1196) Stopped transport: tcp://172.17.0.2:53280
2021-08-17 07:35:28,668 TRACE org.apache.activemq.thread.PooledTaskRunner.shutdown(PooledTaskRunner.java:95) Shutdown timeout: 1 task: Transport Connection to: tcp://172.17.0.2:53280
2021-08-17 07:35:28,668 DEBUG org.apache.activemq.transport.amqp.AmqpTestSupport.stopBroker(AmqpTestSupport.java:262) entering AmqpTestSupport.stopBroker
2021-08-17 07:35:28,668 DEBUG org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1237) Connection Stopped: tcp://172.17.0.2:53280
2021-08-17 07:35:28,668 INFO  org.apache.activemq.broker.BrokerService.stop(BrokerService.java:816) Apache ActiveMQ 5.17.0-SNAPSHOT (localhost, ID:7d8ed0b1a3a5-37387-1629213796302-0:507) is shutting down
2021-08-17 07:35:28,668 DEBUG org.apache.activemq.broker.jmx.ManagementContext.unregisterMBean(ManagementContext.java:451) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,connector=clientConnectors,connectorName=tcp_//7d8ed0b1a3a5_38901
2021-08-17 07:35:28,669 INFO  org.apache.activemq.broker.TransportConnector.stop(TransportConnector.java:311) Connector tcp://7d8ed0b1a3a5:38901 stopped
2021-08-17 07:35:28,669 DEBUG org.apache.activemq.broker.jmx.ManagementContext.unregisterMBean(ManagementContext.java:451) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,connector=clientConnectors,connectorName=amqp_//7d8ed0b1a3a5_39791&qe;transport.tcpNoDelay&amp;true&transport.transformer&amp;jms
2021-08-17 07:35:28,669 INFO  org.apache.activemq.broker.TransportConnector.stop(TransportConnector.java:311) Connector amqp://7d8ed0b1a3a5:39791?transport.tcpNoDelay=true&transport.transformer=jms stopped
2021-08-17 07:35:28,669 TRACE org.apache.activemq.thread.PooledTaskRunner.shutdown(PooledTaskRunner.java:95) Shutdown timeout: 0 task: queue://testMessagesAreAckedAMQPProducer, subscriptions=0, memory=0%, size=3, pending=0
2021-08-17 07:35:28,669 DEBUG org.apache.activemq.broker.jmx.ManagementContext.unregisterMBean(ManagementContext.java:451) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,destinationType=Queue,destinationName=testMessagesAreAckedAMQPProducer
2021-08-17 07:35:28,670 INFO  org.apache.activemq.store.kahadb.plist.PListStoreImpl.doStop(PListStoreImpl.java:396) PListStore:[/data/activemq/activemq-main-log-adjust/activemq-amqp/activemq-data/localhost/tmp_storage] stopped
2021-08-17 07:35:28,670 INFO  org.apache.activemq.store.kahadb.KahaDBStore.doStop(KahaDBStore.java:268) Stopping async queue tasks
2021-08-17 07:35:28,670 INFO  org.apache.activemq.store.kahadb.KahaDBStore.doStop(KahaDBStore.java:282) Stopping async topic tasks
2021-08-17 07:35:28,670 DEBUG org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:54) Forcing shutdown of ExecutorService: org.apache.activemq.store.kahadb.KahaDBStore$StoreTaskExecutor@685f26aa[Running, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 3]
2021-08-17 07:35:28,670 TRACE org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:57) Shutdown of ExecutorService: org.apache.activemq.store.kahadb.KahaDBStore$StoreTaskExecutor@685f26aa[Shutting down, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 3] is shutdown: true and terminated: false.
2021-08-17 07:35:28,670 DEBUG org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:54) Forcing shutdown of ExecutorService: org.apache.activemq.store.kahadb.KahaDBStore$StoreTaskExecutor@27d5e1b5[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
2021-08-17 07:35:28,670 TRACE org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:57) Shutdown of ExecutorService: org.apache.activemq.store.kahadb.KahaDBStore$StoreTaskExecutor@27d5e1b5[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true.
2021-08-17 07:35:28,670 INFO  org.apache.activemq.store.kahadb.KahaDBStore.doStop(KahaDBStore.java:310) Stopped KahaDB
2021-08-17 07:35:28,670 DEBUG org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1809) Checkpoint started.
2021-08-17 07:35:28,680 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1831) Last update: 1:1386, full gc candidates set: [1]
2021-08-17 07:35:28,681 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1855) gc candidates after producerSequenceIdTrackerLocation:1:2026, []
2021-08-17 07:35:28,681 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1863) gc candidates after ackMessageFileMapLocation:1:2800, []
2021-08-17 07:35:28,681 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1874) gc candidates after in progress tx range:[null, null], []
2021-08-17 07:35:28,681 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1977) gc candidates: []
2021-08-17 07:35:28,681 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1978) ackMessageFileMap: {}
2021-08-17 07:35:28,681 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:2044) Not yet time to check for compaction: 1 of 10 cycles
2021-08-17 07:35:28,681 DEBUG org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:2053) Checkpoint done.
2021-08-17 07:35:28,709 DEBUG org.apache.activemq.transport.amqp.client.AmqpConnection$7.run(AmqpConnection.java:464) Client performing next idle check
2021-08-17 07:35:28,777 TRACE org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:111) Shutdown of ExecutorService: java.util.concurrent.ScheduledThreadPoolExecutor@6a40610e[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 0] with await termination: 4000 millis
2021-08-17 07:35:28,777 DEBUG org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:155) Shutdown of ExecutorService: java.util.concurrent.ScheduledThreadPoolExecutor@6a40610e[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true took: 0.000 seconds.
2021-08-17 07:35:28,777 TRACE org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:111) Shutdown of ExecutorService: java.util.concurrent.Executors$DelegatedScheduledExecutorService@6102d64f with await termination: -1 millis
2021-08-17 07:35:28,778 DEBUG org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:155) Shutdown of ExecutorService: java.util.concurrent.Executors$DelegatedScheduledExecutorService@6102d64f is shutdown: true and terminated: true took: 0.001 seconds.
2021-08-17 07:35:28,778 DEBUG org.apache.activemq.broker.jmx.ManagementContext.stop(ManagementContext.java:205) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost
2021-08-17 07:35:28,778 DEBUG org.apache.activemq.broker.jmx.ManagementContext.stop(ManagementContext.java:205) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,service=Health
2021-08-17 07:35:28,778 DEBUG org.apache.activemq.broker.jmx.ManagementContext.stop(ManagementContext.java:205) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,service=Log4JConfiguration
2021-08-17 07:35:28,778 TRACE org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:111) Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@5f61efc3[Running, pool size = 2, active threads = 0, queued tasks = 0, completed tasks = 6] with await termination: 0 millis
2021-08-17 07:35:28,778 DEBUG org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:155) Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@5f61efc3[Shutting down, pool size = 2, active threads = 0, queued tasks = 0, completed tasks = 6] is shutdown: true and terminated: false took: 0.000 seconds.
2021-08-17 07:35:28,778 DEBUG org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:54) Forcing shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@4584bdea[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
2021-08-17 07:35:28,778 TRACE org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:57) Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@4584bdea[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true.
2021-08-17 07:35:28,778 INFO  org.apache.activemq.broker.BrokerService.stop(BrokerService.java:876) Apache ActiveMQ 5.17.0-SNAPSHOT (localhost, ID:7d8ed0b1a3a5-37387-1629213796302-0:507) uptime 0.382 seconds
2021-08-17 07:35:28,778 INFO  org.apache.activemq.broker.BrokerService.stop(BrokerService.java:878) Apache ActiveMQ 5.17.0-SNAPSHOT (localhost, ID:7d8ed0b1a3a5-37387-1629213796302-0:507) is shutdown
2021-08-17 07:35:28,778 DEBUG org.apache.activemq.transport.amqp.AmqpTestSupport.stopBroker(AmqpTestSupport.java:268) exiting AmqpTestSupport.stopBroker
2021-08-17 07:35:28,779 DEBUG org.apache.activemq.transport.amqp.AmqpTestSupport.addTranportConnectors(AmqpTestSupport.java:133) Using openwire port 38901
2021-08-17 07:35:28,780 DEBUG org.apache.activemq.transport.amqp.AmqpTestSupport.addTranportConnectors(AmqpTestSupport.java:139) Using amqp port 39791
2021-08-17 07:35:28,780 WARN  org.apache.activemq.broker.BrokerService.checkMemorySystemUsageLimits(BrokerService.java:2159) Memory Usage for the Broker (1024mb) is more than the maximum available for the JVM: 473 mb - resetting to 70% of maximum available: 331
2021-08-17 07:35:28,780 INFO  org.apache.activemq.broker.BrokerService.doStartPersistenceAdapter(BrokerService.java:669) Using Persistence Adapter: KahaDB:[/data/activemq/activemq-main-log-adjust/activemq-amqp/target/activemq-data/testMessagesAreAckedAMQPProducer]
2021-08-17 07:35:28,780 DEBUG org.apache.activemq.store.kahadb.KahaDBStore.configureMetadata(KahaDBStore.java:211) Store OpenWire version configured as: 11
2021-08-17 07:35:28,786 TRACE org.apache.activemq.store.kahadb.disk.journal.Journal.start(Journal.java:360) Startup took: 5 ms
2021-08-17 07:35:28,822 INFO  org.apache.activemq.store.kahadb.MessageDatabase$Metadata.read(MessageDatabase.java:194) KahaDB is version 7
2021-08-17 07:35:28,823 DEBUG org.apache.activemq.store.kahadb.disk.index.BTreeIndex.load(BTreeIndex.java:151) loading
2021-08-17 07:35:28,823 DEBUG org.apache.activemq.store.kahadb.disk.index.BTreeIndex.load(BTreeIndex.java:151) loading
2021-08-17 07:35:28,823 DEBUG org.apache.activemq.store.kahadb.disk.index.BTreeIndex.load(BTreeIndex.java:151) loading
2021-08-17 07:35:28,823 DEBUG org.apache.activemq.store.kahadb.disk.index.BTreeIndex.load(BTreeIndex.java:151) loading
2021-08-17 07:35:28,823 DEBUG org.apache.activemq.store.kahadb.disk.index.BTreeIndex.load(BTreeIndex.java:151) loading
2021-08-17 07:35:28,823 DEBUG org.apache.activemq.store.kahadb.disk.index.BTreeIndex.load(BTreeIndex.java:151) loading
2021-08-17 07:35:28,824 INFO  org.apache.activemq.store.kahadb.plist.PListStoreImpl.doStart(PListStoreImpl.java:371) PListStore:[/data/activemq/activemq-main-log-adjust/activemq-amqp/activemq-data/localhost/tmp_storage] started
2021-08-17 07:35:28,825 INFO  org.apache.activemq.broker.BrokerService.doStartBroker(BrokerService.java:732) Apache ActiveMQ 5.17.0-SNAPSHOT (localhost, ID:7d8ed0b1a3a5-37387-1629213796302-0:508) is starting
2021-08-17 07:35:28,825 DEBUG org.apache.activemq.broker.region.AbstractRegion.addDestination(AbstractRegion.java:154) localhost adding destination: queue://testMessagesAreAckedAMQPProducer
2021-08-17 07:35:28,825 DEBUG org.apache.activemq.thread.TaskRunnerFactory.init(TaskRunnerFactory.java:98) Initialized TaskRunnerFactory[ActiveMQ BrokerService[localhost] Task] using ExecutorService: java.util.concurrent.ThreadPoolExecutor@d0029c3[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
2021-08-17 07:35:28,825 DEBUG org.apache.activemq.transport.amqp.client.AmqpConnection$7.run(AmqpConnection.java:464) Client performing next idle check
2021-08-17 07:35:28,826 DEBUG org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:2033) queue://testMessagesAreAckedAMQPProducer, subscriptions=0, memory=0%, size=3, pending=0 toPageIn: 3, force:false, Inflight: 0, pagedInMessages.size 0, pagedInPendingDispatch.size 0, enqueueCount: 0, dequeueCount: 0, memUsage:0, maxPageSize:200
2021-08-17 07:35:28,827 DEBUG org.apache.activemq.broker.TransportConnector.getPublishableConnectString(TransportConnector.java:285) Publishing: tcp://7d8ed0b1a3a5:38901 for broker transport URI: tcp://7d8ed0b1a3a5:38901
2021-08-17 07:35:28,827 DEBUG org.apache.activemq.broker.TransportConnector.getPublishableConnectString(TransportConnector.java:285) Publishing: amqp://7d8ed0b1a3a5:39791 for broker transport URI: amqp://7d8ed0b1a3a5:39791?transport.tcpNoDelay=true&transport.transformer=jms
2021-08-17 07:35:28,827 INFO  org.apache.activemq.transport.TransportServerThreadSupport.doStart(TransportServerThreadSupport.java:69) Listening for connections at: tcp://7d8ed0b1a3a5:38901
2021-08-17 07:35:28,829 INFO  org.apache.activemq.broker.TransportConnector.start(TransportConnector.java:266) Connector tcp://7d8ed0b1a3a5:38901 started
2021-08-17 07:35:28,830 INFO  org.apache.activemq.transport.TransportServerThreadSupport.doStart(TransportServerThreadSupport.java:69) Listening for connections at: amqp://7d8ed0b1a3a5:39791?transport.tcpNoDelay=true&transport.transformer=jms
2021-08-17 07:35:28,832 INFO  org.apache.activemq.broker.TransportConnector.start(TransportConnector.java:266) Connector amqp://7d8ed0b1a3a5:39791?transport.tcpNoDelay=true&transport.transformer=jms started
2021-08-17 07:35:28,832 INFO  org.apache.activemq.broker.BrokerService.doStartBroker(BrokerService.java:759) Apache ActiveMQ 5.17.0-SNAPSHOT (localhost, ID:7d8ed0b1a3a5-37387-1629213796302-0:508) started
2021-08-17 07:35:28,832 INFO  org.apache.activemq.broker.BrokerService.doStartBroker(BrokerService.java:760) For help or more information please see: http://activemq.apache.org
2021-08-17 07:35:28,832 DEBUG org.apache.activemq.transport.amqp.JMSClientContext.createConnectionFactory(JMSClientContext.java:145) In createConnectionFactory using URI: amqp://7d8ed0b1a3a5:39791
2021-08-17 07:35:28,833 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.connect(NettyTcpTransport.java:147) Netty Transport using Epoll mode
2021-08-17 07:35:28,834 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.handleConnected(NettyTcpTransport.java:362) Channel has become active! Channel is [id: 0xd6ba7b44, L:/172.17.0.2:53288 - R:7d8ed0b1a3a5/172.17.0.2:39791]
2021-08-17 07:35:28,835 TRACE org.apache.activemq.thread.TaskRunnerFactory.execute(TaskRunnerFactory.java:170) Execute[ActiveMQ BrokerService[localhost] Task] runnable: org.apache.activemq.broker.TransportConnector$1$1@18fd3686
2021-08-17 07:35:28,835 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 8, cap: 8/8)
2021-08-17 07:35:28,835 TRACE org.apache.activemq.thread.TaskRunnerFactory$1.newThread(TaskRunnerFactory.java:206) Created thread[ActiveMQ BrokerService[localhost] Task-1]: Thread[ActiveMQ BrokerService[localhost] Task-1,5,main]
2021-08-17 07:35:28,835 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:28,836 TRACE org.apache.activemq.thread.TaskRunnerFactory$1.newThread(TaskRunnerFactory.java:206) Created thread[ActiveMQ BrokerService[localhost] Task-2]: Thread[ActiveMQ BrokerService[localhost] Task-2,5,main]
2021-08-17 07:35:28,836 TRACE org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:211) TCP consumer thread for tcp:///172.17.0.2:53288@39791 starting
2021-08-17 07:35:28,837 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:344) Connection from an AMQP v1.0 client initiated. AMQP,3,1,0,0
2021-08-17 07:35:28,838 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 8 bytes
2021-08-17 07:35:28,838 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 42 bytes out
2021-08-17 07:35:28,839 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 42, cap: 65536)
2021-08-17 07:35:28,840 TRACE org.apache.qpid.jms.sasl.SaslMechanismFinder.findMatchingMechanism(SaslMechanismFinder.java:91) Skipping SASL-PLAIN mechanism because the available credentials are not sufficient
2021-08-17 07:35:28,840 DEBUG org.apache.qpid.jms.sasl.SaslMechanismFinder.findMatchingMechanism(SaslMechanismFinder.java:106) Best match for SASL auth was: SASL-ANONYMOUS
2021-08-17 07:35:28,840 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: CONNECTION_INIT
2021-08-17 07:35:28,840 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 41, cap: 41/41)
2021-08-17 07:35:28,840 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:28,840 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 41 bytes
2021-08-17 07:35:28,840 DEBUG org.apache.activemq.transport.amqp.sasl.AmqpAuthenticator.processSaslExchange(AmqpAuthenticator.java:75) SASL [ANONYMOUS} Handshake started.
2021-08-17 07:35:28,841 DEBUG org.apache.activemq.transport.amqp.sasl.AmqpAuthenticator.processSaslExchange(AmqpAuthenticator.java:89) SASL [ANONYMOUS} Handshake complete.
2021-08-17 07:35:28,841 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 16 bytes out
2021-08-17 07:35:28,841 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 16, cap: 65536)
2021-08-17 07:35:28,841 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 8 bytes out
2021-08-17 07:35:28,841 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 8, cap: 8/8)
2021-08-17 07:35:28,841 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:28,841 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 305, cap: 305/305)
2021-08-17 07:35:28,842 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:28,842 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 8, cap: 65536)
2021-08-17 07:35:28,842 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: CONNECTION_LOCAL_OPEN
2021-08-17 07:35:28,842 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:344) Connection from an AMQP v1.0 client initiated. AMQP,0,1,0,0
2021-08-17 07:35:28,842 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 8 bytes
2021-08-17 07:35:28,842 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 305 bytes
2021-08-17 07:35:28,843 DEBUG org.apache.activemq.broker.TransportConnection.processAddConnection(TransportConnection.java:820) Setting up new connection id: ID:7d8ed0b1a3a5-37387-1629213796302-1:605, address: tcp://172.17.0.2:53288, info: ConnectionInfo {commandId = 1, responseRequired = true, connectionId = ID:7d8ed0b1a3a5-37387-1629213796302-1:605, clientId = ID:64862033-8a6b-4b81-bd84-646d1b8e6063:1, clientIp = null, userName = null, password = *****, brokerPath = null, brokerMasterConnector = false, manageable = false, clientMaster = true, faultTolerant = false, failoverReconnect = false}
2021-08-17 07:35:28,843 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 0 - Transport Connection to: tcp://172.17.0.2:53288
2021-08-17 07:35:28,843 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection$2.onResponse(AmqpConnection.java:503) Connection requesting Idle timeout of: 30000 mills
2021-08-17 07:35:28,843 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.configureInactivityMonitor(AmqpConnection.java:851) Connection keep-alive processing starts in: 15000
2021-08-17 07:35:28,843 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 201 bytes out
2021-08-17 07:35:28,843 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 1 - Transport Connection to: tcp://172.17.0.2:53288
2021-08-17 07:35:28,843 TRACE org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:50) Run task done: Transport Connection to: tcp://172.17.0.2:53288
2021-08-17 07:35:28,843 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 201, cap: 65536)
2021-08-17 07:35:28,843 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: CONNECTION_REMOTE_OPEN
2021-08-17 07:35:28,843 TRACE org.apache.qpid.jms.provider.amqp.AmqpConnectionProperties.processProperties(AmqpConnectionProperties.java:107) Remote sent Queue prefix value of: queue://
2021-08-17 07:35:28,843 TRACE org.apache.qpid.jms.provider.amqp.AmqpConnectionProperties.processProperties(AmqpConnectionProperties.java:115) Remote sent Topic prefix value of: topic://
2021-08-17 07:35:28,844 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: SESSION_INIT
2021-08-17 07:35:28,844 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: SESSION_LOCAL_OPEN
2021-08-17 07:35:28,844 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 32, cap: 32/32)
2021-08-17 07:35:28,844 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:28,844 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 32 bytes
2021-08-17 07:35:28,844 DEBUG org.apache.activemq.transport.amqp.protocol.AmqpSession.open(AmqpSession.java:105) Session ID:7d8ed0b1a3a5-37387-1629213796302-1:605:0 opened
2021-08-17 07:35:28,844 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 34 bytes out
2021-08-17 07:35:28,844 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 34, cap: 65536)
2021-08-17 07:35:28,844 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: SESSION_REMOTE_OPEN
2021-08-17 07:35:28,844 DEBUG org.apache.qpid.jms.provider.amqp.builders.AmqpConnectionBuilder$1$1.onSuccess(AmqpConnectionBuilder.java:84) AmqpConnection { ID:58f16f3c-c8db-4bd0-a50a-bb013f6518ff:1 } is now open: 
2021-08-17 07:35:28,844 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.fireConnectionEstablished(AmqpProvider.java:1118) IdleTimeoutCheck being initiated, initial delay: 7500
2021-08-17 07:35:28,844 INFO  org.apache.qpid.jms.JmsConnection.onConnectionEstablished(JmsConnection.java:1347) Connection ID:58f16f3c-c8db-4bd0-a50a-bb013f6518ff:1 connected to server: amqp://7d8ed0b1a3a5:39791
2021-08-17 07:35:28,844 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 32, cap: 32/32)
2021-08-17 07:35:28,844 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:28,844 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 32 bytes
2021-08-17 07:35:28,845 DEBUG org.apache.activemq.transport.amqp.protocol.AmqpSession.open(AmqpSession.java:105) Session ID:7d8ed0b1a3a5-37387-1629213796302-1:605:1 opened
2021-08-17 07:35:28,845 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 34 bytes out
2021-08-17 07:35:28,845 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 34, cap: 65536)
2021-08-17 07:35:28,845 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: SESSION_INIT
2021-08-17 07:35:28,845 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: SESSION_LOCAL_OPEN
2021-08-17 07:35:28,845 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: SESSION_REMOTE_OPEN
2021-08-17 07:35:28,845 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 300, cap: 300/300)
2021-08-17 07:35:28,845 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:28,845 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 300 bytes
2021-08-17 07:35:28,845 DEBUG org.apache.activemq.transport.amqp.protocol.AmqpSession.createSender(AmqpSession.java:265) opening new sender ID:7d8ed0b1a3a5-37387-1629213796302-1:605:1:0 on link: qpid-jms:receiver:ID:58f16f3c-c8db-4bd0-a50a-bb013f6518ff:1:1:1:queue://testMessagesAreAckedAMQPProducer
2021-08-17 07:35:28,845 DEBUG org.apache.activemq.broker.region.AbstractRegion.addConsumer(AbstractRegion.java:341) localhost adding consumer: ID:7d8ed0b1a3a5-37387-1629213796302-1:605:1:0 for destination: queue://testMessagesAreAckedAMQPProducer
2021-08-17 07:35:28,846 DEBUG org.apache.activemq.broker.region.Queue.addSubscription(Queue.java:426) queue://testMessagesAreAckedAMQPProducer add sub: QueueSubscription: consumer=ID:7d8ed0b1a3a5-37387-1629213796302-1:605:1:0, destinations=0, dispatched=0, delivered=0, pending=0, prefetch=0, prefetchExtension=0, dequeues: 0, dispatched: 0, inflight: 0
2021-08-17 07:35:28,846 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 0 - queue://testMessagesAreAckedAMQPProducer, subscriptions=1, memory=0%, size=3, pending=0
2021-08-17 07:35:28,846 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 303 bytes out
2021-08-17 07:35:28,846 DEBUG org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:2033) queue://testMessagesAreAckedAMQPProducer, subscriptions=1, memory=0%, size=3, pending=0 toPageIn: 3, force:false, Inflight: 0, pagedInMessages.size 0, pagedInPendingDispatch.size 0, enqueueCount: 0, dequeueCount: 0, memUsage:0, maxPageSize:200
2021-08-17 07:35:28,846 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 303, cap: 65536)
2021-08-17 07:35:28,846 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: LINK_INIT
2021-08-17 07:35:28,846 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: LINK_LOCAL_OPEN
2021-08-17 07:35:28,846 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: LINK_REMOTE_OPEN
2021-08-17 07:35:28,846 TRACE org.apache.activemq.broker.region.cursors.AbstractStoreCursor.fillBatch(AbstractStoreCursor.java:466) org.apache.activemq.broker.region.cursors.QueueStorePrefetch@7703e67:testMessagesAreAckedAMQPProducer,batchResetNeeded=false,size=3,cacheEnabled=false,maxBatchSize:3,hasSpace:true,pendingCachedIds.size:0,lastSyncCachedId:null,lastSyncCachedId-seq:null,lastAsyncCachedId:null,lastAsyncCachedId-seq:null,store=permits:10000,sd=nextSeq:3,lastRet:MessageOrderCursor:[def:0, low:0, high:0],pending:0 fillBatch
2021-08-17 07:35:28,846 TRACE org.apache.qpid.jms.provider.amqp.AmqpConsumer.sendFlowIfNeeded(AmqpConsumer.java:406) Consumer ID:58f16f3c-c8db-4bd0-a50a-bb013f6518ff:1:1:1 granting additional credit: 1000
2021-08-17 07:35:28,847 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 35, cap: 35/35)
2021-08-17 07:35:28,847 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:28,847 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 35 bytes
2021-08-17 07:35:28,847 TRACE org.apache.activemq.transport.amqp.protocol.AmqpSender.flow(AmqpSender.java:181) Flow: draining=false, drain=false credit=1000, currentCredit=0, senderDeliveryCount=0 - Sub=QueueSubscription: consumer=ID:7d8ed0b1a3a5-37387-1629213796302-1:605:1:0, destinations=1, dispatched=0, delivered=0, pending=0, prefetch=0, prefetchExtension=0
2021-08-17 07:35:28,847 TRACE org.apache.activemq.transport.amqp.protocol.AmqpSender.flow(AmqpSender.java:238) Flow: credit addition of 1000 for sub QueueSubscription: consumer=ID:7d8ed0b1a3a5-37387-1629213796302-1:605:1:0, destinations=1, dispatched=0, delivered=1000, pending=0, prefetch=0, prefetchExtension=1000
2021-08-17 07:35:28,848 TRACE org.apache.activemq.broker.region.Queue.doActualDispatch(Queue.java:2201) assigned ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1:1:1-1 to consumer ID:7d8ed0b1a3a5-37387-1629213796302-1:605:1:0
2021-08-17 07:35:28,848 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 0 - Transport Connection to: tcp://172.17.0.2:53288
2021-08-17 07:35:28,848 TRACE org.apache.activemq.broker.region.Queue.doActualDispatch(Queue.java:2201) assigned ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1:1:1-2 to consumer ID:7d8ed0b1a3a5-37387-1629213796302-1:605:1:0
2021-08-17 07:35:28,848 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onActiveMQCommand(AmqpConnection.java:656) Dispatching MessageId: ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1:1:1-1 to consumer
2021-08-17 07:35:28,848 TRACE org.apache.activemq.broker.region.Queue.doActualDispatch(Queue.java:2201) assigned ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1:1:1-3 to consumer ID:7d8ed0b1a3a5-37387-1629213796302-1:605:1:0
2021-08-17 07:35:28,848 TRACE org.apache.activemq.transport.amqp.protocol.AmqpSender.pumpOutbound(AmqpSender.java:464) Sender:[qpid-jms:receiver:ID:58f16f3c-c8db-4bd0-a50a-bb013f6518ff:1:1:1:queue://testMessagesAreAckedAMQPProducer] msgId=ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1:1:1-1 draining=false, drain=false, credit=1000, remoteCredit=1000, queued=0
2021-08-17 07:35:28,848 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 1 - queue://testMessagesAreAckedAMQPProducer, subscriptions=1, memory=0%, size=3, pending=0
2021-08-17 07:35:28,848 DEBUG org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:2033) queue://testMessagesAreAckedAMQPProducer, subscriptions=1, memory=0%, size=3, pending=0 toPageIn: 0, force:false, Inflight: 0, pagedInMessages.size 3, pagedInPendingDispatch.size 0, enqueueCount: 0, dequeueCount: 0, memUsage:3657, maxPageSize:200
2021-08-17 07:35:28,848 TRACE org.apache.activemq.thread.TaskRunnerFactory$1.newThread(TaskRunnerFactory.java:206) Created thread[ActiveMQ BrokerService[localhost] Task-3]: Thread[ActiveMQ BrokerService[localhost] Task-3,5,main]
2021-08-17 07:35:28,848 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 248 bytes out
2021-08-17 07:35:28,848 TRACE org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:50) Run task done: queue://testMessagesAreAckedAMQPProducer, subscriptions=1, memory=0%, size=3, pending=0
2021-08-17 07:35:28,848 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onActiveMQCommand(AmqpConnection.java:662) Finished Dispatch of MessageId: ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1:1:1-1 to consumer
2021-08-17 07:35:28,848 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 0 - queue://testMessagesAreAckedAMQPProducer, subscriptions=1, memory=0%, size=3, pending=0
2021-08-17 07:35:28,848 TRACE org.apache.activemq.broker.region.PrefetchSubscription.onDispatch(PrefetchSubscription.java:758) ID:7d8ed0b1a3a5-37387-1629213796302-1:605:1:0 dispatched: ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1:1:1-1 - queue://testMessagesAreAckedAMQPProducer, dispatched: 3, inflight: 3
2021-08-17 07:35:28,848 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 248, cap: 65536)
2021-08-17 07:35:28,848 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 1 - Transport Connection to: tcp://172.17.0.2:53288
2021-08-17 07:35:28,848 DEBUG org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:2033) queue://testMessagesAreAckedAMQPProducer, subscriptions=1, memory=0%, size=3, pending=0 toPageIn: 0, force:false, Inflight: 1, pagedInMessages.size 3, pagedInPendingDispatch.size 0, enqueueCount: 0, dequeueCount: 0, memUsage:3657, maxPageSize:200
2021-08-17 07:35:28,849 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onActiveMQCommand(AmqpConnection.java:656) Dispatching MessageId: ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1:1:1-2 to consumer
2021-08-17 07:35:28,849 TRACE org.apache.activemq.transport.amqp.protocol.AmqpSender.pumpOutbound(AmqpSender.java:464) Sender:[qpid-jms:receiver:ID:58f16f3c-c8db-4bd0-a50a-bb013f6518ff:1:1:1:queue://testMessagesAreAckedAMQPProducer] msgId=ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1:1:1-2 draining=false, drain=false, credit=999, remoteCredit=999, queued=0
2021-08-17 07:35:28,849 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: DELIVERY
2021-08-17 07:35:28,849 TRACE org.apache.qpid.jms.provider.amqp.AmqpConsumer.processDeliveryUpdates(AmqpConsumer.java:530) AmqpConsumer { ID:58f16f3c-c8db-4bd0-a50a-bb013f6518ff:1:1:1 } has incoming Message(s).
2021-08-17 07:35:28,849 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 249 bytes out
2021-08-17 07:35:28,849 TRACE org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:50) Run task done: queue://testMessagesAreAckedAMQPProducer, subscriptions=1, memory=0%, size=3, pending=0
2021-08-17 07:35:28,849 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onActiveMQCommand(AmqpConnection.java:662) Finished Dispatch of MessageId: ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1:1:1-2 to consumer
2021-08-17 07:35:28,849 TRACE org.apache.activemq.broker.region.PrefetchSubscription.onDispatch(PrefetchSubscription.java:758) ID:7d8ed0b1a3a5-37387-1629213796302-1:605:1:0 dispatched: ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1:1:1-2 - queue://testMessagesAreAckedAMQPProducer, dispatched: 3, inflight: 3
2021-08-17 07:35:28,849 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 2 - Transport Connection to: tcp://172.17.0.2:53288
2021-08-17 07:35:28,849 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onActiveMQCommand(AmqpConnection.java:656) Dispatching MessageId: ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1:1:1-3 to consumer
2021-08-17 07:35:28,849 TRACE org.apache.activemq.transport.amqp.protocol.AmqpSender.pumpOutbound(AmqpSender.java:464) Sender:[qpid-jms:receiver:ID:58f16f3c-c8db-4bd0-a50a-bb013f6518ff:1:1:1:queue://testMessagesAreAckedAMQPProducer] msgId=ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1:1:1-3 draining=false, drain=false, credit=998, remoteCredit=998, queued=0
2021-08-17 07:35:28,849 DEBUG org.apache.qpid.jms.provider.amqp.AmqpConsumer.deliver(AmqpConsumer.java:649) Dispatching received message: JmsInboundMessageDispatch { sequence = 1, messageId = ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1:1:1-1, consumerId = ID:58f16f3c-c8db-4bd0-a50a-bb013f6518ff:1:1:1 }
2021-08-17 07:35:28,849 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 249 bytes out
2021-08-17 07:35:28,849 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 249, cap: 65536)
2021-08-17 07:35:28,849 TRACE org.apache.qpid.jms.JmsSession.redeliveryExceeded(JmsSession.java:1376) checking envelope with 0 redeliveries
2021-08-17 07:35:28,849 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: DELIVERY
2021-08-17 07:35:28,849 TRACE org.apache.qpid.jms.provider.amqp.AmqpConsumer.processDeliveryUpdates(AmqpConsumer.java:530) AmqpConsumer { ID:58f16f3c-c8db-4bd0-a50a-bb013f6518ff:1:1:1 } has incoming Message(s).
2021-08-17 07:35:28,849 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onActiveMQCommand(AmqpConnection.java:662) Finished Dispatch of MessageId: ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1:1:1-3 to consumer
2021-08-17 07:35:28,849 TRACE org.apache.activemq.broker.region.PrefetchSubscription.onDispatch(PrefetchSubscription.java:758) ID:7d8ed0b1a3a5-37387-1629213796302-1:605:1:0 dispatched: ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1:1:1-3 - queue://testMessagesAreAckedAMQPProducer, dispatched: 3, inflight: 3
2021-08-17 07:35:28,850 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 3 - Transport Connection to: tcp://172.17.0.2:53288
2021-08-17 07:35:28,849 DEBUG org.apache.qpid.jms.provider.amqp.AmqpConsumer.deliver(AmqpConsumer.java:649) Dispatching received message: JmsInboundMessageDispatch { sequence = 2, messageId = ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1:1:1-2, consumerId = ID:58f16f3c-c8db-4bd0-a50a-bb013f6518ff:1:1:1 }
2021-08-17 07:35:28,849 TRACE org.apache.qpid.jms.JmsMessageConsumer.dequeue(JmsMessageConsumer.java:366) ID:58f16f3c-c8db-4bd0-a50a-bb013f6518ff:1:1:1 received message: JmsInboundMessageDispatch { sequence = 1, messageId = ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1:1:1-1, consumerId = ID:58f16f3c-c8db-4bd0-a50a-bb013f6518ff:1:1:1 }
2021-08-17 07:35:28,850 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 249, cap: 65536)
2021-08-17 07:35:28,850 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: DELIVERY
2021-08-17 07:35:28,850 TRACE org.apache.qpid.jms.provider.amqp.AmqpConsumer.processDeliveryUpdates(AmqpConsumer.java:530) AmqpConsumer { ID:58f16f3c-c8db-4bd0-a50a-bb013f6518ff:1:1:1 } has incoming Message(s).
2021-08-17 07:35:28,850 TRACE org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:50) Run task done: Transport Connection to: tcp://172.17.0.2:53288
2021-08-17 07:35:28,850 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 0 - Transport Connection to: tcp://172.17.0.2:53288
2021-08-17 07:35:28,850 TRACE org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:50) Run task done: Transport Connection to: tcp://172.17.0.2:53288
2021-08-17 07:35:28,850 DEBUG org.apache.qpid.jms.provider.amqp.AmqpConsumer.deliver(AmqpConsumer.java:649) Dispatching received message: JmsInboundMessageDispatch { sequence = 3, messageId = ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1:1:1-3, consumerId = ID:58f16f3c-c8db-4bd0-a50a-bb013f6518ff:1:1:1 }
2021-08-17 07:35:28,850 DEBUG org.apache.qpid.jms.provider.amqp.AmqpConsumer.handleAccepted(AmqpConsumer.java:347) Accepted Ack of message: JmsInboundMessageDispatch { sequence = 1, messageId = ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1:1:1-1, consumerId = ID:58f16f3c-c8db-4bd0-a50a-bb013f6518ff:1:1:1 }
2021-08-17 07:35:28,850 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 22, cap: 22/22)
2021-08-17 07:35:28,850 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:28,850 DEBUG org.apache.activemq.transport.amqp.AMQ4563Test.readAllMessages(AMQ4563Test.java:138) >>>> Received [Hello 0 sent at Tue Aug 17 07:35:28 GMT-08:00 2021]
2021-08-17 07:35:28,850 TRACE org.apache.qpid.jms.JmsSession.redeliveryExceeded(JmsSession.java:1376) checking envelope with 0 redeliveries
2021-08-17 07:35:28,850 TRACE org.apache.qpid.jms.JmsMessageConsumer.dequeue(JmsMessageConsumer.java:366) ID:58f16f3c-c8db-4bd0-a50a-bb013f6518ff:1:1:1 received message: JmsInboundMessageDispatch { sequence = 2, messageId = ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1:1:1-2, consumerId = ID:58f16f3c-c8db-4bd0-a50a-bb013f6518ff:1:1:1 }
2021-08-17 07:35:28,850 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 22 bytes
2021-08-17 07:35:28,850 DEBUG org.apache.qpid.jms.provider.amqp.AmqpConsumer.handleAccepted(AmqpConsumer.java:347) Accepted Ack of message: JmsInboundMessageDispatch { sequence = 2, messageId = ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1:1:1-2, consumerId = ID:58f16f3c-c8db-4bd0-a50a-bb013f6518ff:1:1:1 }
2021-08-17 07:35:28,850 TRACE org.apache.activemq.transport.amqp.protocol.AmqpSender.delivery(AmqpSender.java:273) onDelivery: accepted state = Accepted{}
2021-08-17 07:35:28,850 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 24, cap: 24/24)
2021-08-17 07:35:28,850 TRACE org.apache.activemq.transport.amqp.protocol.AmqpSender.settle(AmqpSender.java:520) Sending Ack to ActiveMQ: MessageAck {commandId = 0, responseRequired = false, ackType = 4, consumerId = ID:7d8ed0b1a3a5-37387-1629213796302-1:605:1:0, firstMessageId = ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1:1:1-1, lastMessageId = ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1:1:1-1, destination = queue://testMessagesAreAckedAMQPProducer, transactionId = null, messageCount = 1, poisonCause = null}
2021-08-17 07:35:28,850 DEBUG org.apache.activemq.transport.amqp.AMQ4563Test.readAllMessages(AMQ4563Test.java:138) >>>> Received [Hello 1 sent at Tue Aug 17 07:35:28 GMT-08:00 2021]
2021-08-17 07:35:28,851 TRACE org.apache.qpid.jms.JmsSession.redeliveryExceeded(JmsSession.java:1376) checking envelope with 0 redeliveries
2021-08-17 07:35:28,851 TRACE org.apache.qpid.jms.JmsMessageConsumer.dequeue(JmsMessageConsumer.java:366) ID:58f16f3c-c8db-4bd0-a50a-bb013f6518ff:1:1:1 received message: JmsInboundMessageDispatch { sequence = 3, messageId = ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1:1:1-3, consumerId = ID:58f16f3c-c8db-4bd0-a50a-bb013f6518ff:1:1:1 }
2021-08-17 07:35:28,850 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:28,851 TRACE org.apache.activemq.broker.region.PrefetchSubscription.acknowledge(PrefetchSubscription.java:204) ack: MessageAck {commandId = 5, responseRequired = true, ackType = 4, consumerId = ID:7d8ed0b1a3a5-37387-1629213796302-1:605:1:0, firstMessageId = ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1:1:1-1, lastMessageId = ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1:1:1-1, destination = queue://testMessagesAreAckedAMQPProducer, transactionId = null, messageCount = 1, poisonCause = null}
2021-08-17 07:35:28,851 DEBUG org.apache.qpid.jms.provider.amqp.AmqpConsumer.handleAccepted(AmqpConsumer.java:347) Accepted Ack of message: JmsInboundMessageDispatch { sequence = 3, messageId = ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1:1:1-3, consumerId = ID:58f16f3c-c8db-4bd0-a50a-bb013f6518ff:1:1:1 }
2021-08-17 07:35:28,851 TRACE org.apache.activemq.broker.region.Queue.removeMessage(Queue.java:1853) ack of ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1:1:1-1 with MessageAck {commandId = 5, responseRequired = true, ackType = 4, consumerId = ID:7d8ed0b1a3a5-37387-1629213796302-1:605:1:0, firstMessageId = ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1:1:1-1, lastMessageId = ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1:1:1-1, destination = queue://testMessagesAreAckedAMQPProducer, transactionId = null, messageCount = 1, poisonCause = null}
2021-08-17 07:35:28,851 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 24, cap: 24/24)
2021-08-17 07:35:28,851 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:28,851 DEBUG org.apache.activemq.transport.amqp.AMQ4563Test.readAllMessages(AMQ4563Test.java:138) >>>> Received [Hello 2 sent at Tue Aug 17 07:35:28 GMT-08:00 2021]
2021-08-17 07:35:28,858 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 0 - queue://testMessagesAreAckedAMQPProducer, subscriptions=1, memory=0%, size=2, pending=0
2021-08-17 07:35:28,858 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 24 bytes
2021-08-17 07:35:28,858 TRACE org.apache.activemq.transport.amqp.protocol.AmqpSender.delivery(AmqpSender.java:273) onDelivery: accepted state = Accepted{}
2021-08-17 07:35:28,858 DEBUG org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:2033) queue://testMessagesAreAckedAMQPProducer, subscriptions=1, memory=0%, size=2, pending=0 toPageIn: 0, force:false, Inflight: 2, pagedInMessages.size 2, pagedInPendingDispatch.size 0, enqueueCount: 0, dequeueCount: 1, memUsage:2438, maxPageSize:200
2021-08-17 07:35:28,858 TRACE org.apache.activemq.transport.amqp.protocol.AmqpSender.settle(AmqpSender.java:520) Sending Ack to ActiveMQ: MessageAck {commandId = 0, responseRequired = false, ackType = 4, consumerId = ID:7d8ed0b1a3a5-37387-1629213796302-1:605:1:0, firstMessageId = ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1:1:1-2, lastMessageId = ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1:1:1-2, destination = queue://testMessagesAreAckedAMQPProducer, transactionId = null, messageCount = 1, poisonCause = null}
2021-08-17 07:35:28,858 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 1 - queue://testMessagesAreAckedAMQPProducer, subscriptions=1, memory=0%, size=2, pending=0
2021-08-17 07:35:28,858 TRACE org.apache.activemq.broker.region.PrefetchSubscription.acknowledge(PrefetchSubscription.java:204) ack: MessageAck {commandId = 6, responseRequired = true, ackType = 4, consumerId = ID:7d8ed0b1a3a5-37387-1629213796302-1:605:1:0, firstMessageId = ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1:1:1-2, lastMessageId = ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1:1:1-2, destination = queue://testMessagesAreAckedAMQPProducer, transactionId = null, messageCount = 1, poisonCause = null}
2021-08-17 07:35:28,858 DEBUG org.apache.activemq.transport.amqp.client.AmqpConnection$7.run(AmqpConnection.java:464) Client performing next idle check
2021-08-17 07:35:28,858 DEBUG org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:2033) queue://testMessagesAreAckedAMQPProducer, subscriptions=1, memory=0%, size=2, pending=0 toPageIn: 0, force:false, Inflight: 2, pagedInMessages.size 2, pagedInPendingDispatch.size 0, enqueueCount: 0, dequeueCount: 1, memUsage:2438, maxPageSize:200
2021-08-17 07:35:28,858 TRACE org.apache.activemq.broker.region.Queue.removeMessage(Queue.java:1853) ack of ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1:1:1-2 with MessageAck {commandId = 6, responseRequired = true, ackType = 4, consumerId = ID:7d8ed0b1a3a5-37387-1629213796302-1:605:1:0, firstMessageId = ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1:1:1-2, lastMessageId = ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1:1:1-2, destination = queue://testMessagesAreAckedAMQPProducer, transactionId = null, messageCount = 1, poisonCause = null}
2021-08-17 07:35:28,858 TRACE org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:50) Run task done: queue://testMessagesAreAckedAMQPProducer, subscriptions=1, memory=0%, size=2, pending=0
2021-08-17 07:35:28,863 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 24 bytes
2021-08-17 07:35:28,863 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 0 - queue://testMessagesAreAckedAMQPProducer, subscriptions=1, memory=0%, size=1, pending=0
2021-08-17 07:35:28,863 TRACE org.apache.activemq.transport.amqp.protocol.AmqpSender.delivery(AmqpSender.java:273) onDelivery: accepted state = Accepted{}
2021-08-17 07:35:28,863 DEBUG org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:2033) queue://testMessagesAreAckedAMQPProducer, subscriptions=1, memory=0%, size=1, pending=0 toPageIn: 0, force:false, Inflight: 1, pagedInMessages.size 1, pagedInPendingDispatch.size 0, enqueueCount: 0, dequeueCount: 2, memUsage:1219, maxPageSize:200
2021-08-17 07:35:28,863 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 1 - queue://testMessagesAreAckedAMQPProducer, subscriptions=1, memory=0%, size=1, pending=0
2021-08-17 07:35:28,863 TRACE org.apache.activemq.transport.amqp.protocol.AmqpSender.settle(AmqpSender.java:520) Sending Ack to ActiveMQ: MessageAck {commandId = 0, responseRequired = false, ackType = 4, consumerId = ID:7d8ed0b1a3a5-37387-1629213796302-1:605:1:0, firstMessageId = ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1:1:1-3, lastMessageId = ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1:1:1-3, destination = queue://testMessagesAreAckedAMQPProducer, transactionId = null, messageCount = 1, poisonCause = null}
2021-08-17 07:35:28,863 DEBUG org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:2033) queue://testMessagesAreAckedAMQPProducer, subscriptions=1, memory=0%, size=1, pending=0 toPageIn: 0, force:false, Inflight: 1, pagedInMessages.size 1, pagedInPendingDispatch.size 0, enqueueCount: 0, dequeueCount: 2, memUsage:1219, maxPageSize:200
2021-08-17 07:35:28,863 TRACE org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:50) Run task done: queue://testMessagesAreAckedAMQPProducer, subscriptions=1, memory=0%, size=1, pending=0
2021-08-17 07:35:28,863 TRACE org.apache.activemq.broker.region.PrefetchSubscription.acknowledge(PrefetchSubscription.java:204) ack: MessageAck {commandId = 7, responseRequired = true, ackType = 4, consumerId = ID:7d8ed0b1a3a5-37387-1629213796302-1:605:1:0, firstMessageId = ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1:1:1-3, lastMessageId = ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1:1:1-3, destination = queue://testMessagesAreAckedAMQPProducer, transactionId = null, messageCount = 1, poisonCause = null}
2021-08-17 07:35:28,864 TRACE org.apache.activemq.broker.region.Queue.removeMessage(Queue.java:1853) ack of ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1:1:1-3 with MessageAck {commandId = 7, responseRequired = true, ackType = 4, consumerId = ID:7d8ed0b1a3a5-37387-1629213796302-1:605:1:0, firstMessageId = ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1:1:1-3, lastMessageId = ID:eea4caaf-e25f-4872-b34b-28eef05065ae:1:1:1-3, destination = queue://testMessagesAreAckedAMQPProducer, transactionId = null, messageCount = 1, poisonCause = null}
2021-08-17 07:35:28,885 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 0 - queue://testMessagesAreAckedAMQPProducer, subscriptions=1, memory=0%, size=0, pending=0
2021-08-17 07:35:28,885 DEBUG org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:2033) queue://testMessagesAreAckedAMQPProducer, subscriptions=1, memory=0%, size=0, pending=0 toPageIn: 0, force:false, Inflight: 0, pagedInMessages.size 0, pagedInPendingDispatch.size 0, enqueueCount: 0, dequeueCount: 3, memUsage:0, maxPageSize:200
2021-08-17 07:35:28,885 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 1 - queue://testMessagesAreAckedAMQPProducer, subscriptions=1, memory=0%, size=0, pending=0
2021-08-17 07:35:28,886 DEBUG org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:2033) queue://testMessagesAreAckedAMQPProducer, subscriptions=1, memory=0%, size=0, pending=0 toPageIn: 0, force:false, Inflight: 0, pagedInMessages.size 0, pagedInPendingDispatch.size 0, enqueueCount: 0, dequeueCount: 3, memUsage:0, maxPageSize:200
2021-08-17 07:35:28,886 TRACE org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:50) Run task done: queue://testMessagesAreAckedAMQPProducer, subscriptions=1, memory=0%, size=0, pending=0
2021-08-17 07:35:29,851 TRACE org.apache.qpid.jms.provider.amqp.AmqpConsumer.pull(AmqpConsumer.java:485) Pull on consumer ID:58f16f3c-c8db-4bd0-a50a-bb013f6518ff:1:1:1 with timeout = 0
2021-08-17 07:35:29,851 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 38, cap: 38/38)
2021-08-17 07:35:29,852 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:29,852 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 38 bytes
2021-08-17 07:35:29,852 TRACE org.apache.activemq.transport.amqp.protocol.AmqpSender.flow(AmqpSender.java:181) Flow: draining=false, drain=true credit=997, currentCredit=1000, senderDeliveryCount=3 - Sub=QueueSubscription: consumer=ID:7d8ed0b1a3a5-37387-1629213796302-1:605:1:0, destinations=1, dispatched=0, delivered=997, pending=0, prefetch=0, prefetchExtension=997
2021-08-17 07:35:29,852 TRACE org.apache.activemq.transport.amqp.protocol.AmqpSender.flow(AmqpSender.java:202) Pull case -> consumer pull request quantity = 997
2021-08-17 07:35:29,852 DEBUG org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:2033) queue://testMessagesAreAckedAMQPProducer, subscriptions=1, memory=0%, size=0, pending=0 toPageIn: 0, force:false, Inflight: 0, pagedInMessages.size 0, pagedInPendingDispatch.size 0, enqueueCount: 0, dequeueCount: 3, memUsage:0, maxPageSize:200
2021-08-17 07:35:29,852 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 0 - Transport Connection to: tcp://172.17.0.2:53288
2021-08-17 07:35:29,852 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onActiveMQCommand(AmqpConnection.java:658) Dispatching End of Browse Command to consumer ID:7d8ed0b1a3a5-37387-1629213796302-1:605:1:0
2021-08-17 07:35:29,852 TRACE org.apache.activemq.transport.amqp.protocol.AmqpSender.pumpOutbound(AmqpSender.java:456) Sender:[qpid-jms:receiver:ID:58f16f3c-c8db-4bd0-a50a-bb013f6518ff:1:1:1:queue://testMessagesAreAckedAMQPProducer] browse done.
2021-08-17 07:35:29,853 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 37 bytes out
2021-08-17 07:35:29,853 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 1 - Transport Connection to: tcp://172.17.0.2:53288
2021-08-17 07:35:29,853 TRACE org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:50) Run task done: Transport Connection to: tcp://172.17.0.2:53288
2021-08-17 07:35:29,853 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 37, cap: 65536)
2021-08-17 07:35:29,853 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: LINK_FLOW
2021-08-17 07:35:29,853 TRACE org.apache.qpid.jms.provider.amqp.AmqpConsumer.processFlowUpdates(AmqpConsumer.java:231) Consumer ID:58f16f3c-c8db-4bd0-a50a-bb013f6518ff:1:1:1 flow updated, remote credit = 0
2021-08-17 07:35:29,853 TRACE org.apache.qpid.jms.provider.amqp.AmqpConsumer.sendFlowIfNeeded(AmqpConsumer.java:406) Consumer ID:58f16f3c-c8db-4bd0-a50a-bb013f6518ff:1:1:1 granting additional credit: 1000
2021-08-17 07:35:29,853 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 39, cap: 39/39)
2021-08-17 07:35:29,853 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:29,853 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 39 bytes
2021-08-17 07:35:29,853 TRACE org.apache.qpid.jms.provider.amqp.AmqpAbstractResource.close(AmqpAbstractResource.java:108) AmqpConsumer { ID:58f16f3c-c8db-4bd0-a50a-bb013f6518ff:1:1:1 } requesting close on remote.
2021-08-17 07:35:29,853 TRACE org.apache.activemq.transport.amqp.protocol.AmqpSender.flow(AmqpSender.java:181) Flow: draining=false, drain=false credit=1000, currentCredit=0, senderDeliveryCount=0 - Sub=QueueSubscription: consumer=ID:7d8ed0b1a3a5-37387-1629213796302-1:605:1:0, destinations=1, dispatched=0, delivered=0, pending=0, prefetch=0, prefetchExtension=0
2021-08-17 07:35:29,853 TRACE org.apache.activemq.transport.amqp.protocol.AmqpSender.flow(AmqpSender.java:238) Flow: credit addition of 1000 for sub QueueSubscription: consumer=ID:7d8ed0b1a3a5-37387-1629213796302-1:605:1:0, destinations=1, dispatched=0, delivered=1000, pending=0, prefetch=0, prefetchExtension=1000
2021-08-17 07:35:29,853 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 0 - queue://testMessagesAreAckedAMQPProducer, subscriptions=1, memory=0%, size=0, pending=0
2021-08-17 07:35:29,853 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 16, cap: 16/16)
2021-08-17 07:35:29,854 DEBUG org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:2033) queue://testMessagesAreAckedAMQPProducer, subscriptions=1, memory=0%, size=0, pending=0 toPageIn: 0, force:false, Inflight: 0, pagedInMessages.size 0, pagedInPendingDispatch.size 0, enqueueCount: 0, dequeueCount: 3, memUsage:0, maxPageSize:200
2021-08-17 07:35:29,854 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:29,854 TRACE org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:50) Run task done: queue://testMessagesAreAckedAMQPProducer, subscriptions=1, memory=0%, size=0, pending=0
2021-08-17 07:35:29,854 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 16 bytes
2021-08-17 07:35:29,854 DEBUG org.apache.activemq.broker.jmx.ManagementContext.unregisterMBean(ManagementContext.java:451) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,destinationType=Queue,destinationName=testMessagesAreAckedAMQPProducer,endpoint=Consumer,clientId=ID_64862033-8a6b-4b81-bd84-646d1b8e6063_1,consumerId=ID_7d8ed0b1a3a5-37387-1629213796302-1_605_1_0
2021-08-17 07:35:29,854 DEBUG org.apache.activemq.broker.region.AbstractRegion.removeConsumer(AbstractRegion.java:465) localhost removing consumer: ID:7d8ed0b1a3a5-37387-1629213796302-1:605:1:0 for destination: queue://testMessagesAreAckedAMQPProducer
2021-08-17 07:35:29,854 DEBUG org.apache.activemq.broker.region.Queue.removeSubscription(Queue.java:502) queue://testMessagesAreAckedAMQPProducer remove sub: QueueSubscription: consumer=ID:7d8ed0b1a3a5-37387-1629213796302-1:605:1:0, destinations=1, dispatched=0, delivered=1000, pending=0, prefetch=0, prefetchExtension=1000, lastDeliveredSeqId: 3, dequeues: 3, dispatched: 3, inflight: 0, groups: 0
2021-08-17 07:35:29,854 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 0 - queue://testMessagesAreAckedAMQPProducer, subscriptions=0, memory=0%, size=0, pending=0
2021-08-17 07:35:29,854 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 16 bytes out
2021-08-17 07:35:29,854 DEBUG org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:2033) queue://testMessagesAreAckedAMQPProducer, subscriptions=0, memory=0%, size=0, pending=0 toPageIn: 0, force:false, Inflight: 0, pagedInMessages.size 0, pagedInPendingDispatch.size 0, enqueueCount: 0, dequeueCount: 3, memUsage:0, maxPageSize:200
2021-08-17 07:35:29,854 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 16, cap: 65536)
2021-08-17 07:35:29,854 TRACE org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:50) Run task done: queue://testMessagesAreAckedAMQPProducer, subscriptions=0, memory=0%, size=0, pending=0
2021-08-17 07:35:29,854 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: LINK_LOCAL_CLOSE
2021-08-17 07:35:29,855 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: LINK_REMOTE_CLOSE
2021-08-17 07:35:29,855 DEBUG org.apache.qpid.jms.provider.amqp.AmqpAbstractResource.closeResource(AmqpAbstractResource.java:175) AmqpConsumer { ID:58f16f3c-c8db-4bd0-a50a-bb013f6518ff:1:1:1 } is now closed: 
2021-08-17 07:35:29,855 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: LINK_FINAL
2021-08-17 07:35:29,855 TRACE org.apache.qpid.jms.provider.amqp.AmqpAbstractResource.close(AmqpAbstractResource.java:108) AmqpConnection { ID:58f16f3c-c8db-4bd0-a50a-bb013f6518ff:1 } requesting close on remote.
2021-08-17 07:35:29,855 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 12, cap: 12/12)
2021-08-17 07:35:29,855 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:29,855 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 12 bytes
2021-08-17 07:35:29,855 DEBUG org.apache.activemq.broker.TransportConnection.processRemoveConnection(TransportConnection.java:876) remove connection id: ID:7d8ed0b1a3a5-37387-1629213796302-1:605
2021-08-17 07:35:29,855 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 12 bytes out
2021-08-17 07:35:29,856 TRACE org.apache.activemq.thread.TaskRunnerFactory.execute(TaskRunnerFactory.java:170) Execute[ActiveMQ BrokerService[localhost] Task] runnable: org.apache.activemq.broker.TransportConnection$4@5e828efb
2021-08-17 07:35:29,856 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 12, cap: 65536)
2021-08-17 07:35:29,856 DEBUG org.apache.activemq.broker.jmx.ManagementContext.unregisterMBean(ManagementContext.java:451) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,connector=clientConnectors,connectorName=amqp_//7d8ed0b1a3a5_39791&qe;transport.tcpNoDelay&amp;true&transport.transformer&amp;jms,connectionViewType=clientId,connectionName=ID_64862033-8a6b-4b81-bd84-646d1b8e6063_1
2021-08-17 07:35:29,856 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: CONNECTION_LOCAL_CLOSE
2021-08-17 07:35:29,856 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: TRANSPORT_HEAD_CLOSED
2021-08-17 07:35:29,856 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: CONNECTION_REMOTE_CLOSE
2021-08-17 07:35:29,856 DEBUG org.apache.activemq.broker.jmx.ManagementContext.unregisterMBean(ManagementContext.java:451) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,connector=clientConnectors,connectorName=amqp_//7d8ed0b1a3a5_39791&qe;transport.tcpNoDelay&amp;true&transport.transformer&amp;jms,connectionViewType=remoteAddress,connectionName=tcp_//172.17.0.2_53288
2021-08-17 07:35:29,856 DEBUG org.apache.qpid.jms.provider.amqp.AmqpAbstractResource.closeResource(AmqpAbstractResource.java:175) AmqpConnection { ID:58f16f3c-c8db-4bd0-a50a-bb013f6518ff:1 } is now closed: 
2021-08-17 07:35:29,856 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: TRANSPORT_TAIL_CLOSED
2021-08-17 07:35:29,856 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: TRANSPORT_CLOSED
2021-08-17 07:35:29,856 DEBUG org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1183) Stopping connection: tcp://172.17.0.2:53288
2021-08-17 07:35:29,856 TRACE org.apache.qpid.jms.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:127) Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@11252208[Running, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 1] with await termination: 0 millis
2021-08-17 07:35:29,856 DEBUG org.apache.activemq.transport.tcp.TcpTransport.doStop(TcpTransport.java:549) Stopping transport tcp:///172.17.0.2:53288@39791
2021-08-17 07:35:29,856 DEBUG org.apache.qpid.jms.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:156) Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@11252208[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 1] is shutdown: true and terminated: false took: 0.000 seconds.
2021-08-17 07:35:29,856 DEBUG org.apache.activemq.thread.TaskRunnerFactory.init(TaskRunnerFactory.java:98) Initialized TaskRunnerFactory[ActiveMQ Task] using ExecutorService: java.util.concurrent.ThreadPoolExecutor@5396f101[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
2021-08-17 07:35:29,857 TRACE org.apache.activemq.thread.TaskRunnerFactory.execute(TaskRunnerFactory.java:170) Execute[ActiveMQ Task] runnable: org.apache.activemq.transport.tcp.TcpTransport$1@5d511503
2021-08-17 07:35:29,857 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.lambda$close$3(AmqpProvider.java:374) Cancelling scheduled IdleTimeoutCheck
2021-08-17 07:35:29,857 TRACE org.apache.activemq.thread.TaskRunnerFactory$1.newThread(TaskRunnerFactory.java:206) Created thread[ActiveMQ Task-1]: Thread[ActiveMQ Task-1,5,main]
2021-08-17 07:35:29,857 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.handleChannelInactive(NettyTcpTransport.java:367) Channel has gone inactive! Channel is [id: 0xd6ba7b44, L:/172.17.0.2:53288 ! R:7d8ed0b1a3a5/172.17.0.2:39791]
2021-08-17 07:35:29,857 DEBUG io.netty.buffer.PoolThreadCache.free(PoolThreadCache.java:224) Freed 4 thread-local buffer(s) from thread: AmqpProvider :(306):[amqp://7d8ed0b1a3a5:39791]
2021-08-17 07:35:29,857 TRACE org.apache.activemq.transport.tcp.TcpTransport$1.run(TcpTransport.java:565) Closing socket Socket[addr=/172.17.0.2,port=53288,localport=39791]
2021-08-17 07:35:29,857 DEBUG org.apache.activemq.transport.tcp.TcpTransport$1.run(TcpTransport.java:568) Closed socket Socket[addr=/172.17.0.2,port=53288,localport=39791]
2021-08-17 07:35:29,857 DEBUG org.apache.activemq.transport.amqp.AmqpTestSupport.stopBroker(AmqpTestSupport.java:262) entering AmqpTestSupport.stopBroker
2021-08-17 07:35:29,857 DEBUG org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:54) Forcing shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@5396f101[Running, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 1]
2021-08-17 07:35:29,857 INFO  org.apache.activemq.broker.BrokerService.stop(BrokerService.java:816) Apache ActiveMQ 5.17.0-SNAPSHOT (localhost, ID:7d8ed0b1a3a5-37387-1629213796302-0:508) is shutting down
2021-08-17 07:35:29,857 TRACE org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:57) Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@5396f101[Shutting down, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 1] is shutdown: true and terminated: false.
2021-08-17 07:35:29,857 DEBUG org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1196) Stopped transport: tcp://172.17.0.2:53288
2021-08-17 07:35:29,858 TRACE org.apache.activemq.thread.PooledTaskRunner.shutdown(PooledTaskRunner.java:95) Shutdown timeout: 1 task: Transport Connection to: tcp://172.17.0.2:53288
2021-08-17 07:35:29,857 DEBUG org.apache.activemq.broker.jmx.ManagementContext.unregisterMBean(ManagementContext.java:451) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,connector=clientConnectors,connectorName=tcp_//7d8ed0b1a3a5_38901
2021-08-17 07:35:29,858 DEBUG org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1237) Connection Stopped: tcp://172.17.0.2:53288
2021-08-17 07:35:29,858 INFO  org.apache.activemq.broker.TransportConnector.stop(TransportConnector.java:311) Connector tcp://7d8ed0b1a3a5:38901 stopped
2021-08-17 07:35:29,858 DEBUG org.apache.activemq.broker.jmx.ManagementContext.unregisterMBean(ManagementContext.java:451) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,connector=clientConnectors,connectorName=amqp_//7d8ed0b1a3a5_39791&qe;transport.tcpNoDelay&amp;true&transport.transformer&amp;jms
2021-08-17 07:35:29,858 INFO  org.apache.activemq.broker.TransportConnector.stop(TransportConnector.java:311) Connector amqp://7d8ed0b1a3a5:39791?transport.tcpNoDelay=true&transport.transformer=jms stopped
2021-08-17 07:35:29,858 TRACE org.apache.activemq.thread.PooledTaskRunner.shutdown(PooledTaskRunner.java:95) Shutdown timeout: 0 task: queue://testMessagesAreAckedAMQPProducer, subscriptions=0, memory=0%, size=0, pending=0
2021-08-17 07:35:29,858 DEBUG org.apache.activemq.broker.jmx.ManagementContext.unregisterMBean(ManagementContext.java:451) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,destinationType=Queue,destinationName=testMessagesAreAckedAMQPProducer
2021-08-17 07:35:29,859 INFO  org.apache.activemq.store.kahadb.plist.PListStoreImpl.doStop(PListStoreImpl.java:396) PListStore:[/data/activemq/activemq-main-log-adjust/activemq-amqp/activemq-data/localhost/tmp_storage] stopped
2021-08-17 07:35:29,859 INFO  org.apache.activemq.store.kahadb.KahaDBStore.doStop(KahaDBStore.java:268) Stopping async queue tasks
2021-08-17 07:35:29,859 INFO  org.apache.activemq.store.kahadb.KahaDBStore.doStop(KahaDBStore.java:282) Stopping async topic tasks
2021-08-17 07:35:29,859 DEBUG org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:54) Forcing shutdown of ExecutorService: org.apache.activemq.store.kahadb.KahaDBStore$StoreTaskExecutor@441e9b51[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
2021-08-17 07:35:29,859 TRACE org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:57) Shutdown of ExecutorService: org.apache.activemq.store.kahadb.KahaDBStore$StoreTaskExecutor@441e9b51[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true.
2021-08-17 07:35:29,859 DEBUG org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:54) Forcing shutdown of ExecutorService: org.apache.activemq.store.kahadb.KahaDBStore$StoreTaskExecutor@7c93d4b8[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
2021-08-17 07:35:29,859 TRACE org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:57) Shutdown of ExecutorService: org.apache.activemq.store.kahadb.KahaDBStore$StoreTaskExecutor@7c93d4b8[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true.
2021-08-17 07:35:29,859 INFO  org.apache.activemq.store.kahadb.KahaDBStore.doStop(KahaDBStore.java:310) Stopped KahaDB
2021-08-17 07:35:29,859 DEBUG org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1809) Checkpoint started.
2021-08-17 07:35:29,872 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1831) Last update: 1:4001, full gc candidates set: [1]
2021-08-17 07:35:29,873 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1855) gc candidates after producerSequenceIdTrackerLocation:1:4503, []
2021-08-17 07:35:29,873 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1863) gc candidates after ackMessageFileMapLocation:1:5277, []
2021-08-17 07:35:29,873 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1874) gc candidates after in progress tx range:[null, null], []
2021-08-17 07:35:29,873 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1977) gc candidates: []
2021-08-17 07:35:29,873 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1978) ackMessageFileMap: {1=[1]}
2021-08-17 07:35:29,873 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:2044) Not yet time to check for compaction: 1 of 10 cycles
2021-08-17 07:35:29,873 DEBUG org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:2053) Checkpoint done.
2021-08-17 07:35:29,952 TRACE org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:111) Shutdown of ExecutorService: java.util.concurrent.ScheduledThreadPoolExecutor@c43a67b[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 0] with await termination: 4000 millis
2021-08-17 07:35:29,952 DEBUG org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:155) Shutdown of ExecutorService: java.util.concurrent.ScheduledThreadPoolExecutor@c43a67b[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true took: 0.000 seconds.
2021-08-17 07:35:29,952 TRACE org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:111) Shutdown of ExecutorService: java.util.concurrent.Executors$DelegatedScheduledExecutorService@1bec1d03 with await termination: -1 millis
2021-08-17 07:35:29,953 DEBUG org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:155) Shutdown of ExecutorService: java.util.concurrent.Executors$DelegatedScheduledExecutorService@1bec1d03 is shutdown: true and terminated: true took: 0.001 seconds.
2021-08-17 07:35:29,953 DEBUG org.apache.activemq.broker.jmx.ManagementContext.stop(ManagementContext.java:205) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost
2021-08-17 07:35:29,953 DEBUG org.apache.activemq.broker.jmx.ManagementContext.stop(ManagementContext.java:205) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,service=Health
2021-08-17 07:35:29,953 DEBUG org.apache.activemq.broker.jmx.ManagementContext.stop(ManagementContext.java:205) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,service=Log4JConfiguration
2021-08-17 07:35:29,953 TRACE org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:111) Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@d0029c3[Running, pool size = 3, active threads = 0, queued tasks = 0, completed tasks = 13] with await termination: 0 millis
2021-08-17 07:35:29,953 DEBUG org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:155) Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@d0029c3[Shutting down, pool size = 3, active threads = 0, queued tasks = 0, completed tasks = 13] is shutdown: true and terminated: false took: 0.000 seconds.
2021-08-17 07:35:29,953 DEBUG org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:54) Forcing shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@21eeeefb[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
2021-08-17 07:35:29,953 TRACE org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:57) Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@21eeeefb[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true.
2021-08-17 07:35:29,953 INFO  org.apache.activemq.broker.BrokerService.stop(BrokerService.java:876) Apache ActiveMQ 5.17.0-SNAPSHOT (localhost, ID:7d8ed0b1a3a5-37387-1629213796302-0:508) uptime 1.173 seconds
2021-08-17 07:35:29,953 INFO  org.apache.activemq.broker.BrokerService.stop(BrokerService.java:878) Apache ActiveMQ 5.17.0-SNAPSHOT (localhost, ID:7d8ed0b1a3a5-37387-1629213796302-0:508) is shutdown
2021-08-17 07:35:29,953 DEBUG org.apache.activemq.transport.amqp.AmqpTestSupport.stopBroker(AmqpTestSupport.java:268) exiting AmqpTestSupport.stopBroker
2021-08-17 07:35:29,954 DEBUG org.apache.activemq.transport.amqp.AmqpTestSupport.addTranportConnectors(AmqpTestSupport.java:133) Using openwire port 38901
2021-08-17 07:35:29,954 DEBUG org.apache.activemq.transport.amqp.AmqpTestSupport.addTranportConnectors(AmqpTestSupport.java:139) Using amqp port 39791
2021-08-17 07:35:29,954 WARN  org.apache.activemq.broker.BrokerService.checkMemorySystemUsageLimits(BrokerService.java:2159) Memory Usage for the Broker (1024mb) is more than the maximum available for the JVM: 473 mb - resetting to 70% of maximum available: 331
2021-08-17 07:35:29,955 INFO  org.apache.activemq.broker.BrokerService.doStartPersistenceAdapter(BrokerService.java:669) Using Persistence Adapter: KahaDB:[/data/activemq/activemq-main-log-adjust/activemq-amqp/target/activemq-data/testMessagesAreAckedAMQPProducer]
2021-08-17 07:35:29,955 DEBUG org.apache.activemq.store.kahadb.KahaDBStore.configureMetadata(KahaDBStore.java:211) Store OpenWire version configured as: 11
2021-08-17 07:35:29,959 TRACE org.apache.activemq.store.kahadb.disk.journal.Journal.start(Journal.java:360) Startup took: 4 ms
2021-08-17 07:35:29,959 DEBUG org.apache.activemq.transport.amqp.client.AmqpConnection$7.run(AmqpConnection.java:464) Client performing next idle check
2021-08-17 07:35:29,998 INFO  org.apache.activemq.store.kahadb.MessageDatabase$Metadata.read(MessageDatabase.java:194) KahaDB is version 7
2021-08-17 07:35:29,998 DEBUG org.apache.activemq.store.kahadb.disk.index.BTreeIndex.load(BTreeIndex.java:151) loading
2021-08-17 07:35:29,998 DEBUG org.apache.activemq.store.kahadb.disk.index.BTreeIndex.load(BTreeIndex.java:151) loading
2021-08-17 07:35:29,998 DEBUG org.apache.activemq.store.kahadb.disk.index.BTreeIndex.load(BTreeIndex.java:151) loading
2021-08-17 07:35:29,999 DEBUG org.apache.activemq.store.kahadb.disk.index.BTreeIndex.load(BTreeIndex.java:151) loading
2021-08-17 07:35:29,999 DEBUG org.apache.activemq.store.kahadb.disk.index.BTreeIndex.load(BTreeIndex.java:151) loading
2021-08-17 07:35:29,999 DEBUG org.apache.activemq.store.kahadb.disk.index.BTreeIndex.load(BTreeIndex.java:151) loading
2021-08-17 07:35:30,000 INFO  org.apache.activemq.store.kahadb.plist.PListStoreImpl.doStart(PListStoreImpl.java:371) PListStore:[/data/activemq/activemq-main-log-adjust/activemq-amqp/activemq-data/localhost/tmp_storage] started
2021-08-17 07:35:30,001 INFO  org.apache.activemq.broker.BrokerService.doStartBroker(BrokerService.java:732) Apache ActiveMQ 5.17.0-SNAPSHOT (localhost, ID:7d8ed0b1a3a5-37387-1629213796302-0:509) is starting
2021-08-17 07:35:30,001 DEBUG org.apache.activemq.broker.region.AbstractRegion.addDestination(AbstractRegion.java:154) localhost adding destination: queue://testMessagesAreAckedAMQPProducer
2021-08-17 07:35:30,001 DEBUG org.apache.activemq.thread.TaskRunnerFactory.init(TaskRunnerFactory.java:98) Initialized TaskRunnerFactory[ActiveMQ BrokerService[localhost] Task] using ExecutorService: java.util.concurrent.ThreadPoolExecutor@37fe5c84[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
2021-08-17 07:35:30,002 DEBUG org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:2033) queue://testMessagesAreAckedAMQPProducer, subscriptions=0, memory=0%, size=0, pending=0 toPageIn: 0, force:false, Inflight: 0, pagedInMessages.size 0, pagedInPendingDispatch.size 0, enqueueCount: 0, dequeueCount: 0, memUsage:0, maxPageSize:200
2021-08-17 07:35:30,003 DEBUG org.apache.activemq.broker.TransportConnector.getPublishableConnectString(TransportConnector.java:285) Publishing: tcp://7d8ed0b1a3a5:38901 for broker transport URI: tcp://7d8ed0b1a3a5:38901
2021-08-17 07:35:30,003 DEBUG org.apache.activemq.broker.TransportConnector.getPublishableConnectString(TransportConnector.java:285) Publishing: amqp://7d8ed0b1a3a5:39791 for broker transport URI: amqp://7d8ed0b1a3a5:39791?transport.tcpNoDelay=true&transport.transformer=jms
2021-08-17 07:35:30,003 INFO  org.apache.activemq.transport.TransportServerThreadSupport.doStart(TransportServerThreadSupport.java:69) Listening for connections at: tcp://7d8ed0b1a3a5:38901
2021-08-17 07:35:30,003 INFO  org.apache.activemq.broker.TransportConnector.start(TransportConnector.java:266) Connector tcp://7d8ed0b1a3a5:38901 started
2021-08-17 07:35:30,004 INFO  org.apache.activemq.transport.TransportServerThreadSupport.doStart(TransportServerThreadSupport.java:69) Listening for connections at: amqp://7d8ed0b1a3a5:39791?transport.tcpNoDelay=true&transport.transformer=jms
2021-08-17 07:35:30,004 INFO  org.apache.activemq.broker.TransportConnector.start(TransportConnector.java:266) Connector amqp://7d8ed0b1a3a5:39791?transport.tcpNoDelay=true&transport.transformer=jms started
2021-08-17 07:35:30,004 INFO  org.apache.activemq.broker.BrokerService.doStartBroker(BrokerService.java:759) Apache ActiveMQ 5.17.0-SNAPSHOT (localhost, ID:7d8ed0b1a3a5-37387-1629213796302-0:509) started
2021-08-17 07:35:30,004 INFO  org.apache.activemq.broker.BrokerService.doStartBroker(BrokerService.java:760) For help or more information please see: http://activemq.apache.org
2021-08-17 07:35:30,004 DEBUG org.apache.activemq.transport.amqp.AmqpTestSupport.stopBroker(AmqpTestSupport.java:262) entering AmqpTestSupport.stopBroker
2021-08-17 07:35:30,004 INFO  org.apache.activemq.broker.BrokerService.stop(BrokerService.java:816) Apache ActiveMQ 5.17.0-SNAPSHOT (localhost, ID:7d8ed0b1a3a5-37387-1629213796302-0:509) is shutting down
2021-08-17 07:35:30,004 DEBUG org.apache.activemq.broker.jmx.ManagementContext.unregisterMBean(ManagementContext.java:451) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,connector=clientConnectors,connectorName=tcp_//7d8ed0b1a3a5_38901
2021-08-17 07:35:30,005 INFO  org.apache.activemq.broker.TransportConnector.stop(TransportConnector.java:311) Connector tcp://7d8ed0b1a3a5:38901 stopped
2021-08-17 07:35:30,005 DEBUG org.apache.activemq.broker.jmx.ManagementContext.unregisterMBean(ManagementContext.java:451) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,connector=clientConnectors,connectorName=amqp_//7d8ed0b1a3a5_39791&qe;transport.tcpNoDelay&amp;true&transport.transformer&amp;jms
2021-08-17 07:35:30,005 INFO  org.apache.activemq.broker.TransportConnector.stop(TransportConnector.java:311) Connector amqp://7d8ed0b1a3a5:39791?transport.tcpNoDelay=true&transport.transformer=jms stopped
2021-08-17 07:35:30,005 TRACE org.apache.activemq.thread.PooledTaskRunner.shutdown(PooledTaskRunner.java:95) Shutdown timeout: 0 task: queue://testMessagesAreAckedAMQPProducer, subscriptions=0, memory=0%, size=0, pending=0
2021-08-17 07:35:30,005 DEBUG org.apache.activemq.broker.jmx.ManagementContext.unregisterMBean(ManagementContext.java:451) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,destinationType=Queue,destinationName=testMessagesAreAckedAMQPProducer
2021-08-17 07:35:30,006 INFO  org.apache.activemq.store.kahadb.plist.PListStoreImpl.doStop(PListStoreImpl.java:396) PListStore:[/data/activemq/activemq-main-log-adjust/activemq-amqp/activemq-data/localhost/tmp_storage] stopped
2021-08-17 07:35:30,006 INFO  org.apache.activemq.store.kahadb.KahaDBStore.doStop(KahaDBStore.java:268) Stopping async queue tasks
2021-08-17 07:35:30,006 INFO  org.apache.activemq.store.kahadb.KahaDBStore.doStop(KahaDBStore.java:282) Stopping async topic tasks
2021-08-17 07:35:30,006 DEBUG org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:54) Forcing shutdown of ExecutorService: org.apache.activemq.store.kahadb.KahaDBStore$StoreTaskExecutor@1a6dc589[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
2021-08-17 07:35:30,006 TRACE org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:57) Shutdown of ExecutorService: org.apache.activemq.store.kahadb.KahaDBStore$StoreTaskExecutor@1a6dc589[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true.
2021-08-17 07:35:30,006 DEBUG org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:54) Forcing shutdown of ExecutorService: org.apache.activemq.store.kahadb.KahaDBStore$StoreTaskExecutor@697a34af[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
2021-08-17 07:35:30,007 TRACE org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:57) Shutdown of ExecutorService: org.apache.activemq.store.kahadb.KahaDBStore$StoreTaskExecutor@697a34af[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true.
2021-08-17 07:35:30,007 INFO  org.apache.activemq.store.kahadb.KahaDBStore.doStop(KahaDBStore.java:310) Stopped KahaDB
2021-08-17 07:35:30,007 DEBUG org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1809) Checkpoint started.
2021-08-17 07:35:30,021 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1831) Last update: 1:5529, full gc candidates set: [1]
2021-08-17 07:35:30,021 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1855) gc candidates after producerSequenceIdTrackerLocation:1:5607, []
2021-08-17 07:35:30,021 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1863) gc candidates after ackMessageFileMapLocation:1:6381, []
2021-08-17 07:35:30,021 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1874) gc candidates after in progress tx range:[null, null], []
2021-08-17 07:35:30,021 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1977) gc candidates: []
2021-08-17 07:35:30,021 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1978) ackMessageFileMap: {1=[1]}
2021-08-17 07:35:30,021 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:2044) Not yet time to check for compaction: 1 of 10 cycles
2021-08-17 07:35:30,021 DEBUG org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:2053) Checkpoint done.
2021-08-17 07:35:30,076 DEBUG org.apache.activemq.transport.amqp.client.AmqpConnection$7.run(AmqpConnection.java:464) Client performing next idle check
2021-08-17 07:35:30,101 TRACE org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:111) Shutdown of ExecutorService: java.util.concurrent.ScheduledThreadPoolExecutor@3c3820bb[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 0] with await termination: 4000 millis
2021-08-17 07:35:30,101 DEBUG org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:155) Shutdown of ExecutorService: java.util.concurrent.ScheduledThreadPoolExecutor@3c3820bb[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true took: 0.000 seconds.
2021-08-17 07:35:30,102 TRACE org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:111) Shutdown of ExecutorService: java.util.concurrent.Executors$DelegatedScheduledExecutorService@376c7d7d with await termination: -1 millis
2021-08-17 07:35:30,102 DEBUG org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:155) Shutdown of ExecutorService: java.util.concurrent.Executors$DelegatedScheduledExecutorService@376c7d7d is shutdown: true and terminated: true took: 0.000 seconds.
2021-08-17 07:35:30,102 DEBUG org.apache.activemq.broker.jmx.ManagementContext.stop(ManagementContext.java:205) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost
2021-08-17 07:35:30,102 DEBUG org.apache.activemq.broker.jmx.ManagementContext.stop(ManagementContext.java:205) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,service=Health
2021-08-17 07:35:30,102 DEBUG org.apache.activemq.broker.jmx.ManagementContext.stop(ManagementContext.java:205) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,service=Log4JConfiguration
2021-08-17 07:35:30,102 TRACE org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:111) Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@37fe5c84[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] with await termination: 0 millis
2021-08-17 07:35:30,102 DEBUG org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:155) Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@37fe5c84[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true took: 0.000 seconds.
2021-08-17 07:35:30,102 DEBUG org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:54) Forcing shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@4784efd9[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
2021-08-17 07:35:30,103 TRACE org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:57) Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@4784efd9[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true.
2021-08-17 07:35:30,103 INFO  org.apache.activemq.broker.BrokerService.stop(BrokerService.java:876) Apache ActiveMQ 5.17.0-SNAPSHOT (localhost, ID:7d8ed0b1a3a5-37387-1629213796302-0:509) uptime 0.149 seconds
2021-08-17 07:35:30,103 INFO  org.apache.activemq.broker.BrokerService.stop(BrokerService.java:878) Apache ActiveMQ 5.17.0-SNAPSHOT (localhost, ID:7d8ed0b1a3a5-37387-1629213796302-0:509) is shutdown
2021-08-17 07:35:30,103 DEBUG org.apache.activemq.transport.amqp.AmqpTestSupport.stopBroker(AmqpTestSupport.java:268) exiting AmqpTestSupport.stopBroker
2021-08-17 07:35:30,103 INFO  org.apache.activemq.transport.amqp.AmqpTestSupport.tearDown(AmqpTestSupport.java:273) ========== tearDown testMessagesAreAckedAMQPProducer ==========
2021-08-17 07:35:30,103 INFO  org.apache.activemq.transport.amqp.AmqpTestSupport.setUp(AmqpTestSupport.java:76) ========== start testSelectingOnAMQPMessageID ==========
2021-08-17 07:35:30,104 DEBUG org.apache.activemq.transport.amqp.AmqpTestSupport.addTranportConnectors(AmqpTestSupport.java:133) Using openwire port 44119
2021-08-17 07:35:30,105 DEBUG org.apache.activemq.transport.amqp.AmqpTestSupport.addTranportConnectors(AmqpTestSupport.java:139) Using amqp port 43529
2021-08-17 07:35:30,105 WARN  org.apache.activemq.broker.BrokerService.checkMemorySystemUsageLimits(BrokerService.java:2159) Memory Usage for the Broker (1024mb) is more than the maximum available for the JVM: 473 mb - resetting to 70% of maximum available: 331
2021-08-17 07:35:30,106 INFO  org.apache.activemq.broker.BrokerService.doStartPersistenceAdapter(BrokerService.java:669) Using Persistence Adapter: KahaDB:[/data/activemq/activemq-main-log-adjust/activemq-amqp/target/activemq-data/testSelectingOnAMQPMessageID]
2021-08-17 07:35:30,106 DEBUG org.apache.activemq.store.kahadb.KahaDBStore.configureMetadata(KahaDBStore.java:211) Store OpenWire version configured as: 11
2021-08-17 07:35:30,108 DEBUG org.apache.activemq.transport.amqp.client.AmqpConnection$7.run(AmqpConnection.java:464) Client performing next idle check
2021-08-17 07:35:30,134 TRACE org.apache.activemq.store.kahadb.disk.journal.Journal.start(Journal.java:360) Startup took: 28 ms
2021-08-17 07:35:30,134 TRACE org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:111) Shutdown of ExecutorService: java.util.concurrent.ScheduledThreadPoolExecutor@16a9eb2e[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 0] with await termination: 4000 millis
2021-08-17 07:35:30,134 DEBUG org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:155) Shutdown of ExecutorService: java.util.concurrent.ScheduledThreadPoolExecutor@16a9eb2e[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true took: 0.000 seconds.
2021-08-17 07:35:30,134 INFO  org.apache.activemq.store.kahadb.MessageDatabase.load(MessageDatabase.java:501) Persistence store purged.
2021-08-17 07:35:30,157 TRACE org.apache.activemq.store.kahadb.disk.journal.Journal.start(Journal.java:360) Startup took: 22 ms
2021-08-17 07:35:30,244 DEBUG org.apache.activemq.store.kahadb.disk.index.BTreeIndex.load(BTreeIndex.java:151) loading
2021-08-17 07:35:30,302 INFO  org.apache.activemq.store.kahadb.plist.PListStoreImpl.doStart(PListStoreImpl.java:371) PListStore:[/data/activemq/activemq-main-log-adjust/activemq-amqp/activemq-data/localhost/tmp_storage] started
2021-08-17 07:35:30,302 INFO  org.apache.activemq.broker.BrokerService.doStartBroker(BrokerService.java:732) Apache ActiveMQ 5.17.0-SNAPSHOT (localhost, ID:7d8ed0b1a3a5-37387-1629213796302-0:510) is starting
2021-08-17 07:35:30,303 DEBUG org.apache.activemq.broker.TransportConnector.getPublishableConnectString(TransportConnector.java:285) Publishing: tcp://7d8ed0b1a3a5:44119 for broker transport URI: tcp://7d8ed0b1a3a5:44119
2021-08-17 07:35:30,303 DEBUG org.apache.activemq.broker.TransportConnector.getPublishableConnectString(TransportConnector.java:285) Publishing: amqp://7d8ed0b1a3a5:43529 for broker transport URI: amqp://7d8ed0b1a3a5:43529?transport.tcpNoDelay=true&transport.transformer=jms
2021-08-17 07:35:30,303 INFO  org.apache.activemq.transport.TransportServerThreadSupport.doStart(TransportServerThreadSupport.java:69) Listening for connections at: tcp://7d8ed0b1a3a5:44119
2021-08-17 07:35:30,303 INFO  org.apache.activemq.broker.TransportConnector.start(TransportConnector.java:266) Connector tcp://7d8ed0b1a3a5:44119 started
2021-08-17 07:35:30,304 INFO  org.apache.activemq.transport.TransportServerThreadSupport.doStart(TransportServerThreadSupport.java:69) Listening for connections at: amqp://7d8ed0b1a3a5:43529?transport.tcpNoDelay=true&transport.transformer=jms
2021-08-17 07:35:30,304 INFO  org.apache.activemq.broker.TransportConnector.start(TransportConnector.java:266) Connector amqp://7d8ed0b1a3a5:43529?transport.tcpNoDelay=true&transport.transformer=jms started
2021-08-17 07:35:30,304 INFO  org.apache.activemq.broker.BrokerService.doStartBroker(BrokerService.java:759) Apache ActiveMQ 5.17.0-SNAPSHOT (localhost, ID:7d8ed0b1a3a5-37387-1629213796302-0:510) started
2021-08-17 07:35:30,304 INFO  org.apache.activemq.broker.BrokerService.doStartBroker(BrokerService.java:760) For help or more information please see: http://activemq.apache.org
2021-08-17 07:35:30,305 DEBUG org.apache.activemq.transport.amqp.JMSClientContext.createConnectionFactory(JMSClientContext.java:145) In createConnectionFactory using URI: amqp://7d8ed0b1a3a5:43529
2021-08-17 07:35:30,306 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.connect(NettyTcpTransport.java:147) Netty Transport using Epoll mode
2021-08-17 07:35:30,307 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.handleConnected(NettyTcpTransport.java:362) Channel has become active! Channel is [id: 0x8cfdea69, L:/172.17.0.2:43540 - R:7d8ed0b1a3a5/172.17.0.2:43529]
2021-08-17 07:35:30,307 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 8, cap: 8/8)
2021-08-17 07:35:30,307 DEBUG org.apache.activemq.thread.TaskRunnerFactory.init(TaskRunnerFactory.java:98) Initialized TaskRunnerFactory[ActiveMQ BrokerService[localhost] Task] using ExecutorService: java.util.concurrent.ThreadPoolExecutor@4611a383[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
2021-08-17 07:35:30,307 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:30,308 TRACE org.apache.activemq.thread.TaskRunnerFactory.execute(TaskRunnerFactory.java:170) Execute[ActiveMQ BrokerService[localhost] Task] runnable: org.apache.activemq.broker.TransportConnector$1$1@48d65531
2021-08-17 07:35:30,308 TRACE org.apache.activemq.thread.TaskRunnerFactory$1.newThread(TaskRunnerFactory.java:206) Created thread[ActiveMQ BrokerService[localhost] Task-1]: Thread[ActiveMQ BrokerService[localhost] Task-1,5,main]
2021-08-17 07:35:30,309 TRACE org.apache.activemq.thread.TaskRunnerFactory$1.newThread(TaskRunnerFactory.java:206) Created thread[ActiveMQ BrokerService[localhost] Task-2]: Thread[ActiveMQ BrokerService[localhost] Task-2,5,main]
2021-08-17 07:35:30,309 TRACE org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:211) TCP consumer thread for tcp:///172.17.0.2:43540@43529 starting
2021-08-17 07:35:30,309 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 0 - Transport Connection to: tcp://172.17.0.2:43540
2021-08-17 07:35:30,309 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:344) Connection from an AMQP v1.0 client initiated. AMQP,3,1,0,0
2021-08-17 07:35:30,309 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 8 bytes
2021-08-17 07:35:30,309 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 42 bytes out
2021-08-17 07:35:30,310 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 1 - Transport Connection to: tcp://172.17.0.2:43540
2021-08-17 07:35:30,310 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 42, cap: 65536)
2021-08-17 07:35:30,310 TRACE org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:50) Run task done: Transport Connection to: tcp://172.17.0.2:43540
2021-08-17 07:35:30,310 TRACE org.apache.qpid.jms.sasl.SaslMechanismFinder.findMatchingMechanism(SaslMechanismFinder.java:91) Skipping SASL-PLAIN mechanism because the available credentials are not sufficient
2021-08-17 07:35:30,310 DEBUG org.apache.qpid.jms.sasl.SaslMechanismFinder.findMatchingMechanism(SaslMechanismFinder.java:106) Best match for SASL auth was: SASL-ANONYMOUS
2021-08-17 07:35:30,310 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: CONNECTION_INIT
2021-08-17 07:35:30,310 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 41, cap: 41/41)
2021-08-17 07:35:30,310 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:30,310 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 41 bytes
2021-08-17 07:35:30,310 DEBUG org.apache.activemq.transport.amqp.sasl.AmqpAuthenticator.processSaslExchange(AmqpAuthenticator.java:75) SASL [ANONYMOUS} Handshake started.
2021-08-17 07:35:30,310 DEBUG org.apache.activemq.transport.amqp.sasl.AmqpAuthenticator.processSaslExchange(AmqpAuthenticator.java:89) SASL [ANONYMOUS} Handshake complete.
2021-08-17 07:35:30,310 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 16 bytes out
2021-08-17 07:35:30,310 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 16, cap: 65536)
2021-08-17 07:35:30,310 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 8 bytes out
2021-08-17 07:35:30,311 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 8, cap: 8/8)
2021-08-17 07:35:30,311 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:30,311 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:344) Connection from an AMQP v1.0 client initiated. AMQP,0,1,0,0
2021-08-17 07:35:30,311 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 8 bytes
2021-08-17 07:35:30,311 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 305, cap: 305/305)
2021-08-17 07:35:30,311 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:30,311 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 305 bytes
2021-08-17 07:35:30,311 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 8, cap: 65536)
2021-08-17 07:35:30,311 DEBUG org.apache.activemq.broker.TransportConnection.processAddConnection(TransportConnection.java:820) Setting up new connection id: ID:7d8ed0b1a3a5-37387-1629213796302-1:606, address: tcp://172.17.0.2:43540, info: ConnectionInfo {commandId = 1, responseRequired = true, connectionId = ID:7d8ed0b1a3a5-37387-1629213796302-1:606, clientId = ID:0f8d8549-667c-4a12-bd9d-5e84ccde85c5:1, clientIp = null, userName = null, password = *****, brokerPath = null, brokerMasterConnector = false, manageable = false, clientMaster = true, faultTolerant = false, failoverReconnect = false}
2021-08-17 07:35:30,312 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: CONNECTION_LOCAL_OPEN
2021-08-17 07:35:30,312 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection$2.onResponse(AmqpConnection.java:503) Connection requesting Idle timeout of: 30000 mills
2021-08-17 07:35:30,312 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.configureInactivityMonitor(AmqpConnection.java:851) Connection keep-alive processing starts in: 15000
2021-08-17 07:35:30,312 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 201 bytes out
2021-08-17 07:35:30,312 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 201, cap: 65536)
2021-08-17 07:35:30,312 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: CONNECTION_REMOTE_OPEN
2021-08-17 07:35:30,312 TRACE org.apache.qpid.jms.provider.amqp.AmqpConnectionProperties.processProperties(AmqpConnectionProperties.java:107) Remote sent Queue prefix value of: queue://
2021-08-17 07:35:30,312 TRACE org.apache.qpid.jms.provider.amqp.AmqpConnectionProperties.processProperties(AmqpConnectionProperties.java:115) Remote sent Topic prefix value of: topic://
2021-08-17 07:35:30,313 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: SESSION_INIT
2021-08-17 07:35:30,313 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: SESSION_LOCAL_OPEN
2021-08-17 07:35:30,313 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 32, cap: 32/32)
2021-08-17 07:35:30,313 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:30,313 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 32 bytes
2021-08-17 07:35:30,313 DEBUG org.apache.activemq.transport.amqp.protocol.AmqpSession.open(AmqpSession.java:105) Session ID:7d8ed0b1a3a5-37387-1629213796302-1:606:0 opened
2021-08-17 07:35:30,313 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 34 bytes out
2021-08-17 07:35:30,313 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 34, cap: 65536)
2021-08-17 07:35:30,313 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: SESSION_REMOTE_OPEN
2021-08-17 07:35:30,313 DEBUG org.apache.qpid.jms.provider.amqp.builders.AmqpConnectionBuilder$1$1.onSuccess(AmqpConnectionBuilder.java:84) AmqpConnection { ID:f8cbc787-7ea8-430f-8e74-796864ca8e11:1 } is now open: 
2021-08-17 07:35:30,313 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.fireConnectionEstablished(AmqpProvider.java:1118) IdleTimeoutCheck being initiated, initial delay: 7500
2021-08-17 07:35:30,313 INFO  org.apache.qpid.jms.JmsConnection.onConnectionEstablished(JmsConnection.java:1347) Connection ID:f8cbc787-7ea8-430f-8e74-796864ca8e11:1 connected to server: amqp://7d8ed0b1a3a5:43529
2021-08-17 07:35:30,314 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 32, cap: 32/32)
2021-08-17 07:35:30,314 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:30,314 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 32 bytes
2021-08-17 07:35:30,314 DEBUG org.apache.activemq.transport.amqp.protocol.AmqpSession.open(AmqpSession.java:105) Session ID:7d8ed0b1a3a5-37387-1629213796302-1:606:1 opened
2021-08-17 07:35:30,314 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 34 bytes out
2021-08-17 07:35:30,314 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 34, cap: 65536)
2021-08-17 07:35:30,314 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: SESSION_INIT
2021-08-17 07:35:30,314 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: SESSION_LOCAL_OPEN
2021-08-17 07:35:30,314 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: SESSION_REMOTE_OPEN
2021-08-17 07:35:30,314 DEBUG org.apache.qpid.jms.provider.amqp.builders.AmqpProducerBuilder.buildResource(AmqpProducerBuilder.java:68) Creating AmqpFixedProducer for: testSelectingOnAMQPMessageID
2021-08-17 07:35:30,315 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 353, cap: 353/353)
2021-08-17 07:35:30,315 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:30,315 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 353 bytes
2021-08-17 07:35:30,315 DEBUG org.apache.activemq.transport.amqp.protocol.AmqpSession.createReceiver(AmqpSession.java:185) opening new receiver ID:7d8ed0b1a3a5-37387-1629213796302-1:606:1:0 on link: qpid-jms:sender:ID:f8cbc787-7ea8-430f-8e74-796864ca8e11:1:1:1:queue://testSelectingOnAMQPMessageID
2021-08-17 07:35:30,315 DEBUG org.apache.activemq.broker.region.AbstractRegion.addDestination(AbstractRegion.java:154) localhost adding destination: queue://testSelectingOnAMQPMessageID
2021-08-17 07:35:30,315 DEBUG org.apache.activemq.store.kahadb.disk.index.BTreeIndex.load(BTreeIndex.java:151) loading
2021-08-17 07:35:30,315 DEBUG org.apache.activemq.store.kahadb.disk.index.BTreeIndex.load(BTreeIndex.java:151) loading
2021-08-17 07:35:30,315 DEBUG org.apache.activemq.store.kahadb.disk.index.BTreeIndex.load(BTreeIndex.java:151) loading
2021-08-17 07:35:30,315 DEBUG org.apache.activemq.store.kahadb.disk.index.BTreeIndex.load(BTreeIndex.java:151) loading
2021-08-17 07:35:30,316 DEBUG org.apache.activemq.store.kahadb.disk.index.BTreeIndex.load(BTreeIndex.java:151) loading
2021-08-17 07:35:30,317 DEBUG org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:2033) queue://testSelectingOnAMQPMessageID, subscriptions=0, memory=0%, size=0, pending=0 toPageIn: 0, force:false, Inflight: 0, pagedInMessages.size 0, pagedInPendingDispatch.size 0, enqueueCount: 0, dequeueCount: 0, memUsage:0, maxPageSize:200
2021-08-17 07:35:30,317 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 385 bytes out
2021-08-17 07:35:30,317 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 385, cap: 65536)
2021-08-17 07:35:30,317 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: LINK_INIT
2021-08-17 07:35:30,317 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: LINK_LOCAL_OPEN
2021-08-17 07:35:30,317 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: LINK_REMOTE_OPEN
2021-08-17 07:35:30,317 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: LINK_FLOW
2021-08-17 07:35:30,318 TRACE org.apache.qpid.jms.provider.amqp.AmqpFixedProducer.doSend(AmqpFixedProducer.java:120) Producer sending message: JmsOutboundMessageDispatch {dispatchId = ID:f8cbc787-7ea8-430f-8e74-796864ca8e11:1:1:1-1, MessageID = ID:f8cbc787-7ea8-430f-8e74-796864ca8e11:1:1:1-1 }
2021-08-17 07:35:30,318 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 242, cap: 242/242)
2021-08-17 07:35:30,318 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:30,318 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 242 bytes
2021-08-17 07:35:30,318 TRACE org.apache.activemq.transport.amqp.protocol.AmqpReceiver.processDelivery(AmqpReceiver.java:197) Inbound Message:ID:f8cbc787-7ea8-430f-8e74-796864ca8e11:1:1:1-1 from Producer:ID:7d8ed0b1a3a5-37387-1629213796302-1:606:1:0:1
2021-08-17 07:35:30,318 DEBUG org.apache.activemq.broker.region.Queue.messageSent(Queue.java:1962) localhost Message ID:f8cbc787-7ea8-430f-8e74-796864ca8e11:1:1:1-1 sent to queue://testSelectingOnAMQPMessageID
2021-08-17 07:35:30,318 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 0 - queue://testSelectingOnAMQPMessageID, subscriptions=0, memory=0%, size=1, pending=0
2021-08-17 07:35:30,319 DEBUG org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:2033) queue://testSelectingOnAMQPMessageID, subscriptions=0, memory=0%, size=1, pending=0 toPageIn: 1, force:false, Inflight: 0, pagedInMessages.size 0, pagedInPendingDispatch.size 0, enqueueCount: 1, dequeueCount: 0, memUsage:2434, maxPageSize:200
2021-08-17 07:35:30,319 TRACE org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:50) Run task done: queue://testSelectingOnAMQPMessageID, subscriptions=0, memory=0%, size=1, pending=0
2021-08-17 07:35:30,323 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 22 bytes out
2021-08-17 07:35:30,324 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 22, cap: 65536)
2021-08-17 07:35:30,324 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: DELIVERY
2021-08-17 07:35:30,324 TRACE org.apache.qpid.jms.provider.amqp.AmqpFixedProducer.processDeliveryUpdates(AmqpFixedProducer.java:217) Outcome of delivery was accepted: DeliveryImpl [_tag=[0], _link=org.apache.qpid.proton.engine.impl.SenderImpl@27241483, _deliveryState=null, _settled=false, _remoteSettled=true, _remoteDeliveryState=Accepted{}, _flags=0, _defaultDeliveryState=null, _transportDelivery=org.apache.qpid.proton.engine.impl.TransportDelivery@3488573f, _data Size=0, _complete=true, _updated=true, _done=true]
2021-08-17 07:35:30,324 TRACE org.apache.qpid.jms.provider.amqp.AmqpAbstractResource.close(AmqpAbstractResource.java:108) AmqpSession { ID:f8cbc787-7ea8-430f-8e74-796864ca8e11:1:1 } requesting close on remote.
2021-08-17 07:35:30,324 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 12, cap: 12/12)
2021-08-17 07:35:30,325 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:30,325 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 12 bytes
2021-08-17 07:35:30,325 DEBUG org.apache.activemq.transport.amqp.protocol.AmqpSession.close(AmqpSession.java:116) Session ID:7d8ed0b1a3a5-37387-1629213796302-1:606:1 closed
2021-08-17 07:35:30,325 DEBUG org.apache.activemq.broker.jmx.ManagementContext.unregisterMBean(ManagementContext.java:451) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,destinationType=Queue,destinationName=testSelectingOnAMQPMessageID,endpoint=Producer,clientId=ID_0f8d8549-667c-4a12-bd9d-5e84ccde85c5_1,producerId=ID_7d8ed0b1a3a5-37387-1629213796302-1_606_1_0
2021-08-17 07:35:30,325 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 12 bytes out
2021-08-17 07:35:30,325 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 12, cap: 65536)
2021-08-17 07:35:30,325 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: SESSION_LOCAL_CLOSE
2021-08-17 07:35:30,325 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: SESSION_REMOTE_CLOSE
2021-08-17 07:35:30,326 DEBUG org.apache.qpid.jms.provider.amqp.AmqpAbstractResource.closeResource(AmqpAbstractResource.java:175) AmqpSession { ID:f8cbc787-7ea8-430f-8e74-796864ca8e11:1:1 } is now closed: 
2021-08-17 07:35:30,326 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: LINK_FINAL
2021-08-17 07:35:30,326 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: SESSION_FINAL
2021-08-17 07:35:30,326 TRACE org.apache.qpid.jms.provider.amqp.AmqpAbstractResource.close(AmqpAbstractResource.java:108) AmqpConnection { ID:f8cbc787-7ea8-430f-8e74-796864ca8e11:1 } requesting close on remote.
2021-08-17 07:35:30,326 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 12, cap: 12/12)
2021-08-17 07:35:30,326 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:30,326 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 12 bytes
2021-08-17 07:35:30,326 DEBUG org.apache.activemq.broker.TransportConnection.processRemoveConnection(TransportConnection.java:876) remove connection id: ID:7d8ed0b1a3a5-37387-1629213796302-1:606
2021-08-17 07:35:30,326 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 12 bytes out
2021-08-17 07:35:30,326 TRACE org.apache.activemq.thread.TaskRunnerFactory.execute(TaskRunnerFactory.java:170) Execute[ActiveMQ BrokerService[localhost] Task] runnable: org.apache.activemq.broker.TransportConnection$4@4d39bf1e
2021-08-17 07:35:30,326 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 12, cap: 65536)
2021-08-17 07:35:30,326 DEBUG org.apache.activemq.broker.jmx.ManagementContext.unregisterMBean(ManagementContext.java:451) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,connector=clientConnectors,connectorName=amqp_//7d8ed0b1a3a5_43529&qe;transport.tcpNoDelay&amp;true&transport.transformer&amp;jms,connectionViewType=clientId,connectionName=ID_0f8d8549-667c-4a12-bd9d-5e84ccde85c5_1
2021-08-17 07:35:30,326 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: CONNECTION_LOCAL_CLOSE
2021-08-17 07:35:30,327 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: TRANSPORT_HEAD_CLOSED
2021-08-17 07:35:30,327 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: CONNECTION_REMOTE_CLOSE
2021-08-17 07:35:30,326 DEBUG org.apache.activemq.broker.jmx.ManagementContext.unregisterMBean(ManagementContext.java:451) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,connector=clientConnectors,connectorName=amqp_//7d8ed0b1a3a5_43529&qe;transport.tcpNoDelay&amp;true&transport.transformer&amp;jms,connectionViewType=remoteAddress,connectionName=tcp_//172.17.0.2_43540
2021-08-17 07:35:30,327 DEBUG org.apache.qpid.jms.provider.amqp.AmqpAbstractResource.closeResource(AmqpAbstractResource.java:175) AmqpConnection { ID:f8cbc787-7ea8-430f-8e74-796864ca8e11:1 } is now closed: 
2021-08-17 07:35:30,327 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: TRANSPORT_TAIL_CLOSED
2021-08-17 07:35:30,327 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: TRANSPORT_CLOSED
2021-08-17 07:35:30,327 DEBUG org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1183) Stopping connection: tcp://172.17.0.2:43540
2021-08-17 07:35:30,327 TRACE org.apache.qpid.jms.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:127) Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@6baddcb4[Running, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 1] with await termination: 0 millis
2021-08-17 07:35:30,327 DEBUG org.apache.activemq.transport.tcp.TcpTransport.doStop(TcpTransport.java:549) Stopping transport tcp:///172.17.0.2:43540@43529
2021-08-17 07:35:30,327 DEBUG org.apache.qpid.jms.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:156) Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@6baddcb4[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 1] is shutdown: true and terminated: false took: 0.000 seconds.
2021-08-17 07:35:30,327 DEBUG org.apache.activemq.thread.TaskRunnerFactory.init(TaskRunnerFactory.java:98) Initialized TaskRunnerFactory[ActiveMQ Task] using ExecutorService: java.util.concurrent.ThreadPoolExecutor@6ffd724e[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
2021-08-17 07:35:30,327 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.lambda$close$3(AmqpProvider.java:374) Cancelling scheduled IdleTimeoutCheck
2021-08-17 07:35:30,327 TRACE org.apache.activemq.thread.TaskRunnerFactory.execute(TaskRunnerFactory.java:170) Execute[ActiveMQ Task] runnable: org.apache.activemq.transport.tcp.TcpTransport$1@613a81c1
2021-08-17 07:35:30,328 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.handleChannelInactive(NettyTcpTransport.java:367) Channel has gone inactive! Channel is [id: 0x8cfdea69, L:/172.17.0.2:43540 ! R:7d8ed0b1a3a5/172.17.0.2:43529]
2021-08-17 07:35:30,328 TRACE org.apache.activemq.thread.TaskRunnerFactory$1.newThread(TaskRunnerFactory.java:206) Created thread[ActiveMQ Task-1]: Thread[ActiveMQ Task-1,5,main]
2021-08-17 07:35:30,328 DEBUG io.netty.buffer.PoolThreadCache.free(PoolThreadCache.java:224) Freed 6 thread-local buffer(s) from thread: AmqpProvider :(307):[amqp://7d8ed0b1a3a5:43529]
2021-08-17 07:35:30,328 TRACE org.apache.activemq.transport.tcp.TcpTransport$1.run(TcpTransport.java:565) Closing socket Socket[addr=/172.17.0.2,port=43540,localport=43529]
2021-08-17 07:35:30,328 DEBUG org.apache.activemq.transport.tcp.TcpTransport$1.run(TcpTransport.java:568) Closed socket Socket[addr=/172.17.0.2,port=43540,localport=43529]
2021-08-17 07:35:30,328 DEBUG org.apache.activemq.transport.amqp.AmqpTestSupport.stopBroker(AmqpTestSupport.java:262) entering AmqpTestSupport.stopBroker
2021-08-17 07:35:30,328 DEBUG org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:54) Forcing shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@6ffd724e[Running, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 1]
2021-08-17 07:35:30,329 TRACE org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:57) Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@6ffd724e[Shutting down, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 1] is shutdown: true and terminated: false.
2021-08-17 07:35:30,329 DEBUG org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1196) Stopped transport: tcp://172.17.0.2:43540
2021-08-17 07:35:30,329 TRACE org.apache.activemq.thread.PooledTaskRunner.shutdown(PooledTaskRunner.java:95) Shutdown timeout: 1 task: Transport Connection to: tcp://172.17.0.2:43540
2021-08-17 07:35:30,329 DEBUG org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1237) Connection Stopped: tcp://172.17.0.2:43540
2021-08-17 07:35:30,328 INFO  org.apache.activemq.broker.BrokerService.stop(BrokerService.java:816) Apache ActiveMQ 5.17.0-SNAPSHOT (localhost, ID:7d8ed0b1a3a5-37387-1629213796302-0:510) is shutting down
2021-08-17 07:35:30,329 DEBUG org.apache.activemq.broker.jmx.ManagementContext.unregisterMBean(ManagementContext.java:451) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,connector=clientConnectors,connectorName=tcp_//7d8ed0b1a3a5_44119
2021-08-17 07:35:30,329 INFO  org.apache.activemq.broker.TransportConnector.stop(TransportConnector.java:311) Connector tcp://7d8ed0b1a3a5:44119 stopped
2021-08-17 07:35:30,329 DEBUG org.apache.activemq.broker.jmx.ManagementContext.unregisterMBean(ManagementContext.java:451) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,connector=clientConnectors,connectorName=amqp_//7d8ed0b1a3a5_43529&qe;transport.tcpNoDelay&amp;true&transport.transformer&amp;jms
2021-08-17 07:35:30,330 INFO  org.apache.activemq.broker.TransportConnector.stop(TransportConnector.java:311) Connector amqp://7d8ed0b1a3a5:43529?transport.tcpNoDelay=true&transport.transformer=jms stopped
2021-08-17 07:35:30,330 TRACE org.apache.activemq.thread.PooledTaskRunner.shutdown(PooledTaskRunner.java:95) Shutdown timeout: 0 task: queue://testSelectingOnAMQPMessageID, subscriptions=0, memory=0%, size=1, pending=0
2021-08-17 07:35:30,330 DEBUG org.apache.activemq.broker.jmx.ManagementContext.unregisterMBean(ManagementContext.java:451) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,destinationType=Queue,destinationName=testSelectingOnAMQPMessageID
2021-08-17 07:35:30,330 INFO  org.apache.activemq.store.kahadb.plist.PListStoreImpl.doStop(PListStoreImpl.java:396) PListStore:[/data/activemq/activemq-main-log-adjust/activemq-amqp/activemq-data/localhost/tmp_storage] stopped
2021-08-17 07:35:30,330 INFO  org.apache.activemq.store.kahadb.KahaDBStore.doStop(KahaDBStore.java:268) Stopping async queue tasks
2021-08-17 07:35:30,331 INFO  org.apache.activemq.store.kahadb.KahaDBStore.doStop(KahaDBStore.java:282) Stopping async topic tasks
2021-08-17 07:35:30,331 DEBUG org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:54) Forcing shutdown of ExecutorService: org.apache.activemq.store.kahadb.KahaDBStore$StoreTaskExecutor@36c04b33[Running, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 1]
2021-08-17 07:35:30,331 TRACE org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:57) Shutdown of ExecutorService: org.apache.activemq.store.kahadb.KahaDBStore$StoreTaskExecutor@36c04b33[Shutting down, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 1] is shutdown: true and terminated: false.
2021-08-17 07:35:30,331 DEBUG org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:54) Forcing shutdown of ExecutorService: org.apache.activemq.store.kahadb.KahaDBStore$StoreTaskExecutor@330d6923[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
2021-08-17 07:35:30,331 TRACE org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:57) Shutdown of ExecutorService: org.apache.activemq.store.kahadb.KahaDBStore$StoreTaskExecutor@330d6923[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true.
2021-08-17 07:35:30,331 INFO  org.apache.activemq.store.kahadb.KahaDBStore.doStop(KahaDBStore.java:310) Stopped KahaDB
2021-08-17 07:35:30,331 DEBUG org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1809) Checkpoint started.
2021-08-17 07:35:30,340 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1831) Last update: 1:106, full gc candidates set: [1]
2021-08-17 07:35:30,340 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1855) gc candidates after producerSequenceIdTrackerLocation:1:736, []
2021-08-17 07:35:30,340 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1863) gc candidates after ackMessageFileMapLocation:1:1510, []
2021-08-17 07:35:30,340 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1874) gc candidates after in progress tx range:[null, null], []
2021-08-17 07:35:30,340 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1977) gc candidates: []
2021-08-17 07:35:30,341 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1978) ackMessageFileMap: {}
2021-08-17 07:35:30,341 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:2044) Not yet time to check for compaction: 1 of 10 cycles
2021-08-17 07:35:30,341 DEBUG org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:2053) Checkpoint done.
2021-08-17 07:35:30,445 TRACE org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:111) Shutdown of ExecutorService: java.util.concurrent.ScheduledThreadPoolExecutor@70c5c1ce[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 0] with await termination: 4000 millis
2021-08-17 07:35:30,445 DEBUG org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:155) Shutdown of ExecutorService: java.util.concurrent.ScheduledThreadPoolExecutor@70c5c1ce[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true took: 0.000 seconds.
2021-08-17 07:35:30,446 TRACE org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:111) Shutdown of ExecutorService: java.util.concurrent.Executors$DelegatedScheduledExecutorService@69903eb4 with await termination: -1 millis
2021-08-17 07:35:30,446 DEBUG org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:155) Shutdown of ExecutorService: java.util.concurrent.Executors$DelegatedScheduledExecutorService@69903eb4 is shutdown: true and terminated: true took: 0.000 seconds.
2021-08-17 07:35:30,446 DEBUG org.apache.activemq.broker.jmx.ManagementContext.stop(ManagementContext.java:205) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost
2021-08-17 07:35:30,446 DEBUG org.apache.activemq.broker.jmx.ManagementContext.stop(ManagementContext.java:205) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,service=Health
2021-08-17 07:35:30,446 DEBUG org.apache.activemq.broker.jmx.ManagementContext.stop(ManagementContext.java:205) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,service=Log4JConfiguration
2021-08-17 07:35:30,447 TRACE org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:111) Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@4611a383[Running, pool size = 2, active threads = 0, queued tasks = 0, completed tasks = 4] with await termination: 0 millis
2021-08-17 07:35:30,447 DEBUG org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:155) Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@4611a383[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 4] is shutdown: true and terminated: false took: 0.000 seconds.
2021-08-17 07:35:30,447 DEBUG org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:54) Forcing shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@398e0657[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
2021-08-17 07:35:30,447 TRACE org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:57) Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@398e0657[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true.
2021-08-17 07:35:30,447 INFO  org.apache.activemq.broker.BrokerService.stop(BrokerService.java:876) Apache ActiveMQ 5.17.0-SNAPSHOT (localhost, ID:7d8ed0b1a3a5-37387-1629213796302-0:510) uptime 0.342 seconds
2021-08-17 07:35:30,447 INFO  org.apache.activemq.broker.BrokerService.stop(BrokerService.java:878) Apache ActiveMQ 5.17.0-SNAPSHOT (localhost, ID:7d8ed0b1a3a5-37387-1629213796302-0:510) is shutdown
2021-08-17 07:35:30,447 DEBUG org.apache.activemq.transport.amqp.AmqpTestSupport.stopBroker(AmqpTestSupport.java:268) exiting AmqpTestSupport.stopBroker
2021-08-17 07:35:30,448 DEBUG org.apache.activemq.transport.amqp.AmqpTestSupport.addTranportConnectors(AmqpTestSupport.java:133) Using openwire port 44119
2021-08-17 07:35:30,449 DEBUG org.apache.activemq.transport.amqp.AmqpTestSupport.addTranportConnectors(AmqpTestSupport.java:139) Using amqp port 43529
2021-08-17 07:35:30,449 WARN  org.apache.activemq.broker.BrokerService.checkMemorySystemUsageLimits(BrokerService.java:2159) Memory Usage for the Broker (1024mb) is more than the maximum available for the JVM: 473 mb - resetting to 70% of maximum available: 331
2021-08-17 07:35:30,450 INFO  org.apache.activemq.broker.BrokerService.doStartPersistenceAdapter(BrokerService.java:669) Using Persistence Adapter: KahaDB:[/data/activemq/activemq-main-log-adjust/activemq-amqp/target/activemq-data/testSelectingOnAMQPMessageID]
2021-08-17 07:35:30,450 DEBUG org.apache.activemq.store.kahadb.KahaDBStore.configureMetadata(KahaDBStore.java:211) Store OpenWire version configured as: 11
2021-08-17 07:35:30,457 TRACE org.apache.activemq.store.kahadb.disk.journal.Journal.start(Journal.java:360) Startup took: 7 ms
2021-08-17 07:35:30,496 INFO  org.apache.activemq.store.kahadb.MessageDatabase$Metadata.read(MessageDatabase.java:194) KahaDB is version 7
2021-08-17 07:35:30,497 DEBUG org.apache.activemq.store.kahadb.disk.index.BTreeIndex.load(BTreeIndex.java:151) loading
2021-08-17 07:35:30,497 DEBUG org.apache.activemq.store.kahadb.disk.index.BTreeIndex.load(BTreeIndex.java:151) loading
2021-08-17 07:35:30,497 DEBUG org.apache.activemq.store.kahadb.disk.index.BTreeIndex.load(BTreeIndex.java:151) loading
2021-08-17 07:35:30,497 DEBUG org.apache.activemq.store.kahadb.disk.index.BTreeIndex.load(BTreeIndex.java:151) loading
2021-08-17 07:35:30,497 DEBUG org.apache.activemq.store.kahadb.disk.index.BTreeIndex.load(BTreeIndex.java:151) loading
2021-08-17 07:35:30,497 DEBUG org.apache.activemq.store.kahadb.disk.index.BTreeIndex.load(BTreeIndex.java:151) loading
2021-08-17 07:35:30,508 INFO  org.apache.activemq.store.kahadb.plist.PListStoreImpl.doStart(PListStoreImpl.java:371) PListStore:[/data/activemq/activemq-main-log-adjust/activemq-amqp/activemq-data/localhost/tmp_storage] started
2021-08-17 07:35:30,508 INFO  org.apache.activemq.broker.BrokerService.doStartBroker(BrokerService.java:732) Apache ActiveMQ 5.17.0-SNAPSHOT (localhost, ID:7d8ed0b1a3a5-37387-1629213796302-0:511) is starting
2021-08-17 07:35:30,509 DEBUG org.apache.activemq.broker.region.AbstractRegion.addDestination(AbstractRegion.java:154) localhost adding destination: queue://testSelectingOnAMQPMessageID
2021-08-17 07:35:30,509 DEBUG org.apache.activemq.thread.TaskRunnerFactory.init(TaskRunnerFactory.java:98) Initialized TaskRunnerFactory[ActiveMQ BrokerService[localhost] Task] using ExecutorService: java.util.concurrent.ThreadPoolExecutor@4ba9f3fa[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
2021-08-17 07:35:30,510 DEBUG org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:2033) queue://testSelectingOnAMQPMessageID, subscriptions=0, memory=0%, size=1, pending=0 toPageIn: 1, force:false, Inflight: 0, pagedInMessages.size 0, pagedInPendingDispatch.size 0, enqueueCount: 0, dequeueCount: 0, memUsage:0, maxPageSize:200
2021-08-17 07:35:30,510 DEBUG org.apache.activemq.broker.TransportConnector.getPublishableConnectString(TransportConnector.java:285) Publishing: tcp://7d8ed0b1a3a5:44119 for broker transport URI: tcp://7d8ed0b1a3a5:44119
2021-08-17 07:35:30,511 DEBUG org.apache.activemq.broker.TransportConnector.getPublishableConnectString(TransportConnector.java:285) Publishing: amqp://7d8ed0b1a3a5:43529 for broker transport URI: amqp://7d8ed0b1a3a5:43529?transport.tcpNoDelay=true&transport.transformer=jms
2021-08-17 07:35:30,511 INFO  org.apache.activemq.transport.TransportServerThreadSupport.doStart(TransportServerThreadSupport.java:69) Listening for connections at: tcp://7d8ed0b1a3a5:44119
2021-08-17 07:35:30,511 INFO  org.apache.activemq.broker.TransportConnector.start(TransportConnector.java:266) Connector tcp://7d8ed0b1a3a5:44119 started
2021-08-17 07:35:30,512 INFO  org.apache.activemq.transport.TransportServerThreadSupport.doStart(TransportServerThreadSupport.java:69) Listening for connections at: amqp://7d8ed0b1a3a5:43529?transport.tcpNoDelay=true&transport.transformer=jms
2021-08-17 07:35:30,514 INFO  org.apache.activemq.broker.TransportConnector.start(TransportConnector.java:266) Connector amqp://7d8ed0b1a3a5:43529?transport.tcpNoDelay=true&transport.transformer=jms started
2021-08-17 07:35:30,514 INFO  org.apache.activemq.broker.BrokerService.doStartBroker(BrokerService.java:759) Apache ActiveMQ 5.17.0-SNAPSHOT (localhost, ID:7d8ed0b1a3a5-37387-1629213796302-0:511) started
2021-08-17 07:35:30,514 INFO  org.apache.activemq.broker.BrokerService.doStartBroker(BrokerService.java:760) For help or more information please see: http://activemq.apache.org
2021-08-17 07:35:30,515 INFO  org.apache.activemq.transport.amqp.AMQ4563Test.testSelectingOnAMQPMessageID(AMQ4563Test.java:62) Using selector: JMSMessageID = 'ID:f8cbc787-7ea8-430f-8e74-796864ca8e11:1:1:1-1'
2021-08-17 07:35:30,515 DEBUG org.apache.activemq.transport.amqp.JMSClientContext.createConnectionFactory(JMSClientContext.java:145) In createConnectionFactory using URI: amqp://7d8ed0b1a3a5:43529
2021-08-17 07:35:30,517 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.connect(NettyTcpTransport.java:147) Netty Transport using Epoll mode
2021-08-17 07:35:30,518 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.handleConnected(NettyTcpTransport.java:362) Channel has become active! Channel is [id: 0x26460dcb, L:/172.17.0.2:43552 - R:7d8ed0b1a3a5/172.17.0.2:43529]
2021-08-17 07:35:30,518 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 8, cap: 8/8)
2021-08-17 07:35:30,518 TRACE org.apache.activemq.thread.TaskRunnerFactory.execute(TaskRunnerFactory.java:170) Execute[ActiveMQ BrokerService[localhost] Task] runnable: org.apache.activemq.broker.TransportConnector$1$1@503cbd3a
2021-08-17 07:35:30,518 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:30,518 TRACE org.apache.activemq.thread.TaskRunnerFactory$1.newThread(TaskRunnerFactory.java:206) Created thread[ActiveMQ BrokerService[localhost] Task-1]: Thread[ActiveMQ BrokerService[localhost] Task-1,5,main]
2021-08-17 07:35:30,519 TRACE org.apache.activemq.thread.TaskRunnerFactory$1.newThread(TaskRunnerFactory.java:206) Created thread[ActiveMQ BrokerService[localhost] Task-2]: Thread[ActiveMQ BrokerService[localhost] Task-2,5,main]
2021-08-17 07:35:30,519 TRACE org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:211) TCP consumer thread for tcp:///172.17.0.2:43552@43529 starting
2021-08-17 07:35:30,519 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 0 - Transport Connection to: tcp://172.17.0.2:43552
2021-08-17 07:35:30,519 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:344) Connection from an AMQP v1.0 client initiated. AMQP,3,1,0,0
2021-08-17 07:35:30,520 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 8 bytes
2021-08-17 07:35:30,520 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 42 bytes out
2021-08-17 07:35:30,520 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 1 - Transport Connection to: tcp://172.17.0.2:43552
2021-08-17 07:35:30,520 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 42, cap: 65536)
2021-08-17 07:35:30,520 TRACE org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:50) Run task done: Transport Connection to: tcp://172.17.0.2:43552
2021-08-17 07:35:30,520 TRACE org.apache.qpid.jms.sasl.SaslMechanismFinder.findMatchingMechanism(SaslMechanismFinder.java:91) Skipping SASL-PLAIN mechanism because the available credentials are not sufficient
2021-08-17 07:35:30,520 DEBUG org.apache.qpid.jms.sasl.SaslMechanismFinder.findMatchingMechanism(SaslMechanismFinder.java:106) Best match for SASL auth was: SASL-ANONYMOUS
2021-08-17 07:35:30,520 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: CONNECTION_INIT
2021-08-17 07:35:30,520 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 41, cap: 41/41)
2021-08-17 07:35:30,520 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:30,520 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 41 bytes
2021-08-17 07:35:30,520 DEBUG org.apache.activemq.transport.amqp.sasl.AmqpAuthenticator.processSaslExchange(AmqpAuthenticator.java:75) SASL [ANONYMOUS} Handshake started.
2021-08-17 07:35:30,520 DEBUG org.apache.activemq.transport.amqp.sasl.AmqpAuthenticator.processSaslExchange(AmqpAuthenticator.java:89) SASL [ANONYMOUS} Handshake complete.
2021-08-17 07:35:30,521 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 16 bytes out
2021-08-17 07:35:30,521 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 8 bytes out
2021-08-17 07:35:30,521 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 16, cap: 65536)
2021-08-17 07:35:30,521 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 8, cap: 8/8)
2021-08-17 07:35:30,521 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:30,521 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:344) Connection from an AMQP v1.0 client initiated. AMQP,0,1,0,0
2021-08-17 07:35:30,521 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 8 bytes
2021-08-17 07:35:30,521 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 305, cap: 305/305)
2021-08-17 07:35:30,521 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:30,521 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 305 bytes
2021-08-17 07:35:30,521 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 8, cap: 65536)
2021-08-17 07:35:30,522 DEBUG org.apache.activemq.broker.TransportConnection.processAddConnection(TransportConnection.java:820) Setting up new connection id: ID:7d8ed0b1a3a5-37387-1629213796302-1:607, address: tcp://172.17.0.2:43552, info: ConnectionInfo {commandId = 1, responseRequired = true, connectionId = ID:7d8ed0b1a3a5-37387-1629213796302-1:607, clientId = ID:177af379-67bb-48df-accb-b8fea8d72f6e:1, clientIp = null, userName = null, password = *****, brokerPath = null, brokerMasterConnector = false, manageable = false, clientMaster = true, faultTolerant = false, failoverReconnect = false}
2021-08-17 07:35:30,522 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection$2.onResponse(AmqpConnection.java:503) Connection requesting Idle timeout of: 30000 mills
2021-08-17 07:35:30,522 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: CONNECTION_LOCAL_OPEN
2021-08-17 07:35:30,522 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.configureInactivityMonitor(AmqpConnection.java:851) Connection keep-alive processing starts in: 15000
2021-08-17 07:35:30,522 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 201 bytes out
2021-08-17 07:35:30,522 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 201, cap: 65536)
2021-08-17 07:35:30,522 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: CONNECTION_REMOTE_OPEN
2021-08-17 07:35:30,522 TRACE org.apache.qpid.jms.provider.amqp.AmqpConnectionProperties.processProperties(AmqpConnectionProperties.java:107) Remote sent Queue prefix value of: queue://
2021-08-17 07:35:30,522 TRACE org.apache.qpid.jms.provider.amqp.AmqpConnectionProperties.processProperties(AmqpConnectionProperties.java:115) Remote sent Topic prefix value of: topic://
2021-08-17 07:35:30,523 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: SESSION_INIT
2021-08-17 07:35:30,523 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: SESSION_LOCAL_OPEN
2021-08-17 07:35:30,523 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 32, cap: 32/32)
2021-08-17 07:35:30,523 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:30,523 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 32 bytes
2021-08-17 07:35:30,523 DEBUG org.apache.activemq.transport.amqp.protocol.AmqpSession.open(AmqpSession.java:105) Session ID:7d8ed0b1a3a5-37387-1629213796302-1:607:0 opened
2021-08-17 07:35:30,523 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 34 bytes out
2021-08-17 07:35:30,523 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 34, cap: 65536)
2021-08-17 07:35:30,523 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: SESSION_REMOTE_OPEN
2021-08-17 07:35:30,523 DEBUG org.apache.qpid.jms.provider.amqp.builders.AmqpConnectionBuilder$1$1.onSuccess(AmqpConnectionBuilder.java:84) AmqpConnection { ID:18d80525-2e21-48db-a530-7a93ad8d273f:1 } is now open: 
2021-08-17 07:35:30,523 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.fireConnectionEstablished(AmqpProvider.java:1118) IdleTimeoutCheck being initiated, initial delay: 7500
2021-08-17 07:35:30,523 INFO  org.apache.qpid.jms.JmsConnection.onConnectionEstablished(JmsConnection.java:1347) Connection ID:18d80525-2e21-48db-a530-7a93ad8d273f:1 connected to server: amqp://7d8ed0b1a3a5:43529
2021-08-17 07:35:30,523 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 32, cap: 32/32)
2021-08-17 07:35:30,524 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:30,524 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 32 bytes
2021-08-17 07:35:30,524 DEBUG org.apache.activemq.transport.amqp.protocol.AmqpSession.open(AmqpSession.java:105) Session ID:7d8ed0b1a3a5-37387-1629213796302-1:607:1 opened
2021-08-17 07:35:30,524 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 34 bytes out
2021-08-17 07:35:30,524 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 34, cap: 65536)
2021-08-17 07:35:30,524 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: SESSION_INIT
2021-08-17 07:35:30,524 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: SESSION_LOCAL_OPEN
2021-08-17 07:35:30,524 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: SESSION_REMOTE_OPEN
2021-08-17 07:35:30,525 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 384, cap: 384/384)
2021-08-17 07:35:30,525 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:30,525 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 384 bytes
2021-08-17 07:35:30,525 DEBUG org.apache.activemq.transport.amqp.protocol.AmqpSession.createSender(AmqpSession.java:265) opening new sender ID:7d8ed0b1a3a5-37387-1629213796302-1:607:1:0 on link: qpid-jms:receiver:ID:18d80525-2e21-48db-a530-7a93ad8d273f:1:1:1:queue://testSelectingOnAMQPMessageID
2021-08-17 07:35:30,525 DEBUG org.apache.activemq.broker.region.AbstractRegion.addConsumer(AbstractRegion.java:341) localhost adding consumer: ID:7d8ed0b1a3a5-37387-1629213796302-1:607:1:0 for destination: queue://testSelectingOnAMQPMessageID
2021-08-17 07:35:30,526 DEBUG org.apache.activemq.broker.region.Queue.addSubscription(Queue.java:426) queue://testSelectingOnAMQPMessageID add sub: QueueSubscription: consumer=ID:7d8ed0b1a3a5-37387-1629213796302-1:607:1:0, destinations=0, dispatched=0, delivered=0, pending=0, prefetch=0, prefetchExtension=0, dequeues: 0, dispatched: 0, inflight: 0
2021-08-17 07:35:30,526 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 0 - queue://testSelectingOnAMQPMessageID, subscriptions=1, memory=0%, size=1, pending=0
2021-08-17 07:35:30,526 DEBUG org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:2033) queue://testSelectingOnAMQPMessageID, subscriptions=1, memory=0%, size=1, pending=0 toPageIn: 1, force:false, Inflight: 0, pagedInMessages.size 0, pagedInPendingDispatch.size 0, enqueueCount: 0, dequeueCount: 0, memUsage:0, maxPageSize:200
2021-08-17 07:35:30,526 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 387 bytes out
2021-08-17 07:35:30,526 TRACE org.apache.activemq.broker.region.cursors.AbstractStoreCursor.fillBatch(AbstractStoreCursor.java:466) org.apache.activemq.broker.region.cursors.QueueStorePrefetch@7f08ff1d:testSelectingOnAMQPMessageID,batchResetNeeded=false,size=1,cacheEnabled=false,maxBatchSize:1,hasSpace:true,pendingCachedIds.size:0,lastSyncCachedId:null,lastSyncCachedId-seq:null,lastAsyncCachedId:null,lastAsyncCachedId-seq:null,store=permits:10000,sd=nextSeq:1,lastRet:MessageOrderCursor:[def:0, low:0, high:0],pending:0 fillBatch
2021-08-17 07:35:30,526 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 387, cap: 65536)
2021-08-17 07:35:30,527 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: LINK_INIT
2021-08-17 07:35:30,527 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: LINK_LOCAL_OPEN
2021-08-17 07:35:30,527 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: LINK_REMOTE_OPEN
2021-08-17 07:35:30,527 TRACE org.apache.activemq.broker.region.Queue.doActualDispatch(Queue.java:2210) Subscription full QueueSubscription: consumer=ID:7d8ed0b1a3a5-37387-1629213796302-1:607:1:0, destinations=1, dispatched=0, delivered=0, pending=0, prefetch=0, prefetchExtension=0
2021-08-17 07:35:30,527 TRACE org.apache.qpid.jms.provider.amqp.AmqpConsumer.sendFlowIfNeeded(AmqpConsumer.java:406) Consumer ID:18d80525-2e21-48db-a530-7a93ad8d273f:1:1:1 granting additional credit: 1000
2021-08-17 07:35:30,527 TRACE org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:50) Run task done: queue://testSelectingOnAMQPMessageID, subscriptions=1, memory=0%, size=1, pending=0
2021-08-17 07:35:30,527 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 35, cap: 35/35)
2021-08-17 07:35:30,527 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:30,528 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 35 bytes
2021-08-17 07:35:30,528 TRACE org.apache.activemq.transport.amqp.protocol.AmqpSender.flow(AmqpSender.java:181) Flow: draining=false, drain=false credit=1000, currentCredit=0, senderDeliveryCount=0 - Sub=QueueSubscription: consumer=ID:7d8ed0b1a3a5-37387-1629213796302-1:607:1:0, destinations=1, dispatched=0, delivered=0, pending=0, prefetch=0, prefetchExtension=0
2021-08-17 07:35:30,528 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 0 - queue://testSelectingOnAMQPMessageID, subscriptions=1, memory=0%, size=1, pending=0
2021-08-17 07:35:30,528 TRACE org.apache.activemq.transport.amqp.protocol.AmqpSender.flow(AmqpSender.java:238) Flow: credit addition of 1000 for sub QueueSubscription: consumer=ID:7d8ed0b1a3a5-37387-1629213796302-1:607:1:0, destinations=1, dispatched=0, delivered=1000, pending=0, prefetch=0, prefetchExtension=1000
2021-08-17 07:35:30,528 DEBUG org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:2033) queue://testSelectingOnAMQPMessageID, subscriptions=1, memory=0%, size=1, pending=0 toPageIn: 0, force:false, Inflight: 0, pagedInMessages.size 1, pagedInPendingDispatch.size 1, enqueueCount: 0, dequeueCount: 0, memUsage:1217, maxPageSize:200
2021-08-17 07:35:30,528 TRACE org.apache.activemq.broker.region.Queue.doActualDispatch(Queue.java:2201) assigned ID:f8cbc787-7ea8-430f-8e74-796864ca8e11:1:1:1-1 to consumer ID:7d8ed0b1a3a5-37387-1629213796302-1:607:1:0
2021-08-17 07:35:30,528 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 0 - Transport Connection to: tcp://172.17.0.2:43552
2021-08-17 07:35:30,528 TRACE org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:50) Run task done: queue://testSelectingOnAMQPMessageID, subscriptions=1, memory=0%, size=1, pending=0
2021-08-17 07:35:30,528 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onActiveMQCommand(AmqpConnection.java:656) Dispatching MessageId: ID:f8cbc787-7ea8-430f-8e74-796864ca8e11:1:1:1-1 to consumer
2021-08-17 07:35:30,528 TRACE org.apache.activemq.transport.amqp.protocol.AmqpSender.pumpOutbound(AmqpSender.java:464) Sender:[qpid-jms:receiver:ID:18d80525-2e21-48db-a530-7a93ad8d273f:1:1:1:queue://testSelectingOnAMQPMessageID] msgId=ID:f8cbc787-7ea8-430f-8e74-796864ca8e11:1:1:1-1 draining=false, drain=false, credit=1000, remoteCredit=1000, queued=0
2021-08-17 07:35:30,528 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 242 bytes out
2021-08-17 07:35:30,528 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onActiveMQCommand(AmqpConnection.java:662) Finished Dispatch of MessageId: ID:f8cbc787-7ea8-430f-8e74-796864ca8e11:1:1:1-1 to consumer
2021-08-17 07:35:30,528 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 242, cap: 65536)
2021-08-17 07:35:30,528 TRACE org.apache.activemq.broker.region.PrefetchSubscription.onDispatch(PrefetchSubscription.java:758) ID:7d8ed0b1a3a5-37387-1629213796302-1:607:1:0 dispatched: ID:f8cbc787-7ea8-430f-8e74-796864ca8e11:1:1:1-1 - queue://testSelectingOnAMQPMessageID, dispatched: 1, inflight: 1
2021-08-17 07:35:30,529 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: DELIVERY
2021-08-17 07:35:30,529 TRACE org.apache.qpid.jms.provider.amqp.AmqpConsumer.processDeliveryUpdates(AmqpConsumer.java:530) AmqpConsumer { ID:18d80525-2e21-48db-a530-7a93ad8d273f:1:1:1 } has incoming Message(s).
2021-08-17 07:35:30,529 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 1 - Transport Connection to: tcp://172.17.0.2:43552
2021-08-17 07:35:30,529 TRACE org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:50) Run task done: Transport Connection to: tcp://172.17.0.2:43552
2021-08-17 07:35:30,529 DEBUG org.apache.qpid.jms.provider.amqp.AmqpConsumer.deliver(AmqpConsumer.java:649) Dispatching received message: JmsInboundMessageDispatch { sequence = 1, messageId = ID:f8cbc787-7ea8-430f-8e74-796864ca8e11:1:1:1-1, consumerId = ID:18d80525-2e21-48db-a530-7a93ad8d273f:1:1:1 }
2021-08-17 07:35:30,529 TRACE org.apache.qpid.jms.JmsSession.redeliveryExceeded(JmsSession.java:1376) checking envelope with 0 redeliveries
2021-08-17 07:35:30,529 TRACE org.apache.qpid.jms.JmsMessageConsumer.dequeue(JmsMessageConsumer.java:366) ID:18d80525-2e21-48db-a530-7a93ad8d273f:1:1:1 received message: JmsInboundMessageDispatch { sequence = 1, messageId = ID:f8cbc787-7ea8-430f-8e74-796864ca8e11:1:1:1-1, consumerId = ID:18d80525-2e21-48db-a530-7a93ad8d273f:1:1:1 }
2021-08-17 07:35:30,529 DEBUG org.apache.qpid.jms.provider.amqp.AmqpConsumer.handleAccepted(AmqpConsumer.java:347) Accepted Ack of message: JmsInboundMessageDispatch { sequence = 1, messageId = ID:f8cbc787-7ea8-430f-8e74-796864ca8e11:1:1:1-1, consumerId = ID:18d80525-2e21-48db-a530-7a93ad8d273f:1:1:1 }
2021-08-17 07:35:30,529 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 22, cap: 22/22)
2021-08-17 07:35:30,529 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:30,529 DEBUG org.apache.activemq.transport.amqp.AMQ4563Test.readAllMessages(AMQ4563Test.java:138) >>>> Received [Hello sent at Tue Aug 17 07:35:30 GMT-08:00 2021]
2021-08-17 07:35:30,529 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 22 bytes
2021-08-17 07:35:30,529 TRACE org.apache.activemq.transport.amqp.protocol.AmqpSender.delivery(AmqpSender.java:273) onDelivery: accepted state = Accepted{}
2021-08-17 07:35:30,529 TRACE org.apache.activemq.transport.amqp.protocol.AmqpSender.settle(AmqpSender.java:520) Sending Ack to ActiveMQ: MessageAck {commandId = 0, responseRequired = false, ackType = 4, consumerId = ID:7d8ed0b1a3a5-37387-1629213796302-1:607:1:0, firstMessageId = ID:f8cbc787-7ea8-430f-8e74-796864ca8e11:1:1:1-1, lastMessageId = ID:f8cbc787-7ea8-430f-8e74-796864ca8e11:1:1:1-1, destination = queue://testSelectingOnAMQPMessageID, transactionId = null, messageCount = 1, poisonCause = null}
2021-08-17 07:35:30,530 TRACE org.apache.activemq.broker.region.PrefetchSubscription.acknowledge(PrefetchSubscription.java:204) ack: MessageAck {commandId = 5, responseRequired = true, ackType = 4, consumerId = ID:7d8ed0b1a3a5-37387-1629213796302-1:607:1:0, firstMessageId = ID:f8cbc787-7ea8-430f-8e74-796864ca8e11:1:1:1-1, lastMessageId = ID:f8cbc787-7ea8-430f-8e74-796864ca8e11:1:1:1-1, destination = queue://testSelectingOnAMQPMessageID, transactionId = null, messageCount = 1, poisonCause = null}
2021-08-17 07:35:30,530 TRACE org.apache.activemq.broker.region.Queue.removeMessage(Queue.java:1853) ack of ID:f8cbc787-7ea8-430f-8e74-796864ca8e11:1:1:1-1 with MessageAck {commandId = 5, responseRequired = true, ackType = 4, consumerId = ID:7d8ed0b1a3a5-37387-1629213796302-1:607:1:0, firstMessageId = ID:f8cbc787-7ea8-430f-8e74-796864ca8e11:1:1:1-1, lastMessageId = ID:f8cbc787-7ea8-430f-8e74-796864ca8e11:1:1:1-1, destination = queue://testSelectingOnAMQPMessageID, transactionId = null, messageCount = 1, poisonCause = null}
2021-08-17 07:35:30,535 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 0 - queue://testSelectingOnAMQPMessageID, subscriptions=1, memory=0%, size=0, pending=0
2021-08-17 07:35:30,535 DEBUG org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:2033) queue://testSelectingOnAMQPMessageID, subscriptions=1, memory=0%, size=0, pending=0 toPageIn: 0, force:false, Inflight: 0, pagedInMessages.size 0, pagedInPendingDispatch.size 0, enqueueCount: 0, dequeueCount: 1, memUsage:0, maxPageSize:200
2021-08-17 07:35:30,535 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 1 - queue://testSelectingOnAMQPMessageID, subscriptions=1, memory=0%, size=0, pending=0
2021-08-17 07:35:30,535 DEBUG org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:2033) queue://testSelectingOnAMQPMessageID, subscriptions=1, memory=0%, size=0, pending=0 toPageIn: 0, force:false, Inflight: 0, pagedInMessages.size 0, pagedInPendingDispatch.size 0, enqueueCount: 0, dequeueCount: 1, memUsage:0, maxPageSize:200
2021-08-17 07:35:30,535 TRACE org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:50) Run task done: queue://testSelectingOnAMQPMessageID, subscriptions=1, memory=0%, size=0, pending=0
2021-08-17 07:35:31,209 DEBUG org.apache.activemq.transport.amqp.client.AmqpConnection$7.run(AmqpConnection.java:464) Client performing next idle check
2021-08-17 07:35:31,326 DEBUG org.apache.activemq.transport.amqp.client.AmqpConnection$7.run(AmqpConnection.java:464) Client performing next idle check
2021-08-17 07:35:31,359 DEBUG org.apache.activemq.transport.amqp.client.AmqpConnection$7.run(AmqpConnection.java:464) Client performing next idle check
2021-08-17 07:35:31,529 TRACE org.apache.qpid.jms.provider.amqp.AmqpConsumer.pull(AmqpConsumer.java:485) Pull on consumer ID:18d80525-2e21-48db-a530-7a93ad8d273f:1:1:1 with timeout = 0
2021-08-17 07:35:31,530 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 38, cap: 38/38)
2021-08-17 07:35:31,530 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:31,530 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 38 bytes
2021-08-17 07:35:31,530 TRACE org.apache.activemq.transport.amqp.protocol.AmqpSender.flow(AmqpSender.java:181) Flow: draining=false, drain=true credit=999, currentCredit=1000, senderDeliveryCount=1 - Sub=QueueSubscription: consumer=ID:7d8ed0b1a3a5-37387-1629213796302-1:607:1:0, destinations=1, dispatched=0, delivered=999, pending=0, prefetch=0, prefetchExtension=999
2021-08-17 07:35:31,530 TRACE org.apache.activemq.transport.amqp.protocol.AmqpSender.flow(AmqpSender.java:202) Pull case -> consumer pull request quantity = 999
2021-08-17 07:35:31,530 DEBUG org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:2033) queue://testSelectingOnAMQPMessageID, subscriptions=1, memory=0%, size=0, pending=0 toPageIn: 0, force:false, Inflight: 0, pagedInMessages.size 0, pagedInPendingDispatch.size 0, enqueueCount: 0, dequeueCount: 1, memUsage:0, maxPageSize:200
2021-08-17 07:35:31,531 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 0 - Transport Connection to: tcp://172.17.0.2:43552
2021-08-17 07:35:31,531 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onActiveMQCommand(AmqpConnection.java:658) Dispatching End of Browse Command to consumer ID:7d8ed0b1a3a5-37387-1629213796302-1:607:1:0
2021-08-17 07:35:31,531 TRACE org.apache.activemq.transport.amqp.protocol.AmqpSender.pumpOutbound(AmqpSender.java:456) Sender:[qpid-jms:receiver:ID:18d80525-2e21-48db-a530-7a93ad8d273f:1:1:1:queue://testSelectingOnAMQPMessageID] browse done.
2021-08-17 07:35:31,531 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 37 bytes out
2021-08-17 07:35:31,531 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 1 - Transport Connection to: tcp://172.17.0.2:43552
2021-08-17 07:35:31,531 TRACE org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:50) Run task done: Transport Connection to: tcp://172.17.0.2:43552
2021-08-17 07:35:31,531 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 37, cap: 65536)
2021-08-17 07:35:31,531 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: LINK_FLOW
2021-08-17 07:35:31,531 TRACE org.apache.qpid.jms.provider.amqp.AmqpConsumer.processFlowUpdates(AmqpConsumer.java:231) Consumer ID:18d80525-2e21-48db-a530-7a93ad8d273f:1:1:1 flow updated, remote credit = 0
2021-08-17 07:35:31,532 TRACE org.apache.qpid.jms.provider.amqp.AmqpConsumer.sendFlowIfNeeded(AmqpConsumer.java:406) Consumer ID:18d80525-2e21-48db-a530-7a93ad8d273f:1:1:1 granting additional credit: 1000
2021-08-17 07:35:31,532 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 39, cap: 39/39)
2021-08-17 07:35:31,532 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:31,532 TRACE org.apache.qpid.jms.provider.amqp.AmqpAbstractResource.close(AmqpAbstractResource.java:108) AmqpConsumer { ID:18d80525-2e21-48db-a530-7a93ad8d273f:1:1:1 } requesting close on remote.
2021-08-17 07:35:31,532 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 16, cap: 16/16)
2021-08-17 07:35:31,532 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:31,532 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 39 bytes
2021-08-17 07:35:31,532 TRACE org.apache.activemq.transport.amqp.protocol.AmqpSender.flow(AmqpSender.java:181) Flow: draining=false, drain=false credit=1000, currentCredit=0, senderDeliveryCount=0 - Sub=QueueSubscription: consumer=ID:7d8ed0b1a3a5-37387-1629213796302-1:607:1:0, destinations=1, dispatched=0, delivered=0, pending=0, prefetch=0, prefetchExtension=0
2021-08-17 07:35:31,532 TRACE org.apache.activemq.transport.amqp.protocol.AmqpSender.flow(AmqpSender.java:238) Flow: credit addition of 1000 for sub QueueSubscription: consumer=ID:7d8ed0b1a3a5-37387-1629213796302-1:607:1:0, destinations=1, dispatched=0, delivered=1000, pending=0, prefetch=0, prefetchExtension=1000
2021-08-17 07:35:31,532 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 0 - queue://testSelectingOnAMQPMessageID, subscriptions=1, memory=0%, size=0, pending=0
2021-08-17 07:35:31,532 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 16 bytes
2021-08-17 07:35:31,532 DEBUG org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:2033) queue://testSelectingOnAMQPMessageID, subscriptions=1, memory=0%, size=0, pending=0 toPageIn: 0, force:false, Inflight: 0, pagedInMessages.size 0, pagedInPendingDispatch.size 0, enqueueCount: 0, dequeueCount: 1, memUsage:0, maxPageSize:200
2021-08-17 07:35:31,533 DEBUG org.apache.activemq.broker.jmx.ManagementContext.unregisterMBean(ManagementContext.java:451) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,destinationType=Queue,destinationName=testSelectingOnAMQPMessageID,endpoint=Consumer,clientId=ID_177af379-67bb-48df-accb-b8fea8d72f6e_1,consumerId=ID_7d8ed0b1a3a5-37387-1629213796302-1_607_1_0
2021-08-17 07:35:31,533 TRACE org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:50) Run task done: queue://testSelectingOnAMQPMessageID, subscriptions=1, memory=0%, size=0, pending=0
2021-08-17 07:35:31,533 DEBUG org.apache.activemq.broker.region.AbstractRegion.removeConsumer(AbstractRegion.java:465) localhost removing consumer: ID:7d8ed0b1a3a5-37387-1629213796302-1:607:1:0 for destination: queue://testSelectingOnAMQPMessageID
2021-08-17 07:35:31,533 DEBUG org.apache.activemq.broker.region.Queue.removeSubscription(Queue.java:502) queue://testSelectingOnAMQPMessageID remove sub: QueueSubscription: consumer=ID:7d8ed0b1a3a5-37387-1629213796302-1:607:1:0, destinations=1, dispatched=0, delivered=1000, pending=0, prefetch=0, prefetchExtension=1000, lastDeliveredSeqId: 1, dequeues: 1, dispatched: 1, inflight: 0, groups: 0
2021-08-17 07:35:31,533 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 0 - queue://testSelectingOnAMQPMessageID, subscriptions=0, memory=0%, size=0, pending=0
2021-08-17 07:35:31,533 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 16 bytes out
2021-08-17 07:35:31,533 DEBUG org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:2033) queue://testSelectingOnAMQPMessageID, subscriptions=0, memory=0%, size=0, pending=0 toPageIn: 0, force:false, Inflight: 0, pagedInMessages.size 0, pagedInPendingDispatch.size 0, enqueueCount: 0, dequeueCount: 1, memUsage:0, maxPageSize:200
2021-08-17 07:35:31,533 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 16, cap: 65536)
2021-08-17 07:35:31,533 TRACE org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:50) Run task done: queue://testSelectingOnAMQPMessageID, subscriptions=0, memory=0%, size=0, pending=0
2021-08-17 07:35:31,534 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: LINK_LOCAL_CLOSE
2021-08-17 07:35:31,534 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: LINK_REMOTE_CLOSE
2021-08-17 07:35:31,534 DEBUG org.apache.qpid.jms.provider.amqp.AmqpAbstractResource.closeResource(AmqpAbstractResource.java:175) AmqpConsumer { ID:18d80525-2e21-48db-a530-7a93ad8d273f:1:1:1 } is now closed: 
2021-08-17 07:35:31,534 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: LINK_FINAL
2021-08-17 07:35:31,534 TRACE org.apache.qpid.jms.provider.amqp.AmqpAbstractResource.close(AmqpAbstractResource.java:108) AmqpConnection { ID:18d80525-2e21-48db-a530-7a93ad8d273f:1 } requesting close on remote.
2021-08-17 07:35:31,534 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 12, cap: 12/12)
2021-08-17 07:35:31,535 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:31,535 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 12 bytes
2021-08-17 07:35:31,535 DEBUG org.apache.activemq.broker.TransportConnection.processRemoveConnection(TransportConnection.java:876) remove connection id: ID:7d8ed0b1a3a5-37387-1629213796302-1:607
2021-08-17 07:35:31,535 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 12 bytes out
2021-08-17 07:35:31,535 TRACE org.apache.activemq.thread.TaskRunnerFactory.execute(TaskRunnerFactory.java:170) Execute[ActiveMQ BrokerService[localhost] Task] runnable: org.apache.activemq.broker.TransportConnection$4@4f9578f6
2021-08-17 07:35:31,535 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 12, cap: 65536)
2021-08-17 07:35:31,535 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: CONNECTION_LOCAL_CLOSE
2021-08-17 07:35:31,535 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: TRANSPORT_HEAD_CLOSED
2021-08-17 07:35:31,535 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: CONNECTION_REMOTE_CLOSE
2021-08-17 07:35:31,535 DEBUG org.apache.activemq.broker.jmx.ManagementContext.unregisterMBean(ManagementContext.java:451) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,connector=clientConnectors,connectorName=amqp_//7d8ed0b1a3a5_43529&qe;transport.tcpNoDelay&amp;true&transport.transformer&amp;jms,connectionViewType=clientId,connectionName=ID_177af379-67bb-48df-accb-b8fea8d72f6e_1
2021-08-17 07:35:31,535 DEBUG org.apache.qpid.jms.provider.amqp.AmqpAbstractResource.closeResource(AmqpAbstractResource.java:175) AmqpConnection { ID:18d80525-2e21-48db-a530-7a93ad8d273f:1 } is now closed: 
2021-08-17 07:35:31,536 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: TRANSPORT_TAIL_CLOSED
2021-08-17 07:35:31,536 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: TRANSPORT_CLOSED
2021-08-17 07:35:31,536 DEBUG org.apache.activemq.broker.jmx.ManagementContext.unregisterMBean(ManagementContext.java:451) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,connector=clientConnectors,connectorName=amqp_//7d8ed0b1a3a5_43529&qe;transport.tcpNoDelay&amp;true&transport.transformer&amp;jms,connectionViewType=remoteAddress,connectionName=tcp_//172.17.0.2_43552
2021-08-17 07:35:31,536 TRACE org.apache.qpid.jms.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:127) Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@67edaf54[Running, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 1] with await termination: 0 millis
2021-08-17 07:35:31,536 DEBUG org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1183) Stopping connection: tcp://172.17.0.2:43552
2021-08-17 07:35:31,536 DEBUG org.apache.qpid.jms.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:156) Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@67edaf54[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 1] is shutdown: true and terminated: false took: 0.000 seconds.
2021-08-17 07:35:31,536 DEBUG org.apache.activemq.transport.tcp.TcpTransport.doStop(TcpTransport.java:549) Stopping transport tcp:///172.17.0.2:43552@43529
2021-08-17 07:35:31,536 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.lambda$close$3(AmqpProvider.java:374) Cancelling scheduled IdleTimeoutCheck
2021-08-17 07:35:31,536 DEBUG org.apache.activemq.thread.TaskRunnerFactory.init(TaskRunnerFactory.java:98) Initialized TaskRunnerFactory[ActiveMQ Task] using ExecutorService: java.util.concurrent.ThreadPoolExecutor@22f62c5e[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
2021-08-17 07:35:31,537 TRACE org.apache.activemq.thread.TaskRunnerFactory.execute(TaskRunnerFactory.java:170) Execute[ActiveMQ Task] runnable: org.apache.activemq.transport.tcp.TcpTransport$1@26c9acd8
2021-08-17 07:35:31,537 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.handleChannelInactive(NettyTcpTransport.java:367) Channel has gone inactive! Channel is [id: 0x26460dcb, L:/172.17.0.2:43552 ! R:7d8ed0b1a3a5/172.17.0.2:43529]
2021-08-17 07:35:31,537 TRACE org.apache.activemq.thread.TaskRunnerFactory$1.newThread(TaskRunnerFactory.java:206) Created thread[ActiveMQ Task-1]: Thread[ActiveMQ Task-1,5,main]
2021-08-17 07:35:31,537 DEBUG io.netty.buffer.PoolThreadCache.free(PoolThreadCache.java:224) Freed 5 thread-local buffer(s) from thread: AmqpProvider :(308):[amqp://7d8ed0b1a3a5:43529]
2021-08-17 07:35:31,537 TRACE org.apache.activemq.transport.tcp.TcpTransport$1.run(TcpTransport.java:565) Closing socket Socket[addr=/172.17.0.2,port=43552,localport=43529]
2021-08-17 07:35:31,537 DEBUG org.apache.activemq.transport.tcp.TcpTransport$1.run(TcpTransport.java:568) Closed socket Socket[addr=/172.17.0.2,port=43552,localport=43529]
2021-08-17 07:35:31,537 DEBUG org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:54) Forcing shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@22f62c5e[Running, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 1]
2021-08-17 07:35:31,537 TRACE org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:57) Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@22f62c5e[Shutting down, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 1] is shutdown: true and terminated: false.
2021-08-17 07:35:31,537 DEBUG org.apache.activemq.transport.amqp.AmqpTestSupport.stopBroker(AmqpTestSupport.java:262) entering AmqpTestSupport.stopBroker
2021-08-17 07:35:31,537 DEBUG org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1196) Stopped transport: tcp://172.17.0.2:43552
2021-08-17 07:35:31,538 TRACE org.apache.activemq.thread.PooledTaskRunner.shutdown(PooledTaskRunner.java:95) Shutdown timeout: 1 task: Transport Connection to: tcp://172.17.0.2:43552
2021-08-17 07:35:31,538 INFO  org.apache.activemq.broker.BrokerService.stop(BrokerService.java:816) Apache ActiveMQ 5.17.0-SNAPSHOT (localhost, ID:7d8ed0b1a3a5-37387-1629213796302-0:511) is shutting down
2021-08-17 07:35:31,538 DEBUG org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1237) Connection Stopped: tcp://172.17.0.2:43552
2021-08-17 07:35:31,538 DEBUG org.apache.activemq.broker.jmx.ManagementContext.unregisterMBean(ManagementContext.java:451) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,connector=clientConnectors,connectorName=tcp_//7d8ed0b1a3a5_44119
2021-08-17 07:35:31,538 INFO  org.apache.activemq.broker.TransportConnector.stop(TransportConnector.java:311) Connector tcp://7d8ed0b1a3a5:44119 stopped
2021-08-17 07:35:31,538 DEBUG org.apache.activemq.broker.jmx.ManagementContext.unregisterMBean(ManagementContext.java:451) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,connector=clientConnectors,connectorName=amqp_//7d8ed0b1a3a5_43529&qe;transport.tcpNoDelay&amp;true&transport.transformer&amp;jms
2021-08-17 07:35:31,539 INFO  org.apache.activemq.broker.TransportConnector.stop(TransportConnector.java:311) Connector amqp://7d8ed0b1a3a5:43529?transport.tcpNoDelay=true&transport.transformer=jms stopped
2021-08-17 07:35:31,539 TRACE org.apache.activemq.thread.PooledTaskRunner.shutdown(PooledTaskRunner.java:95) Shutdown timeout: 0 task: queue://testSelectingOnAMQPMessageID, subscriptions=0, memory=0%, size=0, pending=0
2021-08-17 07:35:31,539 DEBUG org.apache.activemq.broker.jmx.ManagementContext.unregisterMBean(ManagementContext.java:451) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,destinationType=Queue,destinationName=testSelectingOnAMQPMessageID
2021-08-17 07:35:31,540 INFO  org.apache.activemq.store.kahadb.plist.PListStoreImpl.doStop(PListStoreImpl.java:396) PListStore:[/data/activemq/activemq-main-log-adjust/activemq-amqp/activemq-data/localhost/tmp_storage] stopped
2021-08-17 07:35:31,540 INFO  org.apache.activemq.store.kahadb.KahaDBStore.doStop(KahaDBStore.java:268) Stopping async queue tasks
2021-08-17 07:35:31,540 INFO  org.apache.activemq.store.kahadb.KahaDBStore.doStop(KahaDBStore.java:282) Stopping async topic tasks
2021-08-17 07:35:31,540 DEBUG org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:54) Forcing shutdown of ExecutorService: org.apache.activemq.store.kahadb.KahaDBStore$StoreTaskExecutor@514de325[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
2021-08-17 07:35:31,540 TRACE org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:57) Shutdown of ExecutorService: org.apache.activemq.store.kahadb.KahaDBStore$StoreTaskExecutor@514de325[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true.
2021-08-17 07:35:31,540 DEBUG org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:54) Forcing shutdown of ExecutorService: org.apache.activemq.store.kahadb.KahaDBStore$StoreTaskExecutor@30c1da48[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
2021-08-17 07:35:31,540 TRACE org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:57) Shutdown of ExecutorService: org.apache.activemq.store.kahadb.KahaDBStore$StoreTaskExecutor@30c1da48[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true.
2021-08-17 07:35:31,540 INFO  org.apache.activemq.store.kahadb.KahaDBStore.doStop(KahaDBStore.java:310) Stopped KahaDB
2021-08-17 07:35:31,540 DEBUG org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1809) Checkpoint started.
2021-08-17 07:35:31,549 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1831) Last update: 1:1707, full gc candidates set: [1]
2021-08-17 07:35:31,550 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1855) gc candidates after producerSequenceIdTrackerLocation:1:2201, []
2021-08-17 07:35:31,550 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1863) gc candidates after ackMessageFileMapLocation:1:2975, []
2021-08-17 07:35:31,550 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1874) gc candidates after in progress tx range:[null, null], []
2021-08-17 07:35:31,550 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1977) gc candidates: []
2021-08-17 07:35:31,550 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1978) ackMessageFileMap: {1=[1]}
2021-08-17 07:35:31,550 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:2044) Not yet time to check for compaction: 1 of 10 cycles
2021-08-17 07:35:31,550 DEBUG org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:2053) Checkpoint done.
2021-08-17 07:35:31,632 TRACE org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:111) Shutdown of ExecutorService: java.util.concurrent.ScheduledThreadPoolExecutor@5b3bb1f7[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 0] with await termination: 4000 millis
2021-08-17 07:35:31,632 DEBUG org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:155) Shutdown of ExecutorService: java.util.concurrent.ScheduledThreadPoolExecutor@5b3bb1f7[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true took: 0.000 seconds.
2021-08-17 07:35:31,633 TRACE org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:111) Shutdown of ExecutorService: java.util.concurrent.Executors$DelegatedScheduledExecutorService@58d6b7b9 with await termination: -1 millis
2021-08-17 07:35:31,633 DEBUG org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:155) Shutdown of ExecutorService: java.util.concurrent.Executors$DelegatedScheduledExecutorService@58d6b7b9 is shutdown: true and terminated: true took: 0.000 seconds.
2021-08-17 07:35:31,633 DEBUG org.apache.activemq.broker.jmx.ManagementContext.stop(ManagementContext.java:205) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost
2021-08-17 07:35:31,634 DEBUG org.apache.activemq.broker.jmx.ManagementContext.stop(ManagementContext.java:205) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,service=Health
2021-08-17 07:35:31,634 DEBUG org.apache.activemq.broker.jmx.ManagementContext.stop(ManagementContext.java:205) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,service=Log4JConfiguration
2021-08-17 07:35:31,634 TRACE org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:111) Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@4ba9f3fa[Running, pool size = 2, active threads = 0, queued tasks = 0, completed tasks = 10] with await termination: 0 millis
2021-08-17 07:35:31,634 DEBUG org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:155) Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@4ba9f3fa[Shutting down, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 10] is shutdown: true and terminated: false took: 0.000 seconds.
2021-08-17 07:35:31,634 DEBUG org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:54) Forcing shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@3f1a4795[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
2021-08-17 07:35:31,635 TRACE org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:57) Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@3f1a4795[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true.
2021-08-17 07:35:31,635 INFO  org.apache.activemq.broker.BrokerService.stop(BrokerService.java:876) Apache ActiveMQ 5.17.0-SNAPSHOT (localhost, ID:7d8ed0b1a3a5-37387-1629213796302-0:511) uptime 1.186 seconds
2021-08-17 07:35:31,635 INFO  org.apache.activemq.broker.BrokerService.stop(BrokerService.java:878) Apache ActiveMQ 5.17.0-SNAPSHOT (localhost, ID:7d8ed0b1a3a5-37387-1629213796302-0:511) is shutdown
2021-08-17 07:35:31,635 DEBUG org.apache.activemq.transport.amqp.AmqpTestSupport.stopBroker(AmqpTestSupport.java:268) exiting AmqpTestSupport.stopBroker
2021-08-17 07:35:31,635 INFO  org.apache.activemq.transport.amqp.AmqpTestSupport.tearDown(AmqpTestSupport.java:273) ========== tearDown testSelectingOnAMQPMessageID ==========
2021-08-17 07:35:31,636 INFO  org.apache.activemq.transport.amqp.AmqpTestSupport.setUp(AmqpTestSupport.java:76) ========== start testMessagesAreAckedAMQProducer ==========
2021-08-17 07:35:31,637 DEBUG org.apache.activemq.transport.amqp.AmqpTestSupport.addTranportConnectors(AmqpTestSupport.java:133) Using openwire port 39661
2021-08-17 07:35:31,638 DEBUG org.apache.activemq.transport.amqp.AmqpTestSupport.addTranportConnectors(AmqpTestSupport.java:139) Using amqp port 39699
2021-08-17 07:35:31,638 WARN  org.apache.activemq.broker.BrokerService.checkMemorySystemUsageLimits(BrokerService.java:2159) Memory Usage for the Broker (1024mb) is more than the maximum available for the JVM: 473 mb - resetting to 70% of maximum available: 331
2021-08-17 07:35:31,640 INFO  org.apache.activemq.broker.BrokerService.doStartPersistenceAdapter(BrokerService.java:669) Using Persistence Adapter: KahaDB:[/data/activemq/activemq-main-log-adjust/activemq-amqp/target/activemq-data/testMessagesAreAckedAMQProducer]
2021-08-17 07:35:31,640 DEBUG org.apache.activemq.store.kahadb.KahaDBStore.configureMetadata(KahaDBStore.java:211) Store OpenWire version configured as: 11
2021-08-17 07:35:31,672 TRACE org.apache.activemq.store.kahadb.disk.journal.Journal.start(Journal.java:360) Startup took: 32 ms
2021-08-17 07:35:31,672 TRACE org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:111) Shutdown of ExecutorService: java.util.concurrent.ScheduledThreadPoolExecutor@1dbd580[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 0] with await termination: 4000 millis
2021-08-17 07:35:31,672 DEBUG org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:155) Shutdown of ExecutorService: java.util.concurrent.ScheduledThreadPoolExecutor@1dbd580[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true took: 0.000 seconds.
2021-08-17 07:35:31,672 INFO  org.apache.activemq.store.kahadb.MessageDatabase.load(MessageDatabase.java:501) Persistence store purged.
2021-08-17 07:35:31,701 TRACE org.apache.activemq.store.kahadb.disk.journal.Journal.start(Journal.java:360) Startup took: 28 ms
2021-08-17 07:35:31,787 DEBUG org.apache.activemq.store.kahadb.disk.index.BTreeIndex.load(BTreeIndex.java:151) loading
2021-08-17 07:35:31,839 INFO  org.apache.activemq.store.kahadb.plist.PListStoreImpl.doStart(PListStoreImpl.java:371) PListStore:[/data/activemq/activemq-main-log-adjust/activemq-amqp/activemq-data/localhost/tmp_storage] started
2021-08-17 07:35:31,839 INFO  org.apache.activemq.broker.BrokerService.doStartBroker(BrokerService.java:732) Apache ActiveMQ 5.17.0-SNAPSHOT (localhost, ID:7d8ed0b1a3a5-37387-1629213796302-0:512) is starting
2021-08-17 07:35:31,840 DEBUG org.apache.activemq.broker.TransportConnector.getPublishableConnectString(TransportConnector.java:285) Publishing: tcp://7d8ed0b1a3a5:39661 for broker transport URI: tcp://7d8ed0b1a3a5:39661
2021-08-17 07:35:31,840 DEBUG org.apache.activemq.broker.TransportConnector.getPublishableConnectString(TransportConnector.java:285) Publishing: amqp://7d8ed0b1a3a5:39699 for broker transport URI: amqp://7d8ed0b1a3a5:39699?transport.tcpNoDelay=true&transport.transformer=jms
2021-08-17 07:35:31,841 INFO  org.apache.activemq.transport.TransportServerThreadSupport.doStart(TransportServerThreadSupport.java:69) Listening for connections at: tcp://7d8ed0b1a3a5:39661
2021-08-17 07:35:31,841 INFO  org.apache.activemq.broker.TransportConnector.start(TransportConnector.java:266) Connector tcp://7d8ed0b1a3a5:39661 started
2021-08-17 07:35:31,841 INFO  org.apache.activemq.transport.TransportServerThreadSupport.doStart(TransportServerThreadSupport.java:69) Listening for connections at: amqp://7d8ed0b1a3a5:39699?transport.tcpNoDelay=true&transport.transformer=jms
2021-08-17 07:35:31,841 INFO  org.apache.activemq.broker.TransportConnector.start(TransportConnector.java:266) Connector amqp://7d8ed0b1a3a5:39699?transport.tcpNoDelay=true&transport.transformer=jms started
2021-08-17 07:35:31,842 INFO  org.apache.activemq.broker.BrokerService.doStartBroker(BrokerService.java:759) Apache ActiveMQ 5.17.0-SNAPSHOT (localhost, ID:7d8ed0b1a3a5-37387-1629213796302-0:512) started
2021-08-17 07:35:31,842 INFO  org.apache.activemq.broker.BrokerService.doStartBroker(BrokerService.java:760) For help or more information please see: http://activemq.apache.org
2021-08-17 07:35:31,842 DEBUG org.apache.activemq.transport.amqp.AMQ4563Test.createAMQConnection(AMQ4563Test.java:155) >>> In createConnection using port 39661
2021-08-17 07:35:31,843 TRACE org.apache.activemq.transport.AbstractInactivityMonitor.startConnectCheckTask(AbstractInactivityMonitor.java:409) Starting connection check task for: tcp://7d8ed0b1a3a5:39661
2021-08-17 07:35:31,844 DEBUG org.apache.activemq.transport.WireFormatNegotiator.sendWireFormat(WireFormatNegotiator.java:82) Sending: WireFormatInfo { version=12, properties={StackTraceEnabled=true, PlatformDetails=Java, CacheEnabled=true, Host=7d8ed0b1a3a5, TcpNoDelayEnabled=true, SizePrefixDisabled=false, CacheSize=1024, ProviderName=ActiveMQ, TightEncodingEnabled=true, MaxFrameSize=9223372036854775807, MaxInactivityDuration=30000, MaxInactivityDurationInitalDelay=10000, ProviderVersion=5.17.0-SNAPSHOT}, magic=[A,c,t,i,v,e,M,Q]}
2021-08-17 07:35:31,844 DEBUG org.apache.activemq.thread.TaskRunnerFactory.init(TaskRunnerFactory.java:98) Initialized TaskRunnerFactory[ActiveMQ BrokerService[localhost] Task] using ExecutorService: java.util.concurrent.ThreadPoolExecutor@5d5b1ca7[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
2021-08-17 07:35:31,844 TRACE org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:211) TCP consumer thread for tcp://7d8ed0b1a3a5/172.17.0.2:39661@48514 starting
2021-08-17 07:35:31,844 TRACE org.apache.activemq.thread.TaskRunnerFactory.execute(TaskRunnerFactory.java:170) Execute[ActiveMQ BrokerService[localhost] Task] runnable: org.apache.activemq.broker.TransportConnector$1$1@539ce97c
2021-08-17 07:35:31,844 TRACE org.apache.activemq.thread.TaskRunnerFactory$1.newThread(TaskRunnerFactory.java:206) Created thread[ActiveMQ BrokerService[localhost] Task-1]: Thread[ActiveMQ BrokerService[localhost] Task-1,5,main]
2021-08-17 07:35:31,844 TRACE org.apache.activemq.transport.AbstractInactivityMonitor.startConnectCheckTask(AbstractInactivityMonitor.java:409) Starting connection check task for: tcp:///172.17.0.2:48514@39661
2021-08-17 07:35:31,844 DEBUG org.apache.activemq.transport.WireFormatNegotiator.sendWireFormat(WireFormatNegotiator.java:82) Sending: WireFormatInfo { version=12, properties={TcpNoDelayEnabled=true, SizePrefixDisabled=false, CacheSize=1024, ProviderName=ActiveMQ, StackTraceEnabled=true, PlatformDetails=Java, CacheEnabled=true, TightEncodingEnabled=true, MaxFrameSize=9223372036854775807, MaxInactivityDuration=30000, MaxInactivityDurationInitalDelay=10000, ProviderVersion=5.17.0-SNAPSHOT}, magic=[A,c,t,i,v,e,M,Q]}
2021-08-17 07:35:31,844 TRACE org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:211) TCP consumer thread for tcp:///172.17.0.2:48514@39661 starting
2021-08-17 07:35:31,845 TRACE org.apache.activemq.thread.TaskRunnerFactory$1.newThread(TaskRunnerFactory.java:206) Created thread[ActiveMQ BrokerService[localhost] Task-2]: Thread[ActiveMQ BrokerService[localhost] Task-2,5,main]
2021-08-17 07:35:31,845 TRACE org.apache.activemq.transport.AbstractInactivityMonitor.stopConnectCheckTask(AbstractInactivityMonitor.java:433) Stopping connection check task for: tcp:///172.17.0.2:48514@39661
2021-08-17 07:35:31,845 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 0 - Transport Connection to: tcp://172.17.0.2:48514
2021-08-17 07:35:31,845 TRACE org.apache.activemq.transport.AbstractInactivityMonitor.stopConnectCheckTask(AbstractInactivityMonitor.java:433) Stopping connection check task for: tcp://7d8ed0b1a3a5/172.17.0.2:39661@48514
2021-08-17 07:35:31,845 DEBUG org.apache.activemq.transport.InactivityMonitor.configuredOk(InactivityMonitor.java:103) Using min of local: WireFormatInfo { version=12, properties={TcpNoDelayEnabled=true, SizePrefixDisabled=false, CacheSize=1024, ProviderName=ActiveMQ, StackTraceEnabled=true, PlatformDetails=Java, CacheEnabled=true, TightEncodingEnabled=true, MaxFrameSize=9223372036854775807, MaxInactivityDuration=30000, MaxInactivityDurationInitalDelay=10000, ProviderVersion=5.17.0-SNAPSHOT}, magic=[A,c,t,i,v,e,M,Q]} and remote: WireFormatInfo { version=12, properties={StackTraceEnabled=true, PlatformDetails=Java, CacheEnabled=true, Host=7d8ed0b1a3a5, TcpNoDelayEnabled=true, SizePrefixDisabled=false, CacheSize=1024, ProviderName=ActiveMQ, TightEncodingEnabled=true, MaxFrameSize=9223372036854775807, MaxInactivityDuration=30000, MaxInactivityDurationInitalDelay=10000, ProviderVersion=5.17.0-SNAPSHOT}, magic=[A,c,t,i,v,e,M,Q]}
2021-08-17 07:35:31,845 DEBUG org.apache.activemq.transport.InactivityMonitor.configuredOk(InactivityMonitor.java:103) Using min of local: WireFormatInfo { version=12, properties={StackTraceEnabled=true, PlatformDetails=Java, CacheEnabled=true, Host=7d8ed0b1a3a5, TcpNoDelayEnabled=true, SizePrefixDisabled=false, CacheSize=1024, ProviderName=ActiveMQ, TightEncodingEnabled=true, MaxFrameSize=9223372036854775807, MaxInactivityDuration=30000, MaxInactivityDurationInitalDelay=10000, ProviderVersion=5.17.0-SNAPSHOT}, magic=[A,c,t,i,v,e,M,Q]} and remote: WireFormatInfo { version=12, properties={TcpNoDelayEnabled=true, SizePrefixDisabled=false, CacheSize=1024, ProviderName=ActiveMQ, StackTraceEnabled=true, PlatformDetails=Java, CacheEnabled=true, TightEncodingEnabled=true, MaxFrameSize=9223372036854775807, MaxInactivityDuration=30000, MaxInactivityDurationInitalDelay=10000, ProviderVersion=5.17.0-SNAPSHOT}, magic=[A,c,t,i,v,e,M,Q]}
2021-08-17 07:35:31,845 DEBUG org.apache.activemq.transport.WireFormatNegotiator.negociate(WireFormatNegotiator.java:130) Received WireFormat: WireFormatInfo { version=12, properties={StackTraceEnabled=true, PlatformDetails=Java, CacheEnabled=true, Host=7d8ed0b1a3a5, TcpNoDelayEnabled=true, SizePrefixDisabled=false, CacheSize=1024, ProviderName=ActiveMQ, TightEncodingEnabled=true, MaxFrameSize=9223372036854775807, MaxInactivityDuration=30000, MaxInactivityDurationInitalDelay=10000, ProviderVersion=5.17.0-SNAPSHOT}, magic=[A,c,t,i,v,e,M,Q]}
2021-08-17 07:35:31,845 DEBUG org.apache.activemq.transport.WireFormatNegotiator.negociate(WireFormatNegotiator.java:130) Received WireFormat: WireFormatInfo { version=12, properties={TcpNoDelayEnabled=true, SizePrefixDisabled=false, CacheSize=1024, ProviderName=ActiveMQ, StackTraceEnabled=true, PlatformDetails=Java, CacheEnabled=true, TightEncodingEnabled=true, MaxFrameSize=9223372036854775807, MaxInactivityDuration=30000, MaxInactivityDurationInitalDelay=10000, ProviderVersion=5.17.0-SNAPSHOT}, magic=[A,c,t,i,v,e,M,Q]}
2021-08-17 07:35:31,845 DEBUG org.apache.activemq.transport.WireFormatNegotiator.negociate(WireFormatNegotiator.java:137) tcp:///172.17.0.2:48514@39661 before negotiation: OpenWireFormat{version=12, cacheEnabled=false, stackTraceEnabled=false, tightEncodingEnabled=false, sizePrefixDisabled=false, maxFrameSize=9223372036854775807}
2021-08-17 07:35:31,845 DEBUG org.apache.activemq.transport.WireFormatNegotiator.negociate(WireFormatNegotiator.java:137) tcp://7d8ed0b1a3a5/172.17.0.2:39661@48514 before negotiation: OpenWireFormat{version=12, cacheEnabled=false, stackTraceEnabled=false, tightEncodingEnabled=false, sizePrefixDisabled=false, maxFrameSize=9223372036854775807}
2021-08-17 07:35:31,845 DEBUG org.apache.activemq.transport.WireFormatNegotiator.negociate(WireFormatNegotiator.java:152) tcp:///172.17.0.2:48514@39661 after negotiation: OpenWireFormat{version=12, cacheEnabled=true, stackTraceEnabled=true, tightEncodingEnabled=true, sizePrefixDisabled=false, maxFrameSize=9223372036854775807}
2021-08-17 07:35:31,845 DEBUG org.apache.activemq.transport.WireFormatNegotiator.negociate(WireFormatNegotiator.java:152) tcp://7d8ed0b1a3a5/172.17.0.2:39661@48514 after negotiation: OpenWireFormat{version=12, cacheEnabled=true, stackTraceEnabled=true, tightEncodingEnabled=true, sizePrefixDisabled=false, maxFrameSize=9223372036854775807}
2021-08-17 07:35:31,846 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 1 - Transport Connection to: tcp://172.17.0.2:48514
2021-08-17 07:35:31,846 TRACE org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:50) Run task done: Transport Connection to: tcp://172.17.0.2:48514
2021-08-17 07:35:31,846 DEBUG org.apache.activemq.broker.TransportConnection.processAddConnection(TransportConnection.java:820) Setting up new connection id: ID:7d8ed0b1a3a5-37387-1629213796302-135:1, address: tcp://172.17.0.2:48514, info: ConnectionInfo {commandId = 1, responseRequired = true, connectionId = ID:7d8ed0b1a3a5-37387-1629213796302-135:1, clientId = ID:7d8ed0b1a3a5-37387-1629213796302-134:1, clientIp = null, userName = admin, password = *****, brokerPath = null, brokerMasterConnector = false, manageable = true, clientMaster = true, faultTolerant = false, failoverReconnect = false}
2021-08-17 07:35:31,846 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 0 - Transport Connection to: tcp://172.17.0.2:48514
2021-08-17 07:35:31,846 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 1 - Transport Connection to: tcp://172.17.0.2:48514
2021-08-17 07:35:31,846 TRACE org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:50) Run task done: Transport Connection to: tcp://172.17.0.2:48514
2021-08-17 07:35:31,847 DEBUG org.apache.activemq.broker.region.AbstractRegion.addConsumer(AbstractRegion.java:341) localhost adding consumer: ID:7d8ed0b1a3a5-37387-1629213796302-135:1:-1:1 for destination: ActiveMQ.Advisory.TempQueue,ActiveMQ.Advisory.TempTopic
2021-08-17 07:35:31,848 DEBUG org.apache.activemq.broker.region.AbstractRegion.addDestination(AbstractRegion.java:154) localhost adding destination: queue://testMessagesAreAckedAMQProducer
2021-08-17 07:35:31,848 DEBUG org.apache.activemq.store.kahadb.disk.index.BTreeIndex.load(BTreeIndex.java:151) loading
2021-08-17 07:35:31,848 DEBUG org.apache.activemq.store.kahadb.disk.index.BTreeIndex.load(BTreeIndex.java:151) loading
2021-08-17 07:35:31,848 DEBUG org.apache.activemq.store.kahadb.disk.index.BTreeIndex.load(BTreeIndex.java:151) loading
2021-08-17 07:35:31,848 DEBUG org.apache.activemq.store.kahadb.disk.index.BTreeIndex.load(BTreeIndex.java:151) loading
2021-08-17 07:35:31,849 DEBUG org.apache.activemq.store.kahadb.disk.index.BTreeIndex.load(BTreeIndex.java:151) loading
2021-08-17 07:35:31,850 DEBUG org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:2033) queue://testMessagesAreAckedAMQProducer, subscriptions=0, memory=0%, size=0, pending=0 toPageIn: 0, force:false, Inflight: 0, pagedInMessages.size 0, pagedInPendingDispatch.size 0, enqueueCount: 0, dequeueCount: 0, memUsage:0, maxPageSize:200
2021-08-17 07:35:31,850 DEBUG org.apache.activemq.transport.amqp.AMQ4563Test.testMessagesAreAckedAMQProducer(AMQ4563Test.java:38) >>>> Sent [Hello 0 sent at Tue Aug 17 07:35:31 GMT-08:00 2021]
2021-08-17 07:35:31,851 TRACE org.apache.activemq.ActiveMQSession.send(ActiveMQSession.java:1962) ID:7d8ed0b1a3a5-37387-1629213796302-135:1:1 sending message: ActiveMQTextMessage {commandId = 0, responseRequired = false, messageId = ID:7d8ed0b1a3a5-37387-1629213796302-135:1:1:1:1, originalDestination = null, originalTransactionId = null, producerId = ID:7d8ed0b1a3a5-37387-1629213796302-135:1:1:1, destination = queue://testMessagesAreAckedAMQProducer, transactionId = null, expiration = 0, timestamp = 1629214531850, arrival = 0, brokerInTime = 0, brokerOutTime = 0, correlationId = null, replyTo = null, persistent = true, type = null, priority = 4, groupID = null, groupSequence = 0, targetConsumerId = null, compressed = false, userID = null, content = null, marshalledProperties = null, dataStructure = null, redeliveryCounter = 0, size = 0, properties = null, readOnlyProperties = true, readOnlyBody = true, droppable = false, jmsXGroupFirstForConsumer = false, text = Hello 0 sent at Tue Aug 17 07:35:31 GMT-08:00 2021}
2021-08-17 07:35:31,851 DEBUG org.apache.activemq.broker.region.Queue.messageSent(Queue.java:1962) localhost Message ID:7d8ed0b1a3a5-37387-1629213796302-135:1:1:1:1 sent to queue://testMessagesAreAckedAMQProducer
2021-08-17 07:35:31,851 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 0 - queue://testMessagesAreAckedAMQProducer, subscriptions=0, memory=0%, size=1, pending=0
2021-08-17 07:35:31,851 DEBUG org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:2033) queue://testMessagesAreAckedAMQProducer, subscriptions=0, memory=0%, size=1, pending=0 toPageIn: 1, force:false, Inflight: 0, pagedInMessages.size 0, pagedInPendingDispatch.size 0, enqueueCount: 1, dequeueCount: 0, memUsage:2156, maxPageSize:200
2021-08-17 07:35:31,851 TRACE org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:50) Run task done: queue://testMessagesAreAckedAMQProducer, subscriptions=0, memory=0%, size=1, pending=0
2021-08-17 07:35:31,860 DEBUG org.apache.activemq.transport.amqp.AMQ4563Test.testMessagesAreAckedAMQProducer(AMQ4563Test.java:38) >>>> Sent [Hello 1 sent at Tue Aug 17 07:35:31 GMT-08:00 2021]
2021-08-17 07:35:31,861 TRACE org.apache.activemq.ActiveMQSession.send(ActiveMQSession.java:1962) ID:7d8ed0b1a3a5-37387-1629213796302-135:1:1 sending message: ActiveMQTextMessage {commandId = 0, responseRequired = false, messageId = ID:7d8ed0b1a3a5-37387-1629213796302-135:1:1:1:2, originalDestination = null, originalTransactionId = null, producerId = ID:7d8ed0b1a3a5-37387-1629213796302-135:1:1:1, destination = queue://testMessagesAreAckedAMQProducer, transactionId = null, expiration = 0, timestamp = 1629214531860, arrival = 0, brokerInTime = 0, brokerOutTime = 0, correlationId = null, replyTo = null, persistent = true, type = null, priority = 4, groupID = null, groupSequence = 0, targetConsumerId = null, compressed = false, userID = null, content = null, marshalledProperties = null, dataStructure = null, redeliveryCounter = 0, size = 0, properties = null, readOnlyProperties = true, readOnlyBody = true, droppable = false, jmsXGroupFirstForConsumer = false, text = Hello 1 sent at Tue Aug 17 07:35:31 GMT-08:00 2021}
2021-08-17 07:35:31,861 DEBUG org.apache.activemq.broker.region.Queue.messageSent(Queue.java:1962) localhost Message ID:7d8ed0b1a3a5-37387-1629213796302-135:1:1:1:2 sent to queue://testMessagesAreAckedAMQProducer
2021-08-17 07:35:31,862 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 0 - queue://testMessagesAreAckedAMQProducer, subscriptions=0, memory=0%, size=2, pending=0
2021-08-17 07:35:31,862 DEBUG org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:2033) queue://testMessagesAreAckedAMQProducer, subscriptions=0, memory=0%, size=2, pending=0 toPageIn: 2, force:false, Inflight: 0, pagedInMessages.size 0, pagedInPendingDispatch.size 0, enqueueCount: 2, dequeueCount: 0, memUsage:3234, maxPageSize:200
2021-08-17 07:35:31,862 TRACE org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:50) Run task done: queue://testMessagesAreAckedAMQProducer, subscriptions=0, memory=0%, size=2, pending=0
2021-08-17 07:35:31,866 DEBUG org.apache.activemq.transport.amqp.AMQ4563Test.testMessagesAreAckedAMQProducer(AMQ4563Test.java:38) >>>> Sent [Hello 2 sent at Tue Aug 17 07:35:31 GMT-08:00 2021]
2021-08-17 07:35:31,866 TRACE org.apache.activemq.ActiveMQSession.send(ActiveMQSession.java:1962) ID:7d8ed0b1a3a5-37387-1629213796302-135:1:1 sending message: ActiveMQTextMessage {commandId = 0, responseRequired = false, messageId = ID:7d8ed0b1a3a5-37387-1629213796302-135:1:1:1:3, originalDestination = null, originalTransactionId = null, producerId = ID:7d8ed0b1a3a5-37387-1629213796302-135:1:1:1, destination = queue://testMessagesAreAckedAMQProducer, transactionId = null, expiration = 0, timestamp = 1629214531866, arrival = 0, brokerInTime = 0, brokerOutTime = 0, correlationId = null, replyTo = null, persistent = true, type = null, priority = 4, groupID = null, groupSequence = 0, targetConsumerId = null, compressed = false, userID = null, content = null, marshalledProperties = null, dataStructure = null, redeliveryCounter = 0, size = 0, properties = null, readOnlyProperties = true, readOnlyBody = true, droppable = false, jmsXGroupFirstForConsumer = false, text = Hello 2 sent at Tue Aug 17 07:35:31 GMT-08:00 2021}
2021-08-17 07:35:31,866 DEBUG org.apache.activemq.broker.region.Queue.messageSent(Queue.java:1962) localhost Message ID:7d8ed0b1a3a5-37387-1629213796302-135:1:1:1:3 sent to queue://testMessagesAreAckedAMQProducer
2021-08-17 07:35:31,866 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 0 - queue://testMessagesAreAckedAMQProducer, subscriptions=0, memory=0%, size=3, pending=0
2021-08-17 07:35:31,866 DEBUG org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:2033) queue://testMessagesAreAckedAMQProducer, subscriptions=0, memory=0%, size=3, pending=0 toPageIn: 3, force:false, Inflight: 0, pagedInMessages.size 0, pagedInPendingDispatch.size 0, enqueueCount: 3, dequeueCount: 0, memUsage:4312, maxPageSize:200
2021-08-17 07:35:31,867 TRACE org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:50) Run task done: queue://testMessagesAreAckedAMQProducer, subscriptions=0, memory=0%, size=3, pending=0
2021-08-17 07:35:31,871 DEBUG org.apache.activemq.broker.jmx.ManagementContext.unregisterMBean(ManagementContext.java:451) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,destinationType=Queue,destinationName=testMessagesAreAckedAMQProducer,endpoint=Producer,clientId=ID_7d8ed0b1a3a5-37387-1629213796302-134_1,producerId=ID_7d8ed0b1a3a5-37387-1629213796302-135_1_1_1
2021-08-17 07:35:31,872 DEBUG org.apache.activemq.broker.jmx.ManagementContext.unregisterMBean(ManagementContext.java:451) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,destinationType=Topic,destinationName=ActiveMQ.Advisory.TempQueue_ActiveMQ.Advisory.TempTopic,endpoint=Consumer,clientId=ID_7d8ed0b1a3a5-37387-1629213796302-134_1,consumerId=ID_7d8ed0b1a3a5-37387-1629213796302-135_1_-1_1
2021-08-17 07:35:31,872 DEBUG org.apache.activemq.broker.region.AbstractRegion.removeConsumer(AbstractRegion.java:465) localhost removing consumer: ID:7d8ed0b1a3a5-37387-1629213796302-135:1:-1:1 for destination: ActiveMQ.Advisory.TempQueue,ActiveMQ.Advisory.TempTopic
2021-08-17 07:35:31,872 DEBUG org.apache.activemq.broker.TransportConnection.processRemoveConnection(TransportConnection.java:876) remove connection id: ID:7d8ed0b1a3a5-37387-1629213796302-135:1
2021-08-17 07:35:31,872 TRACE org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:111) Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@46362e80[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] with await termination: 0 millis
2021-08-17 07:35:31,872 TRACE org.apache.activemq.thread.TaskRunnerFactory.execute(TaskRunnerFactory.java:170) Execute[ActiveMQ BrokerService[localhost] Task] runnable: org.apache.activemq.broker.TransportConnection$4@157abb68
2021-08-17 07:35:31,872 DEBUG org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:155) Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@46362e80[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true took: 0.000 seconds.
2021-08-17 07:35:31,872 DEBUG org.apache.activemq.broker.jmx.ManagementContext.unregisterMBean(ManagementContext.java:451) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,connector=clientConnectors,connectorName=tcp_//7d8ed0b1a3a5_39661,connectionViewType=clientId,connectionName=ID_7d8ed0b1a3a5-37387-1629213796302-134_1
2021-08-17 07:35:31,872 DEBUG org.apache.activemq.transport.tcp.TcpTransport.doStop(TcpTransport.java:549) Stopping transport tcp://7d8ed0b1a3a5/172.17.0.2:39661@48514
2021-08-17 07:35:31,872 DEBUG org.apache.activemq.broker.jmx.ManagementContext.unregisterMBean(ManagementContext.java:451) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,connector=clientConnectors,connectorName=tcp_//7d8ed0b1a3a5_39661,connectionViewType=remoteAddress,connectionName=tcp_//172.17.0.2_48514
2021-08-17 07:35:31,873 DEBUG org.apache.activemq.thread.TaskRunnerFactory.init(TaskRunnerFactory.java:98) Initialized TaskRunnerFactory[ActiveMQ Task] using ExecutorService: java.util.concurrent.ThreadPoolExecutor@4209b29e[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
2021-08-17 07:35:31,873 DEBUG org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1183) Stopping connection: tcp://172.17.0.2:48514
2021-08-17 07:35:31,873 TRACE org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:111) Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@31a8a31a[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] with await termination: 0 millis
2021-08-17 07:35:31,873 TRACE org.apache.activemq.thread.TaskRunnerFactory.execute(TaskRunnerFactory.java:170) Execute[ActiveMQ Task] runnable: org.apache.activemq.transport.tcp.TcpTransport$1@70b24bb
2021-08-17 07:35:31,873 DEBUG org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:155) Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@31a8a31a[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true took: 0.000 seconds.
2021-08-17 07:35:31,873 TRACE org.apache.activemq.thread.TaskRunnerFactory$1.newThread(TaskRunnerFactory.java:206) Created thread[ActiveMQ Task-1]: Thread[ActiveMQ Task-1,5,main]
2021-08-17 07:35:31,873 DEBUG org.apache.activemq.transport.tcp.TcpTransport.doStop(TcpTransport.java:549) Stopping transport tcp:///172.17.0.2:48514@39661
2021-08-17 07:35:31,873 DEBUG org.apache.activemq.thread.TaskRunnerFactory.init(TaskRunnerFactory.java:98) Initialized TaskRunnerFactory[ActiveMQ Task] using ExecutorService: java.util.concurrent.ThreadPoolExecutor@3f6f4b5f[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
2021-08-17 07:35:31,873 TRACE org.apache.activemq.thread.TaskRunnerFactory.execute(TaskRunnerFactory.java:170) Execute[ActiveMQ Task] runnable: org.apache.activemq.transport.tcp.TcpTransport$1@3b50c86a
2021-08-17 07:35:31,873 TRACE org.apache.activemq.transport.tcp.TcpTransport$1.run(TcpTransport.java:565) Closing socket Socket[addr=7d8ed0b1a3a5/172.17.0.2,port=39661,localport=48514]
2021-08-17 07:35:31,873 TRACE org.apache.activemq.thread.TaskRunnerFactory$1.newThread(TaskRunnerFactory.java:206) Created thread[ActiveMQ Task-1]: Thread[ActiveMQ Task-1,5,main]
2021-08-17 07:35:31,873 DEBUG org.apache.activemq.transport.tcp.TcpTransport$1.run(TcpTransport.java:568) Closed socket Socket[addr=7d8ed0b1a3a5/172.17.0.2,port=39661,localport=48514]
2021-08-17 07:35:31,873 DEBUG org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:54) Forcing shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@4209b29e[Running, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 1]
2021-08-17 07:35:31,874 TRACE org.apache.activemq.transport.tcp.TcpTransport$1.run(TcpTransport.java:565) Closing socket Socket[addr=/172.17.0.2,port=48514,localport=39661]
2021-08-17 07:35:31,874 TRACE org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:57) Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@4209b29e[Shutting down, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 1] is shutdown: true and terminated: false.
2021-08-17 07:35:31,874 DEBUG org.apache.activemq.transport.tcp.TcpTransport$1.run(TcpTransport.java:568) Closed socket Socket[addr=/172.17.0.2,port=48514,localport=39661]
2021-08-17 07:35:31,874 DEBUG org.apache.activemq.transport.amqp.AmqpTestSupport.stopBroker(AmqpTestSupport.java:262) entering AmqpTestSupport.stopBroker
2021-08-17 07:35:31,874 DEBUG org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:54) Forcing shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@3f6f4b5f[Running, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 1]
2021-08-17 07:35:31,874 INFO  org.apache.activemq.broker.BrokerService.stop(BrokerService.java:816) Apache ActiveMQ 5.17.0-SNAPSHOT (localhost, ID:7d8ed0b1a3a5-37387-1629213796302-0:512) is shutting down
2021-08-17 07:35:31,874 TRACE org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:57) Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@3f6f4b5f[Shutting down, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 1] is shutdown: true and terminated: false.
2021-08-17 07:35:31,874 DEBUG org.apache.activemq.broker.jmx.ManagementContext.unregisterMBean(ManagementContext.java:451) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,connector=clientConnectors,connectorName=tcp_//7d8ed0b1a3a5_39661
2021-08-17 07:35:31,874 DEBUG org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1196) Stopped transport: tcp://172.17.0.2:48514
2021-08-17 07:35:31,874 TRACE org.apache.activemq.thread.PooledTaskRunner.shutdown(PooledTaskRunner.java:95) Shutdown timeout: 1 task: Transport Connection to: tcp://172.17.0.2:48514
2021-08-17 07:35:31,874 INFO  org.apache.activemq.broker.TransportConnector.stop(TransportConnector.java:311) Connector tcp://7d8ed0b1a3a5:39661 stopped
2021-08-17 07:35:31,874 DEBUG org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1237) Connection Stopped: tcp://172.17.0.2:48514
2021-08-17 07:35:31,875 DEBUG org.apache.activemq.broker.jmx.ManagementContext.unregisterMBean(ManagementContext.java:451) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,connector=clientConnectors,connectorName=amqp_//7d8ed0b1a3a5_39699&qe;transport.tcpNoDelay&amp;true&transport.transformer&amp;jms
2021-08-17 07:35:31,875 INFO  org.apache.activemq.broker.TransportConnector.stop(TransportConnector.java:311) Connector amqp://7d8ed0b1a3a5:39699?transport.tcpNoDelay=true&transport.transformer=jms stopped
2021-08-17 07:35:31,875 TRACE org.apache.activemq.thread.PooledTaskRunner.shutdown(PooledTaskRunner.java:95) Shutdown timeout: 0 task: queue://testMessagesAreAckedAMQProducer, subscriptions=0, memory=0%, size=3, pending=0
2021-08-17 07:35:31,875 DEBUG org.apache.activemq.broker.jmx.ManagementContext.unregisterMBean(ManagementContext.java:451) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,destinationType=Queue,destinationName=testMessagesAreAckedAMQProducer
2021-08-17 07:35:31,876 INFO  org.apache.activemq.store.kahadb.plist.PListStoreImpl.doStop(PListStoreImpl.java:396) PListStore:[/data/activemq/activemq-main-log-adjust/activemq-amqp/activemq-data/localhost/tmp_storage] stopped
2021-08-17 07:35:31,876 INFO  org.apache.activemq.store.kahadb.KahaDBStore.doStop(KahaDBStore.java:268) Stopping async queue tasks
2021-08-17 07:35:31,876 INFO  org.apache.activemq.store.kahadb.KahaDBStore.doStop(KahaDBStore.java:282) Stopping async topic tasks
2021-08-17 07:35:31,876 DEBUG org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:54) Forcing shutdown of ExecutorService: org.apache.activemq.store.kahadb.KahaDBStore$StoreTaskExecutor@6724dbf4[Running, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 3]
2021-08-17 07:35:31,876 TRACE org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:57) Shutdown of ExecutorService: org.apache.activemq.store.kahadb.KahaDBStore$StoreTaskExecutor@6724dbf4[Shutting down, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 3] is shutdown: true and terminated: false.
2021-08-17 07:35:31,876 DEBUG org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:54) Forcing shutdown of ExecutorService: org.apache.activemq.store.kahadb.KahaDBStore$StoreTaskExecutor@3b137746[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
2021-08-17 07:35:31,876 TRACE org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:57) Shutdown of ExecutorService: org.apache.activemq.store.kahadb.KahaDBStore$StoreTaskExecutor@3b137746[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true.
2021-08-17 07:35:31,876 INFO  org.apache.activemq.store.kahadb.KahaDBStore.doStop(KahaDBStore.java:310) Stopped KahaDB
2021-08-17 07:35:31,876 DEBUG org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1809) Checkpoint started.
2021-08-17 07:35:31,888 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1831) Last update: 1:994, full gc candidates set: [1]
2021-08-17 07:35:31,889 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1855) gc candidates after producerSequenceIdTrackerLocation:1:1438, []
2021-08-17 07:35:31,889 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1863) gc candidates after ackMessageFileMapLocation:1:2212, []
2021-08-17 07:35:31,889 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1874) gc candidates after in progress tx range:[null, null], []
2021-08-17 07:35:31,889 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1977) gc candidates: []
2021-08-17 07:35:31,889 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1978) ackMessageFileMap: {}
2021-08-17 07:35:31,889 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:2044) Not yet time to check for compaction: 1 of 10 cycles
2021-08-17 07:35:31,889 DEBUG org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:2053) Checkpoint done.
2021-08-17 07:35:31,982 TRACE org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:111) Shutdown of ExecutorService: java.util.concurrent.ScheduledThreadPoolExecutor@7e70f7dd[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 0] with await termination: 4000 millis
2021-08-17 07:35:31,982 DEBUG org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:155) Shutdown of ExecutorService: java.util.concurrent.ScheduledThreadPoolExecutor@7e70f7dd[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true took: 0.000 seconds.
2021-08-17 07:35:31,983 TRACE org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:111) Shutdown of ExecutorService: java.util.concurrent.Executors$DelegatedScheduledExecutorService@4ce1a50f with await termination: -1 millis
2021-08-17 07:35:31,983 DEBUG org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:155) Shutdown of ExecutorService: java.util.concurrent.Executors$DelegatedScheduledExecutorService@4ce1a50f is shutdown: true and terminated: true took: 0.000 seconds.
2021-08-17 07:35:31,983 DEBUG org.apache.activemq.broker.jmx.ManagementContext.stop(ManagementContext.java:205) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost
2021-08-17 07:35:31,983 DEBUG org.apache.activemq.broker.jmx.ManagementContext.stop(ManagementContext.java:205) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,service=Health
2021-08-17 07:35:31,984 DEBUG org.apache.activemq.broker.jmx.ManagementContext.stop(ManagementContext.java:205) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,service=Log4JConfiguration
2021-08-17 07:35:31,984 TRACE org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:111) Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@5d5b1ca7[Running, pool size = 2, active threads = 0, queued tasks = 0, completed tasks = 7] with await termination: 0 millis
2021-08-17 07:35:31,984 DEBUG org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:155) Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@5d5b1ca7[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 7] is shutdown: true and terminated: false took: 0.000 seconds.
2021-08-17 07:35:31,984 DEBUG org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:54) Forcing shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@76925ca2[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
2021-08-17 07:35:31,984 TRACE org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:57) Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@76925ca2[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true.
2021-08-17 07:35:31,984 INFO  org.apache.activemq.broker.BrokerService.stop(BrokerService.java:876) Apache ActiveMQ 5.17.0-SNAPSHOT (localhost, ID:7d8ed0b1a3a5-37387-1629213796302-0:512) uptime 0.346 seconds
2021-08-17 07:35:31,984 INFO  org.apache.activemq.broker.BrokerService.stop(BrokerService.java:878) Apache ActiveMQ 5.17.0-SNAPSHOT (localhost, ID:7d8ed0b1a3a5-37387-1629213796302-0:512) is shutdown
2021-08-17 07:35:31,984 DEBUG org.apache.activemq.transport.amqp.AmqpTestSupport.stopBroker(AmqpTestSupport.java:268) exiting AmqpTestSupport.stopBroker
2021-08-17 07:35:31,985 DEBUG org.apache.activemq.transport.amqp.AmqpTestSupport.addTranportConnectors(AmqpTestSupport.java:133) Using openwire port 39661
2021-08-17 07:35:31,986 DEBUG org.apache.activemq.transport.amqp.AmqpTestSupport.addTranportConnectors(AmqpTestSupport.java:139) Using amqp port 39699
2021-08-17 07:35:31,986 WARN  org.apache.activemq.broker.BrokerService.checkMemorySystemUsageLimits(BrokerService.java:2159) Memory Usage for the Broker (1024mb) is more than the maximum available for the JVM: 473 mb - resetting to 70% of maximum available: 331
2021-08-17 07:35:31,987 INFO  org.apache.activemq.broker.BrokerService.doStartPersistenceAdapter(BrokerService.java:669) Using Persistence Adapter: KahaDB:[/data/activemq/activemq-main-log-adjust/activemq-amqp/target/activemq-data/testMessagesAreAckedAMQProducer]
2021-08-17 07:35:31,987 DEBUG org.apache.activemq.store.kahadb.KahaDBStore.configureMetadata(KahaDBStore.java:211) Store OpenWire version configured as: 11
2021-08-17 07:35:31,992 TRACE org.apache.activemq.store.kahadb.disk.journal.Journal.start(Journal.java:360) Startup took: 5 ms
2021-08-17 07:35:32,033 INFO  org.apache.activemq.store.kahadb.MessageDatabase$Metadata.read(MessageDatabase.java:194) KahaDB is version 7
2021-08-17 07:35:32,033 DEBUG org.apache.activemq.store.kahadb.disk.index.BTreeIndex.load(BTreeIndex.java:151) loading
2021-08-17 07:35:32,034 DEBUG org.apache.activemq.store.kahadb.disk.index.BTreeIndex.load(BTreeIndex.java:151) loading
2021-08-17 07:35:32,034 DEBUG org.apache.activemq.store.kahadb.disk.index.BTreeIndex.load(BTreeIndex.java:151) loading
2021-08-17 07:35:32,034 DEBUG org.apache.activemq.store.kahadb.disk.index.BTreeIndex.load(BTreeIndex.java:151) loading
2021-08-17 07:35:32,034 DEBUG org.apache.activemq.store.kahadb.disk.index.BTreeIndex.load(BTreeIndex.java:151) loading
2021-08-17 07:35:32,034 DEBUG org.apache.activemq.store.kahadb.disk.index.BTreeIndex.load(BTreeIndex.java:151) loading
2021-08-17 07:35:32,036 INFO  org.apache.activemq.store.kahadb.plist.PListStoreImpl.doStart(PListStoreImpl.java:371) PListStore:[/data/activemq/activemq-main-log-adjust/activemq-amqp/activemq-data/localhost/tmp_storage] started
2021-08-17 07:35:32,045 INFO  org.apache.activemq.broker.BrokerService.doStartBroker(BrokerService.java:732) Apache ActiveMQ 5.17.0-SNAPSHOT (localhost, ID:7d8ed0b1a3a5-37387-1629213796302-0:513) is starting
2021-08-17 07:35:32,046 DEBUG org.apache.activemq.broker.region.AbstractRegion.addDestination(AbstractRegion.java:154) localhost adding destination: queue://testMessagesAreAckedAMQProducer
2021-08-17 07:35:32,046 DEBUG org.apache.activemq.thread.TaskRunnerFactory.init(TaskRunnerFactory.java:98) Initialized TaskRunnerFactory[ActiveMQ BrokerService[localhost] Task] using ExecutorService: java.util.concurrent.ThreadPoolExecutor@445d7862[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
2021-08-17 07:35:32,047 DEBUG org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:2033) queue://testMessagesAreAckedAMQProducer, subscriptions=0, memory=0%, size=3, pending=0 toPageIn: 3, force:false, Inflight: 0, pagedInMessages.size 0, pagedInPendingDispatch.size 0, enqueueCount: 0, dequeueCount: 0, memUsage:0, maxPageSize:200
2021-08-17 07:35:32,048 DEBUG org.apache.activemq.broker.TransportConnector.getPublishableConnectString(TransportConnector.java:285) Publishing: tcp://7d8ed0b1a3a5:39661 for broker transport URI: tcp://7d8ed0b1a3a5:39661
2021-08-17 07:35:32,048 DEBUG org.apache.activemq.broker.TransportConnector.getPublishableConnectString(TransportConnector.java:285) Publishing: amqp://7d8ed0b1a3a5:39699 for broker transport URI: amqp://7d8ed0b1a3a5:39699?transport.tcpNoDelay=true&transport.transformer=jms
2021-08-17 07:35:32,048 INFO  org.apache.activemq.transport.TransportServerThreadSupport.doStart(TransportServerThreadSupport.java:69) Listening for connections at: tcp://7d8ed0b1a3a5:39661
2021-08-17 07:35:32,048 INFO  org.apache.activemq.broker.TransportConnector.start(TransportConnector.java:266) Connector tcp://7d8ed0b1a3a5:39661 started
2021-08-17 07:35:32,048 INFO  org.apache.activemq.transport.TransportServerThreadSupport.doStart(TransportServerThreadSupport.java:69) Listening for connections at: amqp://7d8ed0b1a3a5:39699?transport.tcpNoDelay=true&transport.transformer=jms
2021-08-17 07:35:32,049 INFO  org.apache.activemq.broker.TransportConnector.start(TransportConnector.java:266) Connector amqp://7d8ed0b1a3a5:39699?transport.tcpNoDelay=true&transport.transformer=jms started
2021-08-17 07:35:32,049 INFO  org.apache.activemq.broker.BrokerService.doStartBroker(BrokerService.java:759) Apache ActiveMQ 5.17.0-SNAPSHOT (localhost, ID:7d8ed0b1a3a5-37387-1629213796302-0:513) started
2021-08-17 07:35:32,049 INFO  org.apache.activemq.broker.BrokerService.doStartBroker(BrokerService.java:760) For help or more information please see: http://activemq.apache.org
2021-08-17 07:35:32,049 DEBUG org.apache.activemq.transport.amqp.JMSClientContext.createConnectionFactory(JMSClientContext.java:145) In createConnectionFactory using URI: amqp://7d8ed0b1a3a5:39699
2021-08-17 07:35:32,051 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.connect(NettyTcpTransport.java:147) Netty Transport using Epoll mode
2021-08-17 07:35:32,052 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.handleConnected(NettyTcpTransport.java:362) Channel has become active! Channel is [id: 0x75258280, L:/172.17.0.2:53664 - R:7d8ed0b1a3a5/172.17.0.2:39699]
2021-08-17 07:35:32,052 TRACE org.apache.activemq.thread.TaskRunnerFactory.execute(TaskRunnerFactory.java:170) Execute[ActiveMQ BrokerService[localhost] Task] runnable: org.apache.activemq.broker.TransportConnector$1$1@24648d08
2021-08-17 07:35:32,052 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 8, cap: 8/8)
2021-08-17 07:35:32,052 TRACE org.apache.activemq.thread.TaskRunnerFactory$1.newThread(TaskRunnerFactory.java:206) Created thread[ActiveMQ BrokerService[localhost] Task-1]: Thread[ActiveMQ BrokerService[localhost] Task-1,5,main]
2021-08-17 07:35:32,052 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:32,058 TRACE org.apache.activemq.thread.TaskRunnerFactory$1.newThread(TaskRunnerFactory.java:206) Created thread[ActiveMQ BrokerService[localhost] Task-2]: Thread[ActiveMQ BrokerService[localhost] Task-2,5,main]
2021-08-17 07:35:32,058 TRACE org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:211) TCP consumer thread for tcp:///172.17.0.2:53664@39699 starting
2021-08-17 07:35:32,059 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:344) Connection from an AMQP v1.0 client initiated. AMQP,3,1,0,0
2021-08-17 07:35:32,059 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 8 bytes
2021-08-17 07:35:32,059 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 42 bytes out
2021-08-17 07:35:32,059 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 42, cap: 65536)
2021-08-17 07:35:32,059 TRACE org.apache.qpid.jms.sasl.SaslMechanismFinder.findMatchingMechanism(SaslMechanismFinder.java:91) Skipping SASL-PLAIN mechanism because the available credentials are not sufficient
2021-08-17 07:35:32,059 DEBUG org.apache.qpid.jms.sasl.SaslMechanismFinder.findMatchingMechanism(SaslMechanismFinder.java:106) Best match for SASL auth was: SASL-ANONYMOUS
2021-08-17 07:35:32,060 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: CONNECTION_INIT
2021-08-17 07:35:32,060 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 41, cap: 41/41)
2021-08-17 07:35:32,060 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:32,060 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 41 bytes
2021-08-17 07:35:32,060 DEBUG org.apache.activemq.transport.amqp.sasl.AmqpAuthenticator.processSaslExchange(AmqpAuthenticator.java:75) SASL [ANONYMOUS} Handshake started.
2021-08-17 07:35:32,060 DEBUG org.apache.activemq.transport.amqp.sasl.AmqpAuthenticator.processSaslExchange(AmqpAuthenticator.java:89) SASL [ANONYMOUS} Handshake complete.
2021-08-17 07:35:32,060 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 16 bytes out
2021-08-17 07:35:32,060 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 8 bytes out
2021-08-17 07:35:32,060 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 16, cap: 65536)
2021-08-17 07:35:32,061 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 8, cap: 8/8)
2021-08-17 07:35:32,061 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:32,061 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:344) Connection from an AMQP v1.0 client initiated. AMQP,0,1,0,0
2021-08-17 07:35:32,061 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 8 bytes
2021-08-17 07:35:32,061 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 305, cap: 305/305)
2021-08-17 07:35:32,061 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:32,061 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 305 bytes
2021-08-17 07:35:32,061 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 8, cap: 65536)
2021-08-17 07:35:32,061 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: CONNECTION_LOCAL_OPEN
2021-08-17 07:35:32,062 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 0 - Transport Connection to: tcp://172.17.0.2:53664
2021-08-17 07:35:32,062 DEBUG org.apache.activemq.broker.TransportConnection.processAddConnection(TransportConnection.java:820) Setting up new connection id: ID:7d8ed0b1a3a5-37387-1629213796302-1:608, address: tcp://172.17.0.2:53664, info: ConnectionInfo {commandId = 1, responseRequired = true, connectionId = ID:7d8ed0b1a3a5-37387-1629213796302-1:608, clientId = ID:0a0c775c-a0ec-4ccf-a20d-97f96307a6da:1, clientIp = null, userName = null, password = *****, brokerPath = null, brokerMasterConnector = false, manageable = false, clientMaster = true, faultTolerant = false, failoverReconnect = false}
2021-08-17 07:35:32,062 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection$2.onResponse(AmqpConnection.java:503) Connection requesting Idle timeout of: 30000 mills
2021-08-17 07:35:32,063 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.configureInactivityMonitor(AmqpConnection.java:851) Connection keep-alive processing starts in: 15000
2021-08-17 07:35:32,063 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 201 bytes out
2021-08-17 07:35:32,063 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 1 - Transport Connection to: tcp://172.17.0.2:53664
2021-08-17 07:35:32,063 TRACE org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:50) Run task done: Transport Connection to: tcp://172.17.0.2:53664
2021-08-17 07:35:32,064 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 201, cap: 65536)
2021-08-17 07:35:32,064 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: CONNECTION_REMOTE_OPEN
2021-08-17 07:35:32,064 TRACE org.apache.qpid.jms.provider.amqp.AmqpConnectionProperties.processProperties(AmqpConnectionProperties.java:107) Remote sent Queue prefix value of: queue://
2021-08-17 07:35:32,064 TRACE org.apache.qpid.jms.provider.amqp.AmqpConnectionProperties.processProperties(AmqpConnectionProperties.java:115) Remote sent Topic prefix value of: topic://
2021-08-17 07:35:32,064 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: SESSION_INIT
2021-08-17 07:35:32,064 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: SESSION_LOCAL_OPEN
2021-08-17 07:35:32,064 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 32, cap: 32/32)
2021-08-17 07:35:32,064 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:32,064 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 32 bytes
2021-08-17 07:35:32,064 DEBUG org.apache.activemq.transport.amqp.protocol.AmqpSession.open(AmqpSession.java:105) Session ID:7d8ed0b1a3a5-37387-1629213796302-1:608:0 opened
2021-08-17 07:35:32,064 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 34 bytes out
2021-08-17 07:35:32,065 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 34, cap: 65536)
2021-08-17 07:35:32,065 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: SESSION_REMOTE_OPEN
2021-08-17 07:35:32,065 DEBUG org.apache.qpid.jms.provider.amqp.builders.AmqpConnectionBuilder$1$1.onSuccess(AmqpConnectionBuilder.java:84) AmqpConnection { ID:dc9e07d5-e0ed-40b0-ba62-d92b7496fe47:1 } is now open: 
2021-08-17 07:35:32,065 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.fireConnectionEstablished(AmqpProvider.java:1118) IdleTimeoutCheck being initiated, initial delay: 7500
2021-08-17 07:35:32,065 INFO  org.apache.qpid.jms.JmsConnection.onConnectionEstablished(JmsConnection.java:1347) Connection ID:dc9e07d5-e0ed-40b0-ba62-d92b7496fe47:1 connected to server: amqp://7d8ed0b1a3a5:39699
2021-08-17 07:35:32,065 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 32, cap: 32/32)
2021-08-17 07:35:32,065 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:32,065 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 32 bytes
2021-08-17 07:35:32,065 DEBUG org.apache.activemq.transport.amqp.protocol.AmqpSession.open(AmqpSession.java:105) Session ID:7d8ed0b1a3a5-37387-1629213796302-1:608:1 opened
2021-08-17 07:35:32,065 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 34 bytes out
2021-08-17 07:35:32,066 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 34, cap: 65536)
2021-08-17 07:35:32,066 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: SESSION_INIT
2021-08-17 07:35:32,066 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: SESSION_LOCAL_OPEN
2021-08-17 07:35:32,066 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: SESSION_REMOTE_OPEN
2021-08-17 07:35:32,066 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 298, cap: 298/298)
2021-08-17 07:35:32,066 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:32,066 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 298 bytes
2021-08-17 07:35:32,067 DEBUG org.apache.activemq.transport.amqp.protocol.AmqpSession.createSender(AmqpSession.java:265) opening new sender ID:7d8ed0b1a3a5-37387-1629213796302-1:608:1:0 on link: qpid-jms:receiver:ID:dc9e07d5-e0ed-40b0-ba62-d92b7496fe47:1:1:1:queue://testMessagesAreAckedAMQProducer
2021-08-17 07:35:32,067 DEBUG org.apache.activemq.broker.region.AbstractRegion.addConsumer(AbstractRegion.java:341) localhost adding consumer: ID:7d8ed0b1a3a5-37387-1629213796302-1:608:1:0 for destination: queue://testMessagesAreAckedAMQProducer
2021-08-17 07:35:32,068 DEBUG org.apache.activemq.broker.region.Queue.addSubscription(Queue.java:426) queue://testMessagesAreAckedAMQProducer add sub: QueueSubscription: consumer=ID:7d8ed0b1a3a5-37387-1629213796302-1:608:1:0, destinations=0, dispatched=0, delivered=0, pending=0, prefetch=0, prefetchExtension=0, dequeues: 0, dispatched: 0, inflight: 0
2021-08-17 07:35:32,068 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 0 - queue://testMessagesAreAckedAMQProducer, subscriptions=1, memory=0%, size=3, pending=0
2021-08-17 07:35:32,068 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 301 bytes out
2021-08-17 07:35:32,068 DEBUG org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:2033) queue://testMessagesAreAckedAMQProducer, subscriptions=1, memory=0%, size=3, pending=0 toPageIn: 3, force:false, Inflight: 0, pagedInMessages.size 0, pagedInPendingDispatch.size 0, enqueueCount: 0, dequeueCount: 0, memUsage:0, maxPageSize:200
2021-08-17 07:35:32,068 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 301, cap: 65536)
2021-08-17 07:35:32,068 TRACE org.apache.activemq.broker.region.cursors.AbstractStoreCursor.fillBatch(AbstractStoreCursor.java:466) org.apache.activemq.broker.region.cursors.QueueStorePrefetch@1ca55d95:testMessagesAreAckedAMQProducer,batchResetNeeded=false,size=3,cacheEnabled=false,maxBatchSize:3,hasSpace:true,pendingCachedIds.size:0,lastSyncCachedId:null,lastSyncCachedId-seq:null,lastAsyncCachedId:null,lastAsyncCachedId-seq:null,store=permits:10000,sd=nextSeq:3,lastRet:MessageOrderCursor:[def:0, low:0, high:0],pending:0 fillBatch
2021-08-17 07:35:32,068 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: LINK_INIT
2021-08-17 07:35:32,068 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: LINK_LOCAL_OPEN
2021-08-17 07:35:32,069 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: LINK_REMOTE_OPEN
2021-08-17 07:35:32,069 TRACE org.apache.qpid.jms.provider.amqp.AmqpConsumer.sendFlowIfNeeded(AmqpConsumer.java:406) Consumer ID:dc9e07d5-e0ed-40b0-ba62-d92b7496fe47:1:1:1 granting additional credit: 1000
2021-08-17 07:35:32,069 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 35, cap: 35/35)
2021-08-17 07:35:32,069 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:32,069 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 35 bytes
2021-08-17 07:35:32,069 TRACE org.apache.activemq.transport.amqp.protocol.AmqpSender.flow(AmqpSender.java:181) Flow: draining=false, drain=false credit=1000, currentCredit=0, senderDeliveryCount=0 - Sub=QueueSubscription: consumer=ID:7d8ed0b1a3a5-37387-1629213796302-1:608:1:0, destinations=1, dispatched=0, delivered=0, pending=0, prefetch=0, prefetchExtension=0
2021-08-17 07:35:32,069 TRACE org.apache.activemq.broker.region.Queue.doActualDispatch(Queue.java:2210) Subscription full QueueSubscription: consumer=ID:7d8ed0b1a3a5-37387-1629213796302-1:608:1:0, destinations=1, dispatched=0, delivered=0, pending=0, prefetch=0, prefetchExtension=0
2021-08-17 07:35:32,069 TRACE org.apache.activemq.transport.amqp.protocol.AmqpSender.flow(AmqpSender.java:238) Flow: credit addition of 1000 for sub QueueSubscription: consumer=ID:7d8ed0b1a3a5-37387-1629213796302-1:608:1:0, destinations=1, dispatched=0, delivered=1000, pending=0, prefetch=0, prefetchExtension=1000
2021-08-17 07:35:32,070 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 1 - queue://testMessagesAreAckedAMQProducer, subscriptions=1, memory=0%, size=3, pending=0
2021-08-17 07:35:32,070 DEBUG org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:2033) queue://testMessagesAreAckedAMQProducer, subscriptions=1, memory=0%, size=3, pending=0 toPageIn: 0, force:false, Inflight: 0, pagedInMessages.size 3, pagedInPendingDispatch.size 3, enqueueCount: 0, dequeueCount: 0, memUsage:3234, maxPageSize:200
2021-08-17 07:35:32,070 TRACE org.apache.activemq.broker.region.Queue.doActualDispatch(Queue.java:2201) assigned ID:7d8ed0b1a3a5-37387-1629213796302-135:1:1:1:1 to consumer ID:7d8ed0b1a3a5-37387-1629213796302-1:608:1:0
2021-08-17 07:35:32,070 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 0 - Transport Connection to: tcp://172.17.0.2:53664
2021-08-17 07:35:32,070 TRACE org.apache.activemq.broker.region.Queue.doActualDispatch(Queue.java:2201) assigned ID:7d8ed0b1a3a5-37387-1629213796302-135:1:1:1:2 to consumer ID:7d8ed0b1a3a5-37387-1629213796302-1:608:1:0
2021-08-17 07:35:32,070 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onActiveMQCommand(AmqpConnection.java:656) Dispatching MessageId: ID:7d8ed0b1a3a5-37387-1629213796302-135:1:1:1:1 to consumer
2021-08-17 07:35:32,070 TRACE org.apache.activemq.broker.region.Queue.doActualDispatch(Queue.java:2201) assigned ID:7d8ed0b1a3a5-37387-1629213796302-135:1:1:1:3 to consumer ID:7d8ed0b1a3a5-37387-1629213796302-1:608:1:0
2021-08-17 07:35:32,070 TRACE org.apache.activemq.transport.amqp.protocol.AmqpSender.pumpOutbound(AmqpSender.java:464) Sender:[qpid-jms:receiver:ID:dc9e07d5-e0ed-40b0-ba62-d92b7496fe47:1:1:1:queue://testMessagesAreAckedAMQProducer] msgId=ID:7d8ed0b1a3a5-37387-1629213796302-135:1:1:1:1 draining=false, drain=false, credit=1000, remoteCredit=1000, queued=0
2021-08-17 07:35:32,070 TRACE org.apache.activemq.thread.TaskRunnerFactory$1.newThread(TaskRunnerFactory.java:206) Created thread[ActiveMQ BrokerService[localhost] Task-3]: Thread[ActiveMQ BrokerService[localhost] Task-3,5,main]
2021-08-17 07:35:32,070 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 225 bytes out
2021-08-17 07:35:32,070 TRACE org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:50) Run task done: queue://testMessagesAreAckedAMQProducer, subscriptions=1, memory=0%, size=3, pending=0
2021-08-17 07:35:32,070 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 0 - queue://testMessagesAreAckedAMQProducer, subscriptions=1, memory=0%, size=3, pending=0
2021-08-17 07:35:32,070 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onActiveMQCommand(AmqpConnection.java:662) Finished Dispatch of MessageId: ID:7d8ed0b1a3a5-37387-1629213796302-135:1:1:1:1 to consumer
2021-08-17 07:35:32,071 DEBUG org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:2033) queue://testMessagesAreAckedAMQProducer, subscriptions=1, memory=0%, size=3, pending=0 toPageIn: 0, force:false, Inflight: 0, pagedInMessages.size 3, pagedInPendingDispatch.size 0, enqueueCount: 0, dequeueCount: 0, memUsage:3234, maxPageSize:200
2021-08-17 07:35:32,070 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 225, cap: 65536)
2021-08-17 07:35:32,071 TRACE org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:50) Run task done: queue://testMessagesAreAckedAMQProducer, subscriptions=1, memory=0%, size=3, pending=0
2021-08-17 07:35:32,071 TRACE org.apache.activemq.broker.region.PrefetchSubscription.onDispatch(PrefetchSubscription.java:758) ID:7d8ed0b1a3a5-37387-1629213796302-1:608:1:0 dispatched: ID:7d8ed0b1a3a5-37387-1629213796302-135:1:1:1:1 - queue://testMessagesAreAckedAMQProducer, dispatched: 3, inflight: 3
2021-08-17 07:35:32,071 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: DELIVERY
2021-08-17 07:35:32,071 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 1 - Transport Connection to: tcp://172.17.0.2:53664
2021-08-17 07:35:32,071 TRACE org.apache.qpid.jms.provider.amqp.AmqpConsumer.processDeliveryUpdates(AmqpConsumer.java:530) AmqpConsumer { ID:dc9e07d5-e0ed-40b0-ba62-d92b7496fe47:1:1:1 } has incoming Message(s).
2021-08-17 07:35:32,071 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onActiveMQCommand(AmqpConnection.java:656) Dispatching MessageId: ID:7d8ed0b1a3a5-37387-1629213796302-135:1:1:1:2 to consumer
2021-08-17 07:35:32,071 TRACE org.apache.activemq.transport.amqp.protocol.AmqpSender.pumpOutbound(AmqpSender.java:464) Sender:[qpid-jms:receiver:ID:dc9e07d5-e0ed-40b0-ba62-d92b7496fe47:1:1:1:queue://testMessagesAreAckedAMQProducer] msgId=ID:7d8ed0b1a3a5-37387-1629213796302-135:1:1:1:2 draining=false, drain=false, credit=999, remoteCredit=999, queued=0
2021-08-17 07:35:32,071 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 226 bytes out
2021-08-17 07:35:32,071 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onActiveMQCommand(AmqpConnection.java:662) Finished Dispatch of MessageId: ID:7d8ed0b1a3a5-37387-1629213796302-135:1:1:1:2 to consumer
2021-08-17 07:35:32,071 DEBUG org.apache.qpid.jms.provider.amqp.AmqpConsumer.deliver(AmqpConsumer.java:649) Dispatching received message: JmsInboundMessageDispatch { sequence = 1, messageId = ID:7d8ed0b1a3a5-37387-1629213796302-135:1:1:1:1, consumerId = ID:dc9e07d5-e0ed-40b0-ba62-d92b7496fe47:1:1:1 }
2021-08-17 07:35:32,071 TRACE org.apache.activemq.broker.region.PrefetchSubscription.onDispatch(PrefetchSubscription.java:758) ID:7d8ed0b1a3a5-37387-1629213796302-1:608:1:0 dispatched: ID:7d8ed0b1a3a5-37387-1629213796302-135:1:1:1:2 - queue://testMessagesAreAckedAMQProducer, dispatched: 3, inflight: 3
2021-08-17 07:35:32,071 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 226, cap: 65536)
2021-08-17 07:35:32,071 TRACE org.apache.qpid.jms.JmsSession.redeliveryExceeded(JmsSession.java:1376) checking envelope with 0 redeliveries
2021-08-17 07:35:32,071 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: DELIVERY
2021-08-17 07:35:32,072 TRACE org.apache.qpid.jms.provider.amqp.AmqpConsumer.processDeliveryUpdates(AmqpConsumer.java:530) AmqpConsumer { ID:dc9e07d5-e0ed-40b0-ba62-d92b7496fe47:1:1:1 } has incoming Message(s).
2021-08-17 07:35:32,071 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 2 - Transport Connection to: tcp://172.17.0.2:53664
2021-08-17 07:35:32,072 DEBUG org.apache.qpid.jms.provider.amqp.AmqpConsumer.deliver(AmqpConsumer.java:649) Dispatching received message: JmsInboundMessageDispatch { sequence = 2, messageId = ID:7d8ed0b1a3a5-37387-1629213796302-135:1:1:1:2, consumerId = ID:dc9e07d5-e0ed-40b0-ba62-d92b7496fe47:1:1:1 }
2021-08-17 07:35:32,072 TRACE org.apache.qpid.jms.JmsMessageConsumer.dequeue(JmsMessageConsumer.java:366) ID:dc9e07d5-e0ed-40b0-ba62-d92b7496fe47:1:1:1 received message: JmsInboundMessageDispatch { sequence = 1, messageId = ID:7d8ed0b1a3a5-37387-1629213796302-135:1:1:1:1, consumerId = ID:dc9e07d5-e0ed-40b0-ba62-d92b7496fe47:1:1:1 }
2021-08-17 07:35:32,072 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onActiveMQCommand(AmqpConnection.java:656) Dispatching MessageId: ID:7d8ed0b1a3a5-37387-1629213796302-135:1:1:1:3 to consumer
2021-08-17 07:35:32,072 DEBUG org.apache.qpid.jms.provider.amqp.AmqpConsumer.handleAccepted(AmqpConsumer.java:347) Accepted Ack of message: JmsInboundMessageDispatch { sequence = 1, messageId = ID:7d8ed0b1a3a5-37387-1629213796302-135:1:1:1:1, consumerId = ID:dc9e07d5-e0ed-40b0-ba62-d92b7496fe47:1:1:1 }
2021-08-17 07:35:32,072 TRACE org.apache.activemq.transport.amqp.protocol.AmqpSender.pumpOutbound(AmqpSender.java:464) Sender:[qpid-jms:receiver:ID:dc9e07d5-e0ed-40b0-ba62-d92b7496fe47:1:1:1:queue://testMessagesAreAckedAMQProducer] msgId=ID:7d8ed0b1a3a5-37387-1629213796302-135:1:1:1:3 draining=false, drain=false, credit=998, remoteCredit=998, queued=0
2021-08-17 07:35:32,072 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 22, cap: 22/22)
2021-08-17 07:35:32,072 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 226 bytes out
2021-08-17 07:35:32,072 DEBUG org.apache.activemq.transport.amqp.AMQ4563Test.readAllMessages(AMQ4563Test.java:138) >>>> Received [Hello 0 sent at Tue Aug 17 07:35:31 GMT-08:00 2021]
2021-08-17 07:35:32,072 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:32,072 TRACE org.apache.qpid.jms.JmsSession.redeliveryExceeded(JmsSession.java:1376) checking envelope with 0 redeliveries
2021-08-17 07:35:32,072 TRACE org.apache.qpid.jms.JmsMessageConsumer.dequeue(JmsMessageConsumer.java:366) ID:dc9e07d5-e0ed-40b0-ba62-d92b7496fe47:1:1:1 received message: JmsInboundMessageDispatch { sequence = 2, messageId = ID:7d8ed0b1a3a5-37387-1629213796302-135:1:1:1:2, consumerId = ID:dc9e07d5-e0ed-40b0-ba62-d92b7496fe47:1:1:1 }
2021-08-17 07:35:32,072 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onActiveMQCommand(AmqpConnection.java:662) Finished Dispatch of MessageId: ID:7d8ed0b1a3a5-37387-1629213796302-135:1:1:1:3 to consumer
2021-08-17 07:35:32,072 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 226, cap: 65536)
2021-08-17 07:35:32,072 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 22 bytes
2021-08-17 07:35:32,072 TRACE org.apache.activemq.broker.region.PrefetchSubscription.onDispatch(PrefetchSubscription.java:758) ID:7d8ed0b1a3a5-37387-1629213796302-1:608:1:0 dispatched: ID:7d8ed0b1a3a5-37387-1629213796302-135:1:1:1:3 - queue://testMessagesAreAckedAMQProducer, dispatched: 3, inflight: 3
2021-08-17 07:35:32,073 TRACE org.apache.activemq.transport.amqp.protocol.AmqpSender.delivery(AmqpSender.java:273) onDelivery: accepted state = Accepted{}
2021-08-17 07:35:32,072 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: DELIVERY
2021-08-17 07:35:32,073 TRACE org.apache.qpid.jms.provider.amqp.AmqpConsumer.processDeliveryUpdates(AmqpConsumer.java:530) AmqpConsumer { ID:dc9e07d5-e0ed-40b0-ba62-d92b7496fe47:1:1:1 } has incoming Message(s).
2021-08-17 07:35:32,073 TRACE org.apache.activemq.transport.amqp.protocol.AmqpSender.settle(AmqpSender.java:520) Sending Ack to ActiveMQ: MessageAck {commandId = 0, responseRequired = false, ackType = 4, consumerId = ID:7d8ed0b1a3a5-37387-1629213796302-1:608:1:0, firstMessageId = ID:7d8ed0b1a3a5-37387-1629213796302-135:1:1:1:1, lastMessageId = ID:7d8ed0b1a3a5-37387-1629213796302-135:1:1:1:1, destination = queue://testMessagesAreAckedAMQProducer, transactionId = null, messageCount = 1, poisonCause = null}
2021-08-17 07:35:32,073 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 3 - Transport Connection to: tcp://172.17.0.2:53664
2021-08-17 07:35:32,073 TRACE org.apache.activemq.broker.region.PrefetchSubscription.acknowledge(PrefetchSubscription.java:204) ack: MessageAck {commandId = 5, responseRequired = true, ackType = 4, consumerId = ID:7d8ed0b1a3a5-37387-1629213796302-1:608:1:0, firstMessageId = ID:7d8ed0b1a3a5-37387-1629213796302-135:1:1:1:1, lastMessageId = ID:7d8ed0b1a3a5-37387-1629213796302-135:1:1:1:1, destination = queue://testMessagesAreAckedAMQProducer, transactionId = null, messageCount = 1, poisonCause = null}
2021-08-17 07:35:32,073 DEBUG org.apache.qpid.jms.provider.amqp.AmqpConsumer.deliver(AmqpConsumer.java:649) Dispatching received message: JmsInboundMessageDispatch { sequence = 3, messageId = ID:7d8ed0b1a3a5-37387-1629213796302-135:1:1:1:3, consumerId = ID:dc9e07d5-e0ed-40b0-ba62-d92b7496fe47:1:1:1 }
2021-08-17 07:35:32,073 TRACE org.apache.activemq.broker.region.Queue.removeMessage(Queue.java:1853) ack of ID:7d8ed0b1a3a5-37387-1629213796302-135:1:1:1:1 with MessageAck {commandId = 5, responseRequired = true, ackType = 4, consumerId = ID:7d8ed0b1a3a5-37387-1629213796302-1:608:1:0, firstMessageId = ID:7d8ed0b1a3a5-37387-1629213796302-135:1:1:1:1, lastMessageId = ID:7d8ed0b1a3a5-37387-1629213796302-135:1:1:1:1, destination = queue://testMessagesAreAckedAMQProducer, transactionId = null, messageCount = 1, poisonCause = null}
2021-08-17 07:35:32,073 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 0 - Transport Connection to: tcp://172.17.0.2:53664
2021-08-17 07:35:32,073 TRACE org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:50) Run task done: Transport Connection to: tcp://172.17.0.2:53664
2021-08-17 07:35:32,073 TRACE org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:50) Run task done: Transport Connection to: tcp://172.17.0.2:53664
2021-08-17 07:35:32,073 DEBUG org.apache.qpid.jms.provider.amqp.AmqpConsumer.handleAccepted(AmqpConsumer.java:347) Accepted Ack of message: JmsInboundMessageDispatch { sequence = 2, messageId = ID:7d8ed0b1a3a5-37387-1629213796302-135:1:1:1:2, consumerId = ID:dc9e07d5-e0ed-40b0-ba62-d92b7496fe47:1:1:1 }
2021-08-17 07:35:32,073 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 24, cap: 24/24)
2021-08-17 07:35:32,073 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:32,074 DEBUG org.apache.activemq.transport.amqp.AMQ4563Test.readAllMessages(AMQ4563Test.java:138) >>>> Received [Hello 1 sent at Tue Aug 17 07:35:31 GMT-08:00 2021]
2021-08-17 07:35:32,074 TRACE org.apache.qpid.jms.JmsSession.redeliveryExceeded(JmsSession.java:1376) checking envelope with 0 redeliveries
2021-08-17 07:35:32,074 TRACE org.apache.qpid.jms.JmsMessageConsumer.dequeue(JmsMessageConsumer.java:366) ID:dc9e07d5-e0ed-40b0-ba62-d92b7496fe47:1:1:1 received message: JmsInboundMessageDispatch { sequence = 3, messageId = ID:7d8ed0b1a3a5-37387-1629213796302-135:1:1:1:3, consumerId = ID:dc9e07d5-e0ed-40b0-ba62-d92b7496fe47:1:1:1 }
2021-08-17 07:35:32,074 DEBUG org.apache.qpid.jms.provider.amqp.AmqpConsumer.handleAccepted(AmqpConsumer.java:347) Accepted Ack of message: JmsInboundMessageDispatch { sequence = 3, messageId = ID:7d8ed0b1a3a5-37387-1629213796302-135:1:1:1:3, consumerId = ID:dc9e07d5-e0ed-40b0-ba62-d92b7496fe47:1:1:1 }
2021-08-17 07:35:32,074 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 24, cap: 24/24)
2021-08-17 07:35:32,074 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:32,074 DEBUG org.apache.activemq.transport.amqp.AMQ4563Test.readAllMessages(AMQ4563Test.java:138) >>>> Received [Hello 2 sent at Tue Aug 17 07:35:31 GMT-08:00 2021]
2021-08-17 07:35:32,077 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 0 - queue://testMessagesAreAckedAMQProducer, subscriptions=1, memory=0%, size=2, pending=0
2021-08-17 07:35:32,077 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 24 bytes
2021-08-17 07:35:32,077 DEBUG org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:2033) queue://testMessagesAreAckedAMQProducer, subscriptions=1, memory=0%, size=2, pending=0 toPageIn: 0, force:false, Inflight: 2, pagedInMessages.size 2, pagedInPendingDispatch.size 0, enqueueCount: 0, dequeueCount: 1, memUsage:2156, maxPageSize:200
2021-08-17 07:35:32,077 TRACE org.apache.activemq.transport.amqp.protocol.AmqpSender.delivery(AmqpSender.java:273) onDelivery: accepted state = Accepted{}
2021-08-17 07:35:32,077 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 1 - queue://testMessagesAreAckedAMQProducer, subscriptions=1, memory=0%, size=2, pending=0
2021-08-17 07:35:32,077 TRACE org.apache.activemq.transport.amqp.protocol.AmqpSender.settle(AmqpSender.java:520) Sending Ack to ActiveMQ: MessageAck {commandId = 0, responseRequired = false, ackType = 4, consumerId = ID:7d8ed0b1a3a5-37387-1629213796302-1:608:1:0, firstMessageId = ID:7d8ed0b1a3a5-37387-1629213796302-135:1:1:1:2, lastMessageId = ID:7d8ed0b1a3a5-37387-1629213796302-135:1:1:1:2, destination = queue://testMessagesAreAckedAMQProducer, transactionId = null, messageCount = 1, poisonCause = null}
2021-08-17 07:35:32,077 DEBUG org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:2033) queue://testMessagesAreAckedAMQProducer, subscriptions=1, memory=0%, size=2, pending=0 toPageIn: 0, force:false, Inflight: 2, pagedInMessages.size 2, pagedInPendingDispatch.size 0, enqueueCount: 0, dequeueCount: 1, memUsage:2156, maxPageSize:200
2021-08-17 07:35:32,077 TRACE org.apache.activemq.broker.region.PrefetchSubscription.acknowledge(PrefetchSubscription.java:204) ack: MessageAck {commandId = 6, responseRequired = true, ackType = 4, consumerId = ID:7d8ed0b1a3a5-37387-1629213796302-1:608:1:0, firstMessageId = ID:7d8ed0b1a3a5-37387-1629213796302-135:1:1:1:2, lastMessageId = ID:7d8ed0b1a3a5-37387-1629213796302-135:1:1:1:2, destination = queue://testMessagesAreAckedAMQProducer, transactionId = null, messageCount = 1, poisonCause = null}
2021-08-17 07:35:32,078 TRACE org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:50) Run task done: queue://testMessagesAreAckedAMQProducer, subscriptions=1, memory=0%, size=2, pending=0
2021-08-17 07:35:32,078 TRACE org.apache.activemq.broker.region.Queue.removeMessage(Queue.java:1853) ack of ID:7d8ed0b1a3a5-37387-1629213796302-135:1:1:1:2 with MessageAck {commandId = 6, responseRequired = true, ackType = 4, consumerId = ID:7d8ed0b1a3a5-37387-1629213796302-1:608:1:0, firstMessageId = ID:7d8ed0b1a3a5-37387-1629213796302-135:1:1:1:2, lastMessageId = ID:7d8ed0b1a3a5-37387-1629213796302-135:1:1:1:2, destination = queue://testMessagesAreAckedAMQProducer, transactionId = null, messageCount = 1, poisonCause = null}
2021-08-17 07:35:32,082 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 0 - queue://testMessagesAreAckedAMQProducer, subscriptions=1, memory=0%, size=1, pending=0
2021-08-17 07:35:32,082 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 24 bytes
2021-08-17 07:35:32,082 DEBUG org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:2033) queue://testMessagesAreAckedAMQProducer, subscriptions=1, memory=0%, size=1, pending=0 toPageIn: 0, force:false, Inflight: 1, pagedInMessages.size 1, pagedInPendingDispatch.size 0, enqueueCount: 0, dequeueCount: 2, memUsage:1078, maxPageSize:200
2021-08-17 07:35:32,082 TRACE org.apache.activemq.transport.amqp.protocol.AmqpSender.delivery(AmqpSender.java:273) onDelivery: accepted state = Accepted{}
2021-08-17 07:35:32,082 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 1 - queue://testMessagesAreAckedAMQProducer, subscriptions=1, memory=0%, size=1, pending=0
2021-08-17 07:35:32,083 TRACE org.apache.activemq.transport.amqp.protocol.AmqpSender.settle(AmqpSender.java:520) Sending Ack to ActiveMQ: MessageAck {commandId = 0, responseRequired = false, ackType = 4, consumerId = ID:7d8ed0b1a3a5-37387-1629213796302-1:608:1:0, firstMessageId = ID:7d8ed0b1a3a5-37387-1629213796302-135:1:1:1:3, lastMessageId = ID:7d8ed0b1a3a5-37387-1629213796302-135:1:1:1:3, destination = queue://testMessagesAreAckedAMQProducer, transactionId = null, messageCount = 1, poisonCause = null}
2021-08-17 07:35:32,083 DEBUG org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:2033) queue://testMessagesAreAckedAMQProducer, subscriptions=1, memory=0%, size=1, pending=0 toPageIn: 0, force:false, Inflight: 1, pagedInMessages.size 1, pagedInPendingDispatch.size 0, enqueueCount: 0, dequeueCount: 2, memUsage:1078, maxPageSize:200
2021-08-17 07:35:32,083 TRACE org.apache.activemq.broker.region.PrefetchSubscription.acknowledge(PrefetchSubscription.java:204) ack: MessageAck {commandId = 7, responseRequired = true, ackType = 4, consumerId = ID:7d8ed0b1a3a5-37387-1629213796302-1:608:1:0, firstMessageId = ID:7d8ed0b1a3a5-37387-1629213796302-135:1:1:1:3, lastMessageId = ID:7d8ed0b1a3a5-37387-1629213796302-135:1:1:1:3, destination = queue://testMessagesAreAckedAMQProducer, transactionId = null, messageCount = 1, poisonCause = null}
2021-08-17 07:35:32,083 TRACE org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:50) Run task done: queue://testMessagesAreAckedAMQProducer, subscriptions=1, memory=0%, size=1, pending=0
2021-08-17 07:35:32,083 TRACE org.apache.activemq.broker.region.Queue.removeMessage(Queue.java:1853) ack of ID:7d8ed0b1a3a5-37387-1629213796302-135:1:1:1:3 with MessageAck {commandId = 7, responseRequired = true, ackType = 4, consumerId = ID:7d8ed0b1a3a5-37387-1629213796302-1:608:1:0, firstMessageId = ID:7d8ed0b1a3a5-37387-1629213796302-135:1:1:1:3, lastMessageId = ID:7d8ed0b1a3a5-37387-1629213796302-135:1:1:1:3, destination = queue://testMessagesAreAckedAMQProducer, transactionId = null, messageCount = 1, poisonCause = null}
2021-08-17 07:35:32,088 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 0 - queue://testMessagesAreAckedAMQProducer, subscriptions=1, memory=0%, size=0, pending=0
2021-08-17 07:35:32,088 DEBUG org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:2033) queue://testMessagesAreAckedAMQProducer, subscriptions=1, memory=0%, size=0, pending=0 toPageIn: 0, force:false, Inflight: 0, pagedInMessages.size 0, pagedInPendingDispatch.size 0, enqueueCount: 0, dequeueCount: 3, memUsage:0, maxPageSize:200
2021-08-17 07:35:32,088 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 1 - queue://testMessagesAreAckedAMQProducer, subscriptions=1, memory=0%, size=0, pending=0
2021-08-17 07:35:32,088 DEBUG org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:2033) queue://testMessagesAreAckedAMQProducer, subscriptions=1, memory=0%, size=0, pending=0 toPageIn: 0, force:false, Inflight: 0, pagedInMessages.size 0, pagedInPendingDispatch.size 0, enqueueCount: 0, dequeueCount: 3, memUsage:0, maxPageSize:200
2021-08-17 07:35:32,088 TRACE org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:50) Run task done: queue://testMessagesAreAckedAMQProducer, subscriptions=1, memory=0%, size=0, pending=0
2021-08-17 07:35:32,460 DEBUG org.apache.activemq.transport.amqp.client.AmqpConnection$7.run(AmqpConnection.java:464) Client performing next idle check
2021-08-17 07:35:32,576 DEBUG org.apache.activemq.transport.amqp.client.AmqpConnection$7.run(AmqpConnection.java:464) Client performing next idle check
2021-08-17 07:35:32,609 DEBUG org.apache.activemq.transport.amqp.client.AmqpConnection$7.run(AmqpConnection.java:464) Client performing next idle check
2021-08-17 07:35:33,074 TRACE org.apache.qpid.jms.provider.amqp.AmqpConsumer.pull(AmqpConsumer.java:485) Pull on consumer ID:dc9e07d5-e0ed-40b0-ba62-d92b7496fe47:1:1:1 with timeout = 0
2021-08-17 07:35:33,074 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 38, cap: 38/38)
2021-08-17 07:35:33,074 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:33,075 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 38 bytes
2021-08-17 07:35:33,075 TRACE org.apache.activemq.transport.amqp.protocol.AmqpSender.flow(AmqpSender.java:181) Flow: draining=false, drain=true credit=997, currentCredit=1000, senderDeliveryCount=3 - Sub=QueueSubscription: consumer=ID:7d8ed0b1a3a5-37387-1629213796302-1:608:1:0, destinations=1, dispatched=0, delivered=997, pending=0, prefetch=0, prefetchExtension=997
2021-08-17 07:35:33,075 TRACE org.apache.activemq.transport.amqp.protocol.AmqpSender.flow(AmqpSender.java:202) Pull case -> consumer pull request quantity = 997
2021-08-17 07:35:33,075 DEBUG org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:2033) queue://testMessagesAreAckedAMQProducer, subscriptions=1, memory=0%, size=0, pending=0 toPageIn: 0, force:false, Inflight: 0, pagedInMessages.size 0, pagedInPendingDispatch.size 0, enqueueCount: 0, dequeueCount: 3, memUsage:0, maxPageSize:200
2021-08-17 07:35:33,075 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 0 - Transport Connection to: tcp://172.17.0.2:53664
2021-08-17 07:35:33,075 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onActiveMQCommand(AmqpConnection.java:658) Dispatching End of Browse Command to consumer ID:7d8ed0b1a3a5-37387-1629213796302-1:608:1:0
2021-08-17 07:35:33,075 TRACE org.apache.activemq.transport.amqp.protocol.AmqpSender.pumpOutbound(AmqpSender.java:456) Sender:[qpid-jms:receiver:ID:dc9e07d5-e0ed-40b0-ba62-d92b7496fe47:1:1:1:queue://testMessagesAreAckedAMQProducer] browse done.
2021-08-17 07:35:33,075 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 37 bytes out
2021-08-17 07:35:33,075 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 1 - Transport Connection to: tcp://172.17.0.2:53664
2021-08-17 07:35:33,075 TRACE org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:50) Run task done: Transport Connection to: tcp://172.17.0.2:53664
2021-08-17 07:35:33,075 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 37, cap: 65536)
2021-08-17 07:35:33,075 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: LINK_FLOW
2021-08-17 07:35:33,076 TRACE org.apache.qpid.jms.provider.amqp.AmqpConsumer.processFlowUpdates(AmqpConsumer.java:231) Consumer ID:dc9e07d5-e0ed-40b0-ba62-d92b7496fe47:1:1:1 flow updated, remote credit = 0
2021-08-17 07:35:33,076 TRACE org.apache.qpid.jms.provider.amqp.AmqpConsumer.sendFlowIfNeeded(AmqpConsumer.java:406) Consumer ID:dc9e07d5-e0ed-40b0-ba62-d92b7496fe47:1:1:1 granting additional credit: 1000
2021-08-17 07:35:33,076 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 39, cap: 39/39)
2021-08-17 07:35:33,076 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:33,076 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 39 bytes
2021-08-17 07:35:33,076 TRACE org.apache.qpid.jms.provider.amqp.AmqpAbstractResource.close(AmqpAbstractResource.java:108) AmqpConsumer { ID:dc9e07d5-e0ed-40b0-ba62-d92b7496fe47:1:1:1 } requesting close on remote.
2021-08-17 07:35:33,076 TRACE org.apache.activemq.transport.amqp.protocol.AmqpSender.flow(AmqpSender.java:181) Flow: draining=false, drain=false credit=1000, currentCredit=0, senderDeliveryCount=0 - Sub=QueueSubscription: consumer=ID:7d8ed0b1a3a5-37387-1629213796302-1:608:1:0, destinations=1, dispatched=0, delivered=0, pending=0, prefetch=0, prefetchExtension=0
2021-08-17 07:35:33,076 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 16, cap: 16/16)
2021-08-17 07:35:33,076 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 0 - queue://testMessagesAreAckedAMQProducer, subscriptions=1, memory=0%, size=0, pending=0
2021-08-17 07:35:33,076 TRACE org.apache.activemq.transport.amqp.protocol.AmqpSender.flow(AmqpSender.java:238) Flow: credit addition of 1000 for sub QueueSubscription: consumer=ID:7d8ed0b1a3a5-37387-1629213796302-1:608:1:0, destinations=1, dispatched=0, delivered=1000, pending=0, prefetch=0, prefetchExtension=1000
2021-08-17 07:35:33,076 DEBUG org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:2033) queue://testMessagesAreAckedAMQProducer, subscriptions=1, memory=0%, size=0, pending=0 toPageIn: 0, force:false, Inflight: 0, pagedInMessages.size 0, pagedInPendingDispatch.size 0, enqueueCount: 0, dequeueCount: 3, memUsage:0, maxPageSize:200
2021-08-17 07:35:33,076 TRACE org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:50) Run task done: queue://testMessagesAreAckedAMQProducer, subscriptions=1, memory=0%, size=0, pending=0
2021-08-17 07:35:33,076 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:33,076 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 16 bytes
2021-08-17 07:35:33,076 DEBUG org.apache.activemq.broker.jmx.ManagementContext.unregisterMBean(ManagementContext.java:451) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,destinationType=Queue,destinationName=testMessagesAreAckedAMQProducer,endpoint=Consumer,clientId=ID_0a0c775c-a0ec-4ccf-a20d-97f96307a6da_1,consumerId=ID_7d8ed0b1a3a5-37387-1629213796302-1_608_1_0
2021-08-17 07:35:33,077 DEBUG org.apache.activemq.broker.region.AbstractRegion.removeConsumer(AbstractRegion.java:465) localhost removing consumer: ID:7d8ed0b1a3a5-37387-1629213796302-1:608:1:0 for destination: queue://testMessagesAreAckedAMQProducer
2021-08-17 07:35:33,077 DEBUG org.apache.activemq.broker.region.Queue.removeSubscription(Queue.java:502) queue://testMessagesAreAckedAMQProducer remove sub: QueueSubscription: consumer=ID:7d8ed0b1a3a5-37387-1629213796302-1:608:1:0, destinations=1, dispatched=0, delivered=1000, pending=0, prefetch=0, prefetchExtension=1000, lastDeliveredSeqId: 3, dequeues: 3, dispatched: 3, inflight: 0, groups: 0
2021-08-17 07:35:33,077 TRACE org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:132) Running task iteration 0 - queue://testMessagesAreAckedAMQProducer, subscriptions=0, memory=0%, size=0, pending=0
2021-08-17 07:35:33,077 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 16 bytes out
2021-08-17 07:35:33,077 DEBUG org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:2033) queue://testMessagesAreAckedAMQProducer, subscriptions=0, memory=0%, size=0, pending=0 toPageIn: 0, force:false, Inflight: 0, pagedInMessages.size 0, pagedInPendingDispatch.size 0, enqueueCount: 0, dequeueCount: 3, memUsage:0, maxPageSize:200
2021-08-17 07:35:33,077 TRACE org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:50) Run task done: queue://testMessagesAreAckedAMQProducer, subscriptions=0, memory=0%, size=0, pending=0
2021-08-17 07:35:33,077 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 16, cap: 65536)
2021-08-17 07:35:33,077 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: LINK_LOCAL_CLOSE
2021-08-17 07:35:33,077 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: LINK_REMOTE_CLOSE
2021-08-17 07:35:33,077 DEBUG org.apache.qpid.jms.provider.amqp.AmqpAbstractResource.closeResource(AmqpAbstractResource.java:175) AmqpConsumer { ID:dc9e07d5-e0ed-40b0-ba62-d92b7496fe47:1:1:1 } is now closed: 
2021-08-17 07:35:33,078 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: LINK_FINAL
2021-08-17 07:35:33,078 TRACE org.apache.qpid.jms.provider.amqp.AmqpAbstractResource.close(AmqpAbstractResource.java:108) AmqpConnection { ID:dc9e07d5-e0ed-40b0-ba62-d92b7496fe47:1 } requesting close on remote.
2021-08-17 07:35:33,078 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.write(NettyTcpTransport.java:259) Attempted write of buffer: PooledUnsafeDirectByteBuf(ridx: 0, widx: 12, cap: 12/12)
2021-08-17 07:35:33,078 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.flush(NettyTcpTransport.java:273) Attempted flush of pending writes
2021-08-17 07:35:33,078 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.onAMQPData(AmqpConnection.java:372) Server: Received from client: 12 bytes
2021-08-17 07:35:33,078 DEBUG org.apache.activemq.broker.TransportConnection.processRemoveConnection(TransportConnection.java:876) remove connection id: ID:7d8ed0b1a3a5-37387-1629213796302-1:608
2021-08-17 07:35:33,078 TRACE org.apache.activemq.transport.amqp.protocol.AmqpConnection.pumpProtonToSocket(AmqpConnection.java:324) Server: Sending 12 bytes out
2021-08-17 07:35:33,079 TRACE org.apache.activemq.thread.TaskRunnerFactory.execute(TaskRunnerFactory.java:170) Execute[ActiveMQ BrokerService[localhost] Task] runnable: org.apache.activemq.broker.TransportConnection$4@3c06d148
2021-08-17 07:35:33,079 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport$NettyTcpTransportHandler.channelRead0(NettyTcpTransport.java:560) New incoming data read: PooledUnsafeDirectByteBuf(ridx: 0, widx: 12, cap: 65536)
2021-08-17 07:35:33,079 DEBUG org.apache.activemq.broker.jmx.ManagementContext.unregisterMBean(ManagementContext.java:451) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,connector=clientConnectors,connectorName=amqp_//7d8ed0b1a3a5_39699&qe;transport.tcpNoDelay&amp;true&transport.transformer&amp;jms,connectionViewType=clientId,connectionName=ID_0a0c775c-a0ec-4ccf-a20d-97f96307a6da_1
2021-08-17 07:35:33,079 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: CONNECTION_LOCAL_CLOSE
2021-08-17 07:35:33,079 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: TRANSPORT_HEAD_CLOSED
2021-08-17 07:35:33,079 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: CONNECTION_REMOTE_CLOSE
2021-08-17 07:35:33,079 DEBUG org.apache.activemq.broker.jmx.ManagementContext.unregisterMBean(ManagementContext.java:451) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,connector=clientConnectors,connectorName=amqp_//7d8ed0b1a3a5_39699&qe;transport.tcpNoDelay&amp;true&transport.transformer&amp;jms,connectionViewType=remoteAddress,connectionName=tcp_//172.17.0.2_53664
2021-08-17 07:35:33,079 DEBUG org.apache.qpid.jms.provider.amqp.AmqpAbstractResource.closeResource(AmqpAbstractResource.java:175) AmqpConnection { ID:dc9e07d5-e0ed-40b0-ba62-d92b7496fe47:1 } is now closed: 
2021-08-17 07:35:33,079 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: TRANSPORT_TAIL_CLOSED
2021-08-17 07:35:33,079 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.processUpdates(AmqpProvider.java:953) New Proton Event: TRANSPORT_CLOSED
2021-08-17 07:35:33,079 DEBUG org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1183) Stopping connection: tcp://172.17.0.2:53664
2021-08-17 07:35:33,079 TRACE org.apache.qpid.jms.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:127) Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@6dcb9ba2[Running, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 1] with await termination: 0 millis
2021-08-17 07:35:33,080 DEBUG org.apache.qpid.jms.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:156) Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@6dcb9ba2[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 1] is shutdown: true and terminated: false took: 0.001 seconds.
2021-08-17 07:35:33,079 DEBUG org.apache.activemq.transport.tcp.TcpTransport.doStop(TcpTransport.java:549) Stopping transport tcp:///172.17.0.2:53664@39699
2021-08-17 07:35:33,080 TRACE org.apache.qpid.jms.provider.amqp.AmqpProvider.lambda$close$3(AmqpProvider.java:374) Cancelling scheduled IdleTimeoutCheck
2021-08-17 07:35:33,080 DEBUG org.apache.activemq.thread.TaskRunnerFactory.init(TaskRunnerFactory.java:98) Initialized TaskRunnerFactory[ActiveMQ Task] using ExecutorService: java.util.concurrent.ThreadPoolExecutor@674a7bc6[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
2021-08-17 07:35:33,080 TRACE org.apache.activemq.thread.TaskRunnerFactory.execute(TaskRunnerFactory.java:170) Execute[ActiveMQ Task] runnable: org.apache.activemq.transport.tcp.TcpTransport$1@698d895f
2021-08-17 07:35:33,080 TRACE org.apache.qpid.jms.transports.netty.NettyTcpTransport.handleChannelInactive(NettyTcpTransport.java:367) Channel has gone inactive! Channel is [id: 0x75258280, L:/172.17.0.2:53664 ! R:7d8ed0b1a3a5/172.17.0.2:39699]
2021-08-17 07:35:33,080 TRACE org.apache.activemq.thread.TaskRunnerFactory$1.newThread(TaskRunnerFactory.java:206) Created thread[ActiveMQ Task-1]: Thread[ActiveMQ Task-1,5,main]
2021-08-17 07:35:33,080 DEBUG io.netty.buffer.PoolThreadCache.free(PoolThreadCache.java:224) Freed 4 thread-local buffer(s) from thread: AmqpProvider :(309):[amqp://7d8ed0b1a3a5:39699]
2021-08-17 07:35:33,080 TRACE org.apache.activemq.transport.tcp.TcpTransport$1.run(TcpTransport.java:565) Closing socket Socket[addr=/172.17.0.2,port=53664,localport=39699]
2021-08-17 07:35:33,080 DEBUG org.apache.activemq.transport.amqp.AmqpTestSupport.stopBroker(AmqpTestSupport.java:262) entering AmqpTestSupport.stopBroker
2021-08-17 07:35:33,081 DEBUG org.apache.activemq.transport.tcp.TcpTransport$1.run(TcpTransport.java:568) Closed socket Socket[addr=/172.17.0.2,port=53664,localport=39699]
2021-08-17 07:35:33,081 INFO  org.apache.activemq.broker.BrokerService.stop(BrokerService.java:816) Apache ActiveMQ 5.17.0-SNAPSHOT (localhost, ID:7d8ed0b1a3a5-37387-1629213796302-0:513) is shutting down
2021-08-17 07:35:33,081 DEBUG org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:54) Forcing shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@674a7bc6[Running, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 1]
2021-08-17 07:35:33,081 DEBUG org.apache.activemq.broker.jmx.ManagementContext.unregisterMBean(ManagementContext.java:451) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,connector=clientConnectors,connectorName=tcp_//7d8ed0b1a3a5_39661
2021-08-17 07:35:33,081 TRACE org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:57) Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@674a7bc6[Shutting down, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 1] is shutdown: true and terminated: false.
2021-08-17 07:35:33,081 DEBUG org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1196) Stopped transport: tcp://172.17.0.2:53664
2021-08-17 07:35:33,081 TRACE org.apache.activemq.thread.PooledTaskRunner.shutdown(PooledTaskRunner.java:95) Shutdown timeout: 1 task: Transport Connection to: tcp://172.17.0.2:53664
2021-08-17 07:35:33,081 DEBUG org.apache.activemq.broker.TransportConnection.doStop(TransportConnection.java:1237) Connection Stopped: tcp://172.17.0.2:53664
2021-08-17 07:35:33,081 INFO  org.apache.activemq.broker.TransportConnector.stop(TransportConnector.java:311) Connector tcp://7d8ed0b1a3a5:39661 stopped
2021-08-17 07:35:33,081 DEBUG org.apache.activemq.broker.jmx.ManagementContext.unregisterMBean(ManagementContext.java:451) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,connector=clientConnectors,connectorName=amqp_//7d8ed0b1a3a5_39699&qe;transport.tcpNoDelay&amp;true&transport.transformer&amp;jms
2021-08-17 07:35:33,081 INFO  org.apache.activemq.broker.TransportConnector.stop(TransportConnector.java:311) Connector amqp://7d8ed0b1a3a5:39699?transport.tcpNoDelay=true&transport.transformer=jms stopped
2021-08-17 07:35:33,081 TRACE org.apache.activemq.thread.PooledTaskRunner.shutdown(PooledTaskRunner.java:95) Shutdown timeout: 0 task: queue://testMessagesAreAckedAMQProducer, subscriptions=0, memory=0%, size=0, pending=0
2021-08-17 07:35:33,082 DEBUG org.apache.activemq.broker.jmx.ManagementContext.unregisterMBean(ManagementContext.java:451) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,destinationType=Queue,destinationName=testMessagesAreAckedAMQProducer
2021-08-17 07:35:33,082 INFO  org.apache.activemq.store.kahadb.plist.PListStoreImpl.doStop(PListStoreImpl.java:396) PListStore:[/data/activemq/activemq-main-log-adjust/activemq-amqp/activemq-data/localhost/tmp_storage] stopped
2021-08-17 07:35:33,082 INFO  org.apache.activemq.store.kahadb.KahaDBStore.doStop(KahaDBStore.java:268) Stopping async queue tasks
2021-08-17 07:35:33,082 INFO  org.apache.activemq.store.kahadb.KahaDBStore.doStop(KahaDBStore.java:282) Stopping async topic tasks
2021-08-17 07:35:33,082 DEBUG org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:54) Forcing shutdown of ExecutorService: org.apache.activemq.store.kahadb.KahaDBStore$StoreTaskExecutor@35680c47[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
2021-08-17 07:35:33,082 TRACE org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:57) Shutdown of ExecutorService: org.apache.activemq.store.kahadb.KahaDBStore$StoreTaskExecutor@35680c47[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true.
2021-08-17 07:35:33,082 DEBUG org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:54) Forcing shutdown of ExecutorService: org.apache.activemq.store.kahadb.KahaDBStore$StoreTaskExecutor@44f97c3[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
2021-08-17 07:35:33,082 TRACE org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:57) Shutdown of ExecutorService: org.apache.activemq.store.kahadb.KahaDBStore$StoreTaskExecutor@44f97c3[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true.
2021-08-17 07:35:33,082 INFO  org.apache.activemq.store.kahadb.KahaDBStore.doStop(KahaDBStore.java:310) Stopped KahaDB
2021-08-17 07:35:33,082 DEBUG org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1809) Checkpoint started.
2021-08-17 07:35:33,120 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1831) Last update: 1:3213, full gc candidates set: [1]
2021-08-17 07:35:33,120 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1855) gc candidates after producerSequenceIdTrackerLocation:1:3615, []
2021-08-17 07:35:33,120 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1863) gc candidates after ackMessageFileMapLocation:1:4389, []
2021-08-17 07:35:33,120 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1874) gc candidates after in progress tx range:[null, null], []
2021-08-17 07:35:33,120 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1977) gc candidates: []
2021-08-17 07:35:33,121 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1978) ackMessageFileMap: {1=[1]}
2021-08-17 07:35:33,121 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:2044) Not yet time to check for compaction: 1 of 10 cycles
2021-08-17 07:35:33,121 DEBUG org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:2053) Checkpoint done.
2021-08-17 07:35:33,214 TRACE org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:111) Shutdown of ExecutorService: java.util.concurrent.ScheduledThreadPoolExecutor@58294d00[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 0] with await termination: 4000 millis
2021-08-17 07:35:33,214 DEBUG org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:155) Shutdown of ExecutorService: java.util.concurrent.ScheduledThreadPoolExecutor@58294d00[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true took: 0.000 seconds.
2021-08-17 07:35:33,214 TRACE org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:111) Shutdown of ExecutorService: java.util.concurrent.Executors$DelegatedScheduledExecutorService@53f26a6f with await termination: -1 millis
2021-08-17 07:35:33,215 DEBUG org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:155) Shutdown of ExecutorService: java.util.concurrent.Executors$DelegatedScheduledExecutorService@53f26a6f is shutdown: true and terminated: true took: 0.001 seconds.
2021-08-17 07:35:33,215 DEBUG org.apache.activemq.broker.jmx.ManagementContext.stop(ManagementContext.java:205) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost
2021-08-17 07:35:33,215 DEBUG org.apache.activemq.broker.jmx.ManagementContext.stop(ManagementContext.java:205) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,service=Health
2021-08-17 07:35:33,215 DEBUG org.apache.activemq.broker.jmx.ManagementContext.stop(ManagementContext.java:205) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,service=Log4JConfiguration
2021-08-17 07:35:33,215 TRACE org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:111) Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@445d7862[Running, pool size = 3, active threads = 0, queued tasks = 0, completed tasks = 13] with await termination: 0 millis
2021-08-17 07:35:33,215 DEBUG org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:155) Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@445d7862[Shutting down, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 13] is shutdown: true and terminated: false took: 0.000 seconds.
2021-08-17 07:35:33,215 DEBUG org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:54) Forcing shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@6a22baad[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
2021-08-17 07:35:33,215 TRACE org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:57) Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@6a22baad[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true.
2021-08-17 07:35:33,215 INFO  org.apache.activemq.broker.BrokerService.stop(BrokerService.java:876) Apache ActiveMQ 5.17.0-SNAPSHOT (localhost, ID:7d8ed0b1a3a5-37387-1629213796302-0:513) uptime 1.229 seconds
2021-08-17 07:35:33,215 INFO  org.apache.activemq.broker.BrokerService.stop(BrokerService.java:878) Apache ActiveMQ 5.17.0-SNAPSHOT (localhost, ID:7d8ed0b1a3a5-37387-1629213796302-0:513) is shutdown
2021-08-17 07:35:33,215 DEBUG org.apache.activemq.transport.amqp.AmqpTestSupport.stopBroker(AmqpTestSupport.java:268) exiting AmqpTestSupport.stopBroker
2021-08-17 07:35:33,216 DEBUG org.apache.activemq.transport.amqp.AmqpTestSupport.addTranportConnectors(AmqpTestSupport.java:133) Using openwire port 39661
2021-08-17 07:35:33,217 DEBUG org.apache.activemq.transport.amqp.AmqpTestSupport.addTranportConnectors(AmqpTestSupport.java:139) Using amqp port 39699
2021-08-17 07:35:33,217 WARN  org.apache.activemq.broker.BrokerService.checkMemorySystemUsageLimits(BrokerService.java:2159) Memory Usage for the Broker (1024mb) is more than the maximum available for the JVM: 470 mb - resetting to 70% of maximum available: 329
2021-08-17 07:35:33,217 INFO  org.apache.activemq.broker.BrokerService.doStartPersistenceAdapter(BrokerService.java:669) Using Persistence Adapter: KahaDB:[/data/activemq/activemq-main-log-adjust/activemq-amqp/target/activemq-data/testMessagesAreAckedAMQProducer]
2021-08-17 07:35:33,217 DEBUG org.apache.activemq.store.kahadb.KahaDBStore.configureMetadata(KahaDBStore.java:211) Store OpenWire version configured as: 11
2021-08-17 07:35:33,222 TRACE org.apache.activemq.store.kahadb.disk.journal.Journal.start(Journal.java:360) Startup took: 4 ms
2021-08-17 07:35:33,271 INFO  org.apache.activemq.store.kahadb.MessageDatabase$Metadata.read(MessageDatabase.java:194) KahaDB is version 7
2021-08-17 07:35:33,271 DEBUG org.apache.activemq.store.kahadb.disk.index.BTreeIndex.load(BTreeIndex.java:151) loading
2021-08-17 07:35:33,272 DEBUG org.apache.activemq.store.kahadb.disk.index.BTreeIndex.load(BTreeIndex.java:151) loading
2021-08-17 07:35:33,272 DEBUG org.apache.activemq.store.kahadb.disk.index.BTreeIndex.load(BTreeIndex.java:151) loading
2021-08-17 07:35:33,272 DEBUG org.apache.activemq.store.kahadb.disk.index.BTreeIndex.load(BTreeIndex.java:151) loading
2021-08-17 07:35:33,272 DEBUG org.apache.activemq.store.kahadb.disk.index.BTreeIndex.load(BTreeIndex.java:151) loading
2021-08-17 07:35:33,272 DEBUG org.apache.activemq.store.kahadb.disk.index.BTreeIndex.load(BTreeIndex.java:151) loading
2021-08-17 07:35:33,273 INFO  org.apache.activemq.store.kahadb.plist.PListStoreImpl.doStart(PListStoreImpl.java:371) PListStore:[/data/activemq/activemq-main-log-adjust/activemq-amqp/activemq-data/localhost/tmp_storage] started
2021-08-17 07:35:33,274 INFO  org.apache.activemq.broker.BrokerService.doStartBroker(BrokerService.java:732) Apache ActiveMQ 5.17.0-SNAPSHOT (localhost, ID:7d8ed0b1a3a5-37387-1629213796302-0:514) is starting
2021-08-17 07:35:33,274 DEBUG org.apache.activemq.broker.region.AbstractRegion.addDestination(AbstractRegion.java:154) localhost adding destination: queue://testMessagesAreAckedAMQProducer
2021-08-17 07:35:33,274 DEBUG org.apache.activemq.thread.TaskRunnerFactory.init(TaskRunnerFactory.java:98) Initialized TaskRunnerFactory[ActiveMQ BrokerService[localhost] Task] using ExecutorService: java.util.concurrent.ThreadPoolExecutor@464b7667[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
2021-08-17 07:35:33,275 DEBUG org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:2033) queue://testMessagesAreAckedAMQProducer, subscriptions=0, memory=0%, size=0, pending=0 toPageIn: 0, force:false, Inflight: 0, pagedInMessages.size 0, pagedInPendingDispatch.size 0, enqueueCount: 0, dequeueCount: 0, memUsage:0, maxPageSize:200
2021-08-17 07:35:33,275 DEBUG org.apache.activemq.broker.TransportConnector.getPublishableConnectString(TransportConnector.java:285) Publishing: tcp://7d8ed0b1a3a5:39661 for broker transport URI: tcp://7d8ed0b1a3a5:39661
2021-08-17 07:35:33,275 DEBUG org.apache.activemq.broker.TransportConnector.getPublishableConnectString(TransportConnector.java:285) Publishing: amqp://7d8ed0b1a3a5:39699 for broker transport URI: amqp://7d8ed0b1a3a5:39699?transport.tcpNoDelay=true&transport.transformer=jms
2021-08-17 07:35:33,276 INFO  org.apache.activemq.transport.TransportServerThreadSupport.doStart(TransportServerThreadSupport.java:69) Listening for connections at: tcp://7d8ed0b1a3a5:39661
2021-08-17 07:35:33,276 INFO  org.apache.activemq.broker.TransportConnector.start(TransportConnector.java:266) Connector tcp://7d8ed0b1a3a5:39661 started
2021-08-17 07:35:33,276 INFO  org.apache.activemq.transport.TransportServerThreadSupport.doStart(TransportServerThreadSupport.java:69) Listening for connections at: amqp://7d8ed0b1a3a5:39699?transport.tcpNoDelay=true&transport.transformer=jms
2021-08-17 07:35:33,276 INFO  org.apache.activemq.broker.TransportConnector.start(TransportConnector.java:266) Connector amqp://7d8ed0b1a3a5:39699?transport.tcpNoDelay=true&transport.transformer=jms started
2021-08-17 07:35:33,276 INFO  org.apache.activemq.broker.BrokerService.doStartBroker(BrokerService.java:759) Apache ActiveMQ 5.17.0-SNAPSHOT (localhost, ID:7d8ed0b1a3a5-37387-1629213796302-0:514) started
2021-08-17 07:35:33,276 INFO  org.apache.activemq.broker.BrokerService.doStartBroker(BrokerService.java:760) For help or more information please see: http://activemq.apache.org
2021-08-17 07:35:33,277 DEBUG org.apache.activemq.transport.amqp.AmqpTestSupport.stopBroker(AmqpTestSupport.java:262) entering AmqpTestSupport.stopBroker
2021-08-17 07:35:33,277 INFO  org.apache.activemq.broker.BrokerService.stop(BrokerService.java:816) Apache ActiveMQ 5.17.0-SNAPSHOT (localhost, ID:7d8ed0b1a3a5-37387-1629213796302-0:514) is shutting down
2021-08-17 07:35:33,277 DEBUG org.apache.activemq.broker.jmx.ManagementContext.unregisterMBean(ManagementContext.java:451) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,connector=clientConnectors,connectorName=tcp_//7d8ed0b1a3a5_39661
2021-08-17 07:35:33,277 INFO  org.apache.activemq.broker.TransportConnector.stop(TransportConnector.java:311) Connector tcp://7d8ed0b1a3a5:39661 stopped
2021-08-17 07:35:33,278 DEBUG org.apache.activemq.broker.jmx.ManagementContext.unregisterMBean(ManagementContext.java:451) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,connector=clientConnectors,connectorName=amqp_//7d8ed0b1a3a5_39699&qe;transport.tcpNoDelay&amp;true&transport.transformer&amp;jms
2021-08-17 07:35:33,278 INFO  org.apache.activemq.broker.TransportConnector.stop(TransportConnector.java:311) Connector amqp://7d8ed0b1a3a5:39699?transport.tcpNoDelay=true&transport.transformer=jms stopped
2021-08-17 07:35:33,278 TRACE org.apache.activemq.thread.PooledTaskRunner.shutdown(PooledTaskRunner.java:95) Shutdown timeout: 0 task: queue://testMessagesAreAckedAMQProducer, subscriptions=0, memory=0%, size=0, pending=0
2021-08-17 07:35:33,278 DEBUG org.apache.activemq.broker.jmx.ManagementContext.unregisterMBean(ManagementContext.java:451) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,destinationType=Queue,destinationName=testMessagesAreAckedAMQProducer
2021-08-17 07:35:33,279 INFO  org.apache.activemq.store.kahadb.plist.PListStoreImpl.doStop(PListStoreImpl.java:396) PListStore:[/data/activemq/activemq-main-log-adjust/activemq-amqp/activemq-data/localhost/tmp_storage] stopped
2021-08-17 07:35:33,279 INFO  org.apache.activemq.store.kahadb.KahaDBStore.doStop(KahaDBStore.java:268) Stopping async queue tasks
2021-08-17 07:35:33,279 INFO  org.apache.activemq.store.kahadb.KahaDBStore.doStop(KahaDBStore.java:282) Stopping async topic tasks
2021-08-17 07:35:33,279 DEBUG org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:54) Forcing shutdown of ExecutorService: org.apache.activemq.store.kahadb.KahaDBStore$StoreTaskExecutor@5d97caa4[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
2021-08-17 07:35:33,279 TRACE org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:57) Shutdown of ExecutorService: org.apache.activemq.store.kahadb.KahaDBStore$StoreTaskExecutor@5d97caa4[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true.
2021-08-17 07:35:33,279 DEBUG org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:54) Forcing shutdown of ExecutorService: org.apache.activemq.store.kahadb.KahaDBStore$StoreTaskExecutor@6732726[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
2021-08-17 07:35:33,279 TRACE org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:57) Shutdown of ExecutorService: org.apache.activemq.store.kahadb.KahaDBStore$StoreTaskExecutor@6732726[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true.
2021-08-17 07:35:33,279 INFO  org.apache.activemq.store.kahadb.KahaDBStore.doStop(KahaDBStore.java:310) Stopped KahaDB
2021-08-17 07:35:33,280 DEBUG org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1809) Checkpoint started.
2021-08-17 07:35:33,291 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1831) Last update: 1:4641, full gc candidates set: [1]
2021-08-17 07:35:33,291 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1855) gc candidates after producerSequenceIdTrackerLocation:1:4719, []
2021-08-17 07:35:33,292 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1863) gc candidates after ackMessageFileMapLocation:1:5493, []
2021-08-17 07:35:33,292 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1874) gc candidates after in progress tx range:[null, null], []
2021-08-17 07:35:33,292 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1977) gc candidates: []
2021-08-17 07:35:33,292 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1978) ackMessageFileMap: {1=[1]}
2021-08-17 07:35:33,292 TRACE org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:2044) Not yet time to check for compaction: 1 of 10 cycles
2021-08-17 07:35:33,292 DEBUG org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:2053) Checkpoint done.
2021-08-17 07:35:33,380 TRACE org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:111) Shutdown of ExecutorService: java.util.concurrent.ScheduledThreadPoolExecutor@6e6d4780[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 0] with await termination: 4000 millis
2021-08-17 07:35:33,381 DEBUG org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:155) Shutdown of ExecutorService: java.util.concurrent.ScheduledThreadPoolExecutor@6e6d4780[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true took: 0.000 seconds.
2021-08-17 07:35:33,381 TRACE org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:111) Shutdown of ExecutorService: java.util.concurrent.Executors$DelegatedScheduledExecutorService@650ae78c with await termination: -1 millis
2021-08-17 07:35:33,381 DEBUG org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:155) Shutdown of ExecutorService: java.util.concurrent.Executors$DelegatedScheduledExecutorService@650ae78c is shutdown: true and terminated: true took: 0.000 seconds.
2021-08-17 07:35:33,381 DEBUG org.apache.activemq.broker.jmx.ManagementContext.stop(ManagementContext.java:205) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost
2021-08-17 07:35:33,381 DEBUG org.apache.activemq.broker.jmx.ManagementContext.stop(ManagementContext.java:205) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,service=Health
2021-08-17 07:35:33,381 DEBUG org.apache.activemq.broker.jmx.ManagementContext.stop(ManagementContext.java:205) Unregistering MBean org.apache.activemq:type=Broker,brokerName=localhost,service=Log4JConfiguration
2021-08-17 07:35:33,381 TRACE org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:111) Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@464b7667[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] with await termination: 0 millis
2021-08-17 07:35:33,382 DEBUG org.apache.activemq.util.ThreadPoolUtils.doShutdown(ThreadPoolUtils.java:155) Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@464b7667[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true took: 0.001 seconds.
2021-08-17 07:35:33,382 DEBUG org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:54) Forcing shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@2e73d5eb[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
2021-08-17 07:35:33,382 TRACE org.apache.activemq.util.ThreadPoolUtils.shutdownNow(ThreadPoolUtils.java:57) Shutdown of ExecutorService: java.util.concurrent.ThreadPoolExecutor@2e73d5eb[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0] is shutdown: true and terminated: true.
2021-08-17 07:35:33,382 INFO  org.apache.activemq.broker.BrokerService.stop(BrokerService.java:876) Apache ActiveMQ 5.17.0-SNAPSHOT (localhost, ID:7d8ed0b1a3a5-37387-1629213796302-0:514) uptime 0.165 seconds
2021-08-17 07:35:33,382 INFO  org.apache.activemq.broker.BrokerService.stop(BrokerService.java:878) Apache ActiveMQ 5.17.0-SNAPSHOT (localhost, ID:7d8ed0b1a3a5-37387-1629213796302-0:514) is shutdown
2021-08-17 07:35:33,382 DEBUG org.apache.activemq.transport.amqp.AmqpTestSupport.stopBroker(AmqpTestSupport.java:268) exiting AmqpTestSupport.stopBroker
2021-08-17 07:35:33,382 INFO  org.apache.activemq.transport.amqp.AmqpTestSupport.tearDown(AmqpTestSupport.java:273) ========== tearDown testMessagesAreAckedAMQProducer ==========
